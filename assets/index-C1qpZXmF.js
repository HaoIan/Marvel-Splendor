(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function l(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(c){if(c.ep)return;c.ep=!0;const d=l(c);fetch(c.href,d)}})();function Am(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ru={exports:{}},Or={};var ug;function jm(){if(ug)return Or;ug=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(s,c,d){var h=null;if(d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:r,type:s,key:h,ref:c!==void 0?c:null,props:d}}return Or.Fragment=a,Or.jsx=l,Or.jsxs=l,Or}var cg;function Om(){return cg||(cg=1,Ru.exports=jm()),Ru.exports}var v=Om(),Cu={exports:{}},he={};var dg;function km(){if(dg)return he;dg=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function C(E){return E===null||typeof E!="object"?null:(E=w&&E[w]||E["@@iterator"],typeof E=="function"?E:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,B={};function G(E,L,K){this.props=E,this.context=L,this.refs=B,this.updater=K||A}G.prototype.isReactComponent={},G.prototype.setState=function(E,L){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,L,"setState")},G.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function $(){}$.prototype=G.prototype;function H(E,L,K){this.props=E,this.context=L,this.refs=B,this.updater=K||A}var I=H.prototype=new $;I.constructor=H,U(I,G.prototype),I.isPureReactComponent=!0;var ce=Array.isArray;function te(){}var J={H:null,A:null,T:null,S:null},Ne=Object.prototype.hasOwnProperty;function Ve(E,L,K){var Z=K.ref;return{$$typeof:r,type:E,key:L,ref:Z!==void 0?Z:null,props:K}}function $t(E,L){return Ve(E.type,L,E.props)}function St(E){return typeof E=="object"&&E!==null&&E.$$typeof===r}function ne(E){var L={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(K){return L[K]})}var Me=/\/+/g;function je(E,L){return typeof E=="object"&&E!==null&&E.key!=null?ne(""+E.key):L.toString(36)}function ut(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(te,te):(E.status="pending",E.then(function(L){E.status==="pending"&&(E.status="fulfilled",E.value=L)},function(L){E.status==="pending"&&(E.status="rejected",E.reason=L)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function N(E,L,K,Z,de){var fe=typeof E;(fe==="undefined"||fe==="boolean")&&(E=null);var ge=!1;if(E===null)ge=!0;else switch(fe){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(E.$$typeof){case r:case a:ge=!0;break;case b:return ge=E._init,N(ge(E._payload),L,K,Z,de)}}if(ge)return de=de(E),ge=Z===""?"."+je(E,0):Z,ce(de)?(K="",ge!=null&&(K=ge.replace(Me,"$&/")+"/"),N(de,L,K,"",function(on){return on})):de!=null&&(St(de)&&(de=$t(de,K+(de.key==null||E&&E.key===de.key?"":(""+de.key).replace(Me,"$&/")+"/")+ge)),L.push(de)),1;ge=0;var Fe=Z===""?".":Z+":";if(ce(E))for(var Ce=0;Ce<E.length;Ce++)Z=E[Ce],fe=Fe+je(Z,Ce),ge+=N(Z,L,K,fe,de);else if(Ce=C(E),typeof Ce=="function")for(E=Ce.call(E),Ce=0;!(Z=E.next()).done;)Z=Z.value,fe=Fe+je(Z,Ce++),ge+=N(Z,L,K,fe,de);else if(fe==="object"){if(typeof E.then=="function")return N(ut(E),L,K,Z,de);throw L=String(E),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ge}function Y(E,L,K){if(E==null)return E;var Z=[],de=0;return N(E,Z,"","",function(fe){return L.call(K,fe,de++)}),Z}function le(E){if(E._status===-1){var L=E._result;L=L(),L.then(function(K){(E._status===0||E._status===-1)&&(E._status=1,E._result=K)},function(K){(E._status===0||E._status===-1)&&(E._status=2,E._result=K)}),E._status===-1&&(E._status=0,E._result=L)}if(E._status===1)return E._result.default;throw E._result}var Oe=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},Re={map:Y,forEach:function(E,L,K){Y(E,function(){L.apply(this,arguments)},K)},count:function(E){var L=0;return Y(E,function(){L++}),L},toArray:function(E){return Y(E,function(L){return L})||[]},only:function(E){if(!St(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return he.Activity=T,he.Children=Re,he.Component=G,he.Fragment=l,he.Profiler=c,he.PureComponent=H,he.StrictMode=s,he.Suspense=p,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,he.__COMPILER_RUNTIME={__proto__:null,c:function(E){return J.H.useMemoCache(E)}},he.cache=function(E){return function(){return E.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(E,L,K){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var Z=U({},E.props),de=E.key;if(L!=null)for(fe in L.key!==void 0&&(de=""+L.key),L)!Ne.call(L,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&L.ref===void 0||(Z[fe]=L[fe]);var fe=arguments.length-2;if(fe===1)Z.children=K;else if(1<fe){for(var ge=Array(fe),Fe=0;Fe<fe;Fe++)ge[Fe]=arguments[Fe+2];Z.children=ge}return Ve(E.type,de,Z)},he.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:d,_context:E},E},he.createElement=function(E,L,K){var Z,de={},fe=null;if(L!=null)for(Z in L.key!==void 0&&(fe=""+L.key),L)Ne.call(L,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(de[Z]=L[Z]);var ge=arguments.length-2;if(ge===1)de.children=K;else if(1<ge){for(var Fe=Array(ge),Ce=0;Ce<ge;Ce++)Fe[Ce]=arguments[Ce+2];de.children=Fe}if(E&&E.defaultProps)for(Z in ge=E.defaultProps,ge)de[Z]===void 0&&(de[Z]=ge[Z]);return Ve(E,fe,de)},he.createRef=function(){return{current:null}},he.forwardRef=function(E){return{$$typeof:g,render:E}},he.isValidElement=St,he.lazy=function(E){return{$$typeof:b,_payload:{_status:-1,_result:E},_init:le}},he.memo=function(E,L){return{$$typeof:y,type:E,compare:L===void 0?null:L}},he.startTransition=function(E){var L=J.T,K={};J.T=K;try{var Z=E(),de=J.S;de!==null&&de(K,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(te,Oe)}catch(fe){Oe(fe)}finally{L!==null&&K.types!==null&&(L.types=K.types),J.T=L}},he.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},he.use=function(E){return J.H.use(E)},he.useActionState=function(E,L,K){return J.H.useActionState(E,L,K)},he.useCallback=function(E,L){return J.H.useCallback(E,L)},he.useContext=function(E){return J.H.useContext(E)},he.useDebugValue=function(){},he.useDeferredValue=function(E,L){return J.H.useDeferredValue(E,L)},he.useEffect=function(E,L){return J.H.useEffect(E,L)},he.useEffectEvent=function(E){return J.H.useEffectEvent(E)},he.useId=function(){return J.H.useId()},he.useImperativeHandle=function(E,L,K){return J.H.useImperativeHandle(E,L,K)},he.useInsertionEffect=function(E,L){return J.H.useInsertionEffect(E,L)},he.useLayoutEffect=function(E,L){return J.H.useLayoutEffect(E,L)},he.useMemo=function(E,L){return J.H.useMemo(E,L)},he.useOptimistic=function(E,L){return J.H.useOptimistic(E,L)},he.useReducer=function(E,L,K){return J.H.useReducer(E,L,K)},he.useRef=function(E){return J.H.useRef(E)},he.useState=function(E){return J.H.useState(E)},he.useSyncExternalStore=function(E,L,K){return J.H.useSyncExternalStore(E,L,K)},he.useTransition=function(){return J.H.useTransition()},he.version="19.2.3",he}var hg;function rc(){return hg||(hg=1,Cu.exports=km()),Cu.exports}var Q=rc();const ns=Am(Q);var Nu={exports:{}},kr={},Du={exports:{}},Uu={};var fg;function Rm(){return fg||(fg=1,(function(r){function a(N,Y){var le=N.length;N.push(Y);e:for(;0<le;){var Oe=le-1>>>1,Re=N[Oe];if(0<c(Re,Y))N[Oe]=Y,N[le]=Re,le=Oe;else break e}}function l(N){return N.length===0?null:N[0]}function s(N){if(N.length===0)return null;var Y=N[0],le=N.pop();if(le!==Y){N[0]=le;e:for(var Oe=0,Re=N.length,E=Re>>>1;Oe<E;){var L=2*(Oe+1)-1,K=N[L],Z=L+1,de=N[Z];if(0>c(K,le))Z<Re&&0>c(de,K)?(N[Oe]=de,N[Z]=le,Oe=Z):(N[Oe]=K,N[L]=le,Oe=L);else if(Z<Re&&0>c(de,le))N[Oe]=de,N[Z]=le,Oe=Z;else break e}}return Y}function c(N,Y){var le=N.sortIndex-Y.sortIndex;return le!==0?le:N.id-Y.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var h=Date,g=h.now();r.unstable_now=function(){return h.now()-g}}var p=[],y=[],b=1,T=null,w=3,C=!1,A=!1,U=!1,B=!1,G=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function I(N){for(var Y=l(y);Y!==null;){if(Y.callback===null)s(y);else if(Y.startTime<=N)s(y),Y.sortIndex=Y.expirationTime,a(p,Y);else break;Y=l(y)}}function ce(N){if(U=!1,I(N),!A)if(l(p)!==null)A=!0,te||(te=!0,ne());else{var Y=l(y);Y!==null&&ut(ce,Y.startTime-N)}}var te=!1,J=-1,Ne=5,Ve=-1;function $t(){return B?!0:!(r.unstable_now()-Ve<Ne)}function St(){if(B=!1,te){var N=r.unstable_now();Ve=N;var Y=!0;try{e:{A=!1,U&&(U=!1,$(J),J=-1),C=!0;var le=w;try{t:{for(I(N),T=l(p);T!==null&&!(T.expirationTime>N&&$t());){var Oe=T.callback;if(typeof Oe=="function"){T.callback=null,w=T.priorityLevel;var Re=Oe(T.expirationTime<=N);if(N=r.unstable_now(),typeof Re=="function"){T.callback=Re,I(N),Y=!0;break t}T===l(p)&&s(p),I(N)}else s(p);T=l(p)}if(T!==null)Y=!0;else{var E=l(y);E!==null&&ut(ce,E.startTime-N),Y=!1}}break e}finally{T=null,w=le,C=!1}Y=void 0}}finally{Y?ne():te=!1}}}var ne;if(typeof H=="function")ne=function(){H(St)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,je=Me.port2;Me.port1.onmessage=St,ne=function(){je.postMessage(null)}}else ne=function(){G(St,0)};function ut(N,Y){J=G(function(){N(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(N){N.callback=null},r.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ne=0<N?Math.floor(1e3/N):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(N){switch(w){case 1:case 2:case 3:var Y=3;break;default:Y=w}var le=w;w=Y;try{return N()}finally{w=le}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(N,Y){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var le=w;w=N;try{return Y()}finally{w=le}},r.unstable_scheduleCallback=function(N,Y,le){var Oe=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Oe+le:Oe):le=Oe,N){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=le+Re,N={id:b++,callback:Y,priorityLevel:N,startTime:le,expirationTime:Re,sortIndex:-1},le>Oe?(N.sortIndex=le,a(y,N),l(p)===null&&N===l(y)&&(U?($(J),J=-1):U=!0,ut(ce,le-Oe))):(N.sortIndex=Re,a(p,N),A||C||(A=!0,te||(te=!0,ne()))),N},r.unstable_shouldYield=$t,r.unstable_wrapCallback=function(N){var Y=w;return function(){var le=w;w=Y;try{return N.apply(this,arguments)}finally{w=le}}}})(Uu)),Uu}var gg;function Cm(){return gg||(gg=1,Du.exports=Rm()),Du.exports}var zu={exports:{}},_t={};var pg;function Nm(){if(pg)return _t;pg=1;var r=rc();function a(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var s={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(p,y,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:T==null?null:""+T,children:p,containerInfo:y,implementation:b}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return _t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,_t.createPortal=function(p,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(a(299));return d(p,y,null,b)},_t.flushSync=function(p){var y=h.T,b=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=y,s.p=b,s.d.f()}},_t.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},_t.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},_t.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var b=y.as,T=g(b,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,C=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:C}):b==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:C,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},_t.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},_t.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,T=g(b,y.crossOrigin);s.d.L(p,b,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},_t.preloadModule=function(p,y){if(typeof p=="string")if(y){var b=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},_t.requestFormReset=function(p){s.d.r(p)},_t.unstable_batchedUpdates=function(p,y){return p(y)},_t.useFormState=function(p,y,b){return h.H.useFormState(p,y,b)},_t.useFormStatus=function(){return h.H.useHostTransitionStatus()},_t.version="19.2.3",_t}var mg;function Kg(){if(mg)return zu.exports;mg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),zu.exports=Nm(),zu.exports}var yg;function Dm(){if(yg)return kr;yg=1;var r=Cm(),a=rc(),l=Kg();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(s(188))}function y(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var u=o.alternate;if(u===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===n)return p(o),e;if(u===i)return p(o),t;u=u.sibling}throw Error(s(188))}if(n.return!==i.return)n=o,i=u;else{for(var f=!1,m=o.child;m;){if(m===n){f=!0,n=o,i=u;break}if(m===i){f=!0,i=o,n=u;break}m=m.sibling}if(!f){for(m=u.child;m;){if(m===n){f=!0,n=u,i=o;break}if(m===i){f=!0,i=u,n=o;break}m=m.sibling}if(!f)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),H=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),Ve=Symbol.for("react.activity"),$t=Symbol.for("react.memo_cache_sentinel"),St=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=St&&e[St]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Symbol.for("react.client.reference");function je(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Me?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case G:return"Profiler";case B:return"StrictMode";case ce:return"Suspense";case te:return"SuspenseList";case Ve:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case H:return e.displayName||"Context";case $:return(e._context.displayName||"Context")+".Consumer";case I:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return t=e.displayName||null,t!==null?t:je(e.type)||"Memo";case Ne:t=e._payload,e=e._init;try{return je(e(t))}catch{}}return null}var ut=Array.isArray,N=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Oe=[],Re=-1;function E(e){return{current:e}}function L(e){0>Re||(e.current=Oe[Re],Oe[Re]=null,Re--)}function K(e,t){Re++,Oe[Re]=e.current,e.current=t}var Z=E(null),de=E(null),fe=E(null),ge=E(null);function Fe(e,t){switch(K(fe,t),K(de,e),K(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Nf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Nf(t),e=Df(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(Z),K(Z,e)}function Ce(){L(Z),L(de),L(fe)}function on(e){e.memoizedState!==null&&K(ge,e);var t=Z.current,n=Df(t,e.type);t!==n&&(K(de,e),K(Z,n))}function Da(e){de.current===e&&(L(Z),L(de)),ge.current===e&&(L(ge),Tr._currentValue=le)}var Gt,zi;function un(e){if(Gt===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gt=t&&t[1]||"",zi=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gt+e+zi}var Ua=!1;function za(e,t){if(!e||Ua)return"";Ua=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(D){var R=D}Reflect.construct(e,[],q)}else{try{q.call()}catch(D){R=D}e.call(q.prototype)}}else{try{throw Error()}catch(D){R=D}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(D){if(D&&R&&typeof D.stack=="string")return[D.stack,R.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=i.DetermineComponentFrameRoot(),f=u[0],m=u[1];if(f&&m){var _=f.split(`
`),k=m.split(`
`);for(o=i=0;i<_.length&&!_[i].includes("DetermineComponentFrameRoot");)i++;for(;o<k.length&&!k[o].includes("DetermineComponentFrameRoot");)o++;if(i===_.length||o===k.length)for(i=_.length-1,o=k.length-1;1<=i&&0<=o&&_[i]!==k[o];)o--;for(;1<=i&&0<=o;i--,o--)if(_[i]!==k[o]){if(i!==1||o!==1)do if(i--,o--,0>o||_[i]!==k[o]){var z=`
`+_[i].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=i&&0<=o);break}}}finally{Ua=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?un(n):""}function Un(e,t){switch(e.tag){case 26:case 27:case 5:return un(e.type);case 16:return un("Lazy");case 13:return e.child!==t&&t!==null?un("Suspense Fallback"):un("Suspense");case 19:return un("SuspenseList");case 0:case 15:return za(e.type,!1);case 11:return za(e.type.render,!1);case 1:return za(e.type,!0);case 31:return un("Activity");default:return""}}function Hr(e){try{var t="",n=null;do t+=Un(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Ma=Object.prototype.hasOwnProperty,Ba=r.unstable_scheduleCallback,qa=r.unstable_cancelCallback,Mi=r.unstable_shouldYield,$r=r.unstable_requestPaint,j=r.unstable_now,X=r.unstable_getCurrentPriorityLevel,W=r.unstable_ImmediatePriority,Ee=r.unstable_UserBlockingPriority,me=r.unstable_NormalPriority,ie=r.unstable_LowPriority,ue=r.unstable_IdlePriority,De=r.log,Et=r.unstable_setDisableYieldValue,Ye=null,$e=null;function Te(e){if(typeof De=="function"&&Et(e),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Ye,e)}catch{}}var Be=Math.clz32?Math.clz32:ms,zn=Math.log,Mn=Math.LN2;function ms(e){return e>>>=0,e===0?32:31-(zn(e)/Mn|0)|0}var La=256,It=262144,Gr=4194304;function ua(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ir(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var o=0,u=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var m=i&134217727;return m!==0?(i=m&~u,i!==0?o=ua(i):(f&=m,f!==0?o=ua(f):n||(n=m&~e,n!==0&&(o=ua(n))))):(m=i&~u,m!==0?o=ua(m):f!==0?o=ua(f):n||(n=i&~e,n!==0&&(o=ua(n)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:o}function Bi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function fp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hc(){var e=Gr;return Gr<<=1,(Gr&62914560)===0&&(Gr=4194304),e}function ys(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gp(e,t,n,i,o,u){var f=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var m=e.entanglements,_=e.expirationTimes,k=e.hiddenUpdates;for(n=f&~n;0<n;){var z=31-Be(n),q=1<<z;m[z]=0,_[z]=-1;var R=k[z];if(R!==null)for(k[z]=null,z=0;z<R.length;z++){var D=R[z];D!==null&&(D.lane&=-536870913)}n&=~q}i!==0&&fc(e,i,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(f&~t))}function fc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Be(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function gc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Be(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}function pc(e,t){var n=t&-t;return n=(n&42)!==0?1:vs(n),(n&(e.suspendedLanes|t))!==0?0:n}function vs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function bs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function mc(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:ng(e.type))}function yc(e,t){var n=Y.p;try{return Y.p=e,t()}finally{Y.p=n}}var Bn=Math.random().toString(36).slice(2),ht="__reactFiber$"+Bn,Tt="__reactProps$"+Bn,Ha="__reactContainer$"+Bn,_s="__reactEvents$"+Bn,pp="__reactListeners$"+Bn,mp="__reactHandles$"+Bn,vc="__reactResources$"+Bn,Li="__reactMarker$"+Bn;function ws(e){delete e[ht],delete e[Tt],delete e[_s],delete e[pp],delete e[mp]}function $a(e){var t=e[ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ha]||n[ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hf(e);e!==null;){if(n=e[ht])return n;e=Hf(e)}return t}e=n,n=e.parentNode}return null}function Ga(e){if(e=e[ht]||e[Ha]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Hi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Ia(e){var t=e[vc];return t||(t=e[vc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ct(e){e[Li]=!0}var bc=new Set,_c={};function ca(e,t){Va(e,t),Va(e+"Capture",t)}function Va(e,t){for(_c[e]=t,e=0;e<t.length;e++)bc.add(t[e])}var yp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wc={},Sc={};function vp(e){return Ma.call(Sc,e)?!0:Ma.call(wc,e)?!1:yp.test(e)?Sc[e]=!0:(wc[e]=!0,!1)}function Vr(e,t,n){if(vp(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Yr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function gn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Vt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ec(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bp(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,u=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(f){n=""+f,u.call(this,f)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(f){n=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ss(e){if(!e._valueTracker){var t=Ec(e)?"checked":"value";e._valueTracker=bp(e,t,""+e[t])}}function Tc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Ec(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Kr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _p=/[\n"\\]/g;function Yt(e){return e.replace(_p,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Es(e,t,n,i,o,u,f,m){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Vt(t)):e.value!==""+Vt(t)&&(e.value=""+Vt(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?Ts(e,f,Vt(t)):n!=null?Ts(e,f,Vt(n)):i!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.name=""+Vt(m):e.removeAttribute("name")}function xc(e,t,n,i,o,u,f,m){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Ss(e);return}n=n!=null?""+Vt(n):"",t=t!=null?""+Vt(t):n,m||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=m?e.checked:!!i,e.defaultChecked=!!i,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),Ss(e)}function Ts(e,t,n){t==="number"&&Kr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ya(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Vt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ac(e,t,n){if(t!=null&&(t=""+Vt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Vt(n):""}function jc(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(s(92));if(ut(i)){if(1<i.length)throw Error(s(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Vt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Ss(e)}function Ka(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oc(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||wp.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function kc(e,t,n){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&n[o]!==i&&Oc(e,o,i)}else for(var u in t)t.hasOwnProperty(u)&&Oc(e,u,t[u])}function xs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ep=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xr(e){return Ep.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function pn(){}var As=null;function js(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xa=null,Qa=null;function Rc(e){var t=Ga(e);if(t&&(e=t.stateNode)){var n=e[Tt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Es(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=i[Tt]||null;if(!o)throw Error(s(90));Es(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Tc(i)}break e;case"textarea":Ac(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ya(e,!!n.multiple,t,!1)}}}var Os=!1;function Cc(e,t,n){if(Os)return e(t,n);Os=!0;try{var i=e(t);return i}finally{if(Os=!1,(Xa!==null||Qa!==null)&&(Ul(),Xa&&(t=Xa,e=Qa,Qa=Xa=null,Rc(t),e)))for(t=0;t<e.length;t++)Rc(e[t])}}function $i(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Tt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ks=!1;if(mn)try{var Gi={};Object.defineProperty(Gi,"passive",{get:function(){ks=!0}}),window.addEventListener("test",Gi,Gi),window.removeEventListener("test",Gi,Gi)}catch{ks=!1}var qn=null,Rs=null,Qr=null;function Nc(){if(Qr)return Qr;var e,t=Rs,n=t.length,i,o="value"in qn?qn.value:qn.textContent,u=o.length;for(e=0;e<n&&t[e]===o[e];e++);var f=n-e;for(i=1;i<=f&&t[n-i]===o[u-i];i++);return Qr=o.slice(e,1<i?1-i:void 0)}function Jr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zr(){return!0}function Dc(){return!1}function xt(e){function t(n,i,o,u,f){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=u,this.target=f,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(u):u[m]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Zr:Dc,this.isPropagationStopped=Dc,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),t}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pr=xt(da),Ii=T({},da,{view:0,detail:0}),Tp=xt(Ii),Cs,Ns,Vi,Wr=T({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vi&&(Vi&&e.type==="mousemove"?(Cs=e.screenX-Vi.screenX,Ns=e.screenY-Vi.screenY):Ns=Cs=0,Vi=e),Cs)},movementY:function(e){return"movementY"in e?e.movementY:Ns}}),Uc=xt(Wr),xp=T({},Wr,{dataTransfer:0}),Ap=xt(xp),jp=T({},Ii,{relatedTarget:0}),Ds=xt(jp),Op=T({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),kp=xt(Op),Rp=T({},da,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cp=xt(Rp),Np=T({},da,{data:0}),zc=xt(Np),Dp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Up={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zp[e])?!!t[e]:!1}function Us(){return Mp}var Bp=T({},Ii,{key:function(e){if(e.key){var t=Dp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Up[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(e){return e.type==="keypress"?Jr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qp=xt(Bp),Lp=T({},Wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mc=xt(Lp),Hp=T({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),$p=xt(Hp),Gp=T({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ip=xt(Gp),Vp=T({},Wr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yp=xt(Vp),Kp=T({},da,{newState:0,oldState:0}),Xp=xt(Kp),Qp=[9,13,27,32],zs=mn&&"CompositionEvent"in window,Yi=null;mn&&"documentMode"in document&&(Yi=document.documentMode);var Jp=mn&&"TextEvent"in window&&!Yi,Bc=mn&&(!zs||Yi&&8<Yi&&11>=Yi),qc=" ",Lc=!1;function Hc(e,t){switch(e){case"keyup":return Qp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $c(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ja=!1;function Zp(e,t){switch(e){case"compositionend":return $c(t);case"keypress":return t.which!==32?null:(Lc=!0,qc);case"textInput":return e=t.data,e===qc&&Lc?null:e;default:return null}}function Pp(e,t){if(Ja)return e==="compositionend"||!zs&&Hc(e,t)?(e=Nc(),Qr=Rs=qn=null,Ja=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bc&&t.locale!=="ko"?null:t.data;default:return null}}var Wp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wp[e.type]:t==="textarea"}function Ic(e,t,n,i){Xa?Qa?Qa.push(i):Qa=[i]:Xa=i,t=$l(t,"onChange"),0<t.length&&(n=new Pr("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ki=null,Xi=null;function Fp(e){Af(e,0)}function Fr(e){var t=Hi(e);if(Tc(t))return e}function Vc(e,t){if(e==="change")return t}var Yc=!1;if(mn){var Ms;if(mn){var Bs="oninput"in document;if(!Bs){var Kc=document.createElement("div");Kc.setAttribute("oninput","return;"),Bs=typeof Kc.oninput=="function"}Ms=Bs}else Ms=!1;Yc=Ms&&(!document.documentMode||9<document.documentMode)}function Xc(){Ki&&(Ki.detachEvent("onpropertychange",Qc),Xi=Ki=null)}function Qc(e){if(e.propertyName==="value"&&Fr(Xi)){var t=[];Ic(t,Xi,e,js(e)),Cc(Fp,t)}}function e0(e,t,n){e==="focusin"?(Xc(),Ki=t,Xi=n,Ki.attachEvent("onpropertychange",Qc)):e==="focusout"&&Xc()}function t0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fr(Xi)}function n0(e,t){if(e==="click")return Fr(t)}function a0(e,t){if(e==="input"||e==="change")return Fr(t)}function i0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:i0;function Qi(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!Ma.call(t,o)||!Ct(e[o],t[o]))return!1}return!0}function Jc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zc(e,t){var n=Jc(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jc(n)}}function Pc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Kr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Kr(e.document)}return t}function qs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var r0=mn&&"documentMode"in document&&11>=document.documentMode,Za=null,Ls=null,Ji=null,Hs=!1;function Fc(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hs||Za==null||Za!==Kr(i)||(i=Za,"selectionStart"in i&&qs(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ji&&Qi(Ji,i)||(Ji=i,i=$l(Ls,"onSelect"),0<i.length&&(t=new Pr("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Za)))}function ha(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pa={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},$s={},ed={};mn&&(ed=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function fa(e){if($s[e])return $s[e];if(!Pa[e])return e;var t=Pa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ed)return $s[e]=t[n];return e}var td=fa("animationend"),nd=fa("animationiteration"),ad=fa("animationstart"),l0=fa("transitionrun"),s0=fa("transitionstart"),o0=fa("transitioncancel"),id=fa("transitionend"),rd=new Map,Gs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gs.push("scrollEnd");function tn(e,t){rd.set(e,t),ca(t,[e])}var el=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Kt=[],Wa=0,Is=0;function tl(){for(var e=Wa,t=Is=Wa=0;t<e;){var n=Kt[t];Kt[t++]=null;var i=Kt[t];Kt[t++]=null;var o=Kt[t];Kt[t++]=null;var u=Kt[t];if(Kt[t++]=null,i!==null&&o!==null){var f=i.pending;f===null?o.next=o:(o.next=f.next,f.next=o),i.pending=o}u!==0&&ld(n,o,u)}}function nl(e,t,n,i){Kt[Wa++]=e,Kt[Wa++]=t,Kt[Wa++]=n,Kt[Wa++]=i,Is|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Vs(e,t,n,i){return nl(e,t,n,i),al(e)}function ga(e,t){return nl(e,null,null,t),al(e)}function ld(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var o=!1,u=e.return;u!==null;)u.childLanes|=n,i=u.alternate,i!==null&&(i.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-Be(n),e=u.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=n|536870912),u):null}function al(e){if(50<yr)throw yr=0,eu=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Fa={};function u0(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,n,i){return new u0(e,t,n,i)}function Ys(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yn(e,t){var n=e.alternate;return n===null?(n=Nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function sd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function il(e,t,n,i,o,u){var f=0;if(i=e,typeof e=="function")Ys(e)&&(f=1);else if(typeof e=="string")f=gm(e,n,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ve:return e=Nt(31,n,t,o),e.elementType=Ve,e.lanes=u,e;case U:return pa(n.children,o,u,t);case B:f=8,o|=24;break;case G:return e=Nt(12,n,t,o|2),e.elementType=G,e.lanes=u,e;case ce:return e=Nt(13,n,t,o),e.elementType=ce,e.lanes=u,e;case te:return e=Nt(19,n,t,o),e.elementType=te,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:f=10;break e;case $:f=9;break e;case I:f=11;break e;case J:f=14;break e;case Ne:f=16,i=null;break e}f=29,n=Error(s(130,e===null?"null":typeof e,"")),i=null}return t=Nt(f,n,t,o),t.elementType=e,t.type=i,t.lanes=u,t}function pa(e,t,n,i){return e=Nt(7,e,i,t),e.lanes=n,e}function Ks(e,t,n){return e=Nt(6,e,null,t),e.lanes=n,e}function od(e){var t=Nt(18,null,null,0);return t.stateNode=e,t}function Xs(e,t,n){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ud=new WeakMap;function Xt(e,t){if(typeof e=="object"&&e!==null){var n=ud.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Hr(t)},ud.set(e,t),t)}return{value:e,source:t,stack:Hr(t)}}var ei=[],ti=0,rl=null,Zi=0,Qt=[],Jt=0,Ln=null,cn=1,dn="";function vn(e,t){ei[ti++]=Zi,ei[ti++]=rl,rl=e,Zi=t}function cd(e,t,n){Qt[Jt++]=cn,Qt[Jt++]=dn,Qt[Jt++]=Ln,Ln=e;var i=cn;e=dn;var o=32-Be(i)-1;i&=~(1<<o),n+=1;var u=32-Be(t)+o;if(30<u){var f=o-o%5;u=(i&(1<<f)-1).toString(32),i>>=f,o-=f,cn=1<<32-Be(t)+o|n<<o|i,dn=u+e}else cn=1<<u|n<<o|i,dn=e}function Qs(e){e.return!==null&&(vn(e,1),cd(e,1,0))}function Js(e){for(;e===rl;)rl=ei[--ti],ei[ti]=null,Zi=ei[--ti],ei[ti]=null;for(;e===Ln;)Ln=Qt[--Jt],Qt[Jt]=null,dn=Qt[--Jt],Qt[Jt]=null,cn=Qt[--Jt],Qt[Jt]=null}function dd(e,t){Qt[Jt++]=cn,Qt[Jt++]=dn,Qt[Jt++]=Ln,cn=t.id,dn=t.overflow,Ln=e}var ft=null,Ke=null,Se=!1,Hn=null,Zt=!1,Zs=Error(s(519));function $n(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pi(Xt(t,e)),Zs}function hd(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[ht]=e,t[Tt]=i,n){case"dialog":be("cancel",t),be("close",t);break;case"iframe":case"object":case"embed":be("load",t);break;case"video":case"audio":for(n=0;n<br.length;n++)be(br[n],t);break;case"source":be("error",t);break;case"img":case"image":case"link":be("error",t),be("load",t);break;case"details":be("toggle",t);break;case"input":be("invalid",t),xc(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":be("invalid",t);break;case"textarea":be("invalid",t),jc(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Rf(t.textContent,n)?(i.popover!=null&&(be("beforetoggle",t),be("toggle",t)),i.onScroll!=null&&be("scroll",t),i.onScrollEnd!=null&&be("scrollend",t),i.onClick!=null&&(t.onclick=pn),t=!0):t=!1,t||$n(e,!0)}function fd(e){for(ft=e.return;ft;)switch(ft.tag){case 5:case 31:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:ft=ft.return}}function ni(e){if(e!==ft)return!1;if(!Se)return fd(e),Se=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||pu(e.type,e.memoizedProps)),n=!n),n&&Ke&&$n(e),fd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ke=Lf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ke=Lf(e)}else t===27?(t=Ke,ta(e.type)?(e=_u,_u=null,Ke=e):Ke=t):Ke=ft?Wt(e.stateNode.nextSibling):null;return!0}function ma(){Ke=ft=null,Se=!1}function Ps(){var e=Hn;return e!==null&&(kt===null?kt=e:kt.push.apply(kt,e),Hn=null),e}function Pi(e){Hn===null?Hn=[e]:Hn.push(e)}var Ws=E(null),ya=null,bn=null;function Gn(e,t,n){K(Ws,t._currentValue),t._currentValue=n}function _n(e){e._currentValue=Ws.current,L(Ws)}function Fs(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function eo(e,t,n,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var f=o.child;u=u.firstContext;e:for(;u!==null;){var m=u;u=o;for(var _=0;_<t.length;_++)if(m.context===t[_]){u.lanes|=n,m=u.alternate,m!==null&&(m.lanes|=n),Fs(u.return,n,e),i||(f=null);break e}u=m.next}}else if(o.tag===18){if(f=o.return,f===null)throw Error(s(341));f.lanes|=n,u=f.alternate,u!==null&&(u.lanes|=n),Fs(f,n,e),f=null}else f=o.child;if(f!==null)f.return=o;else for(f=o;f!==null;){if(f===e){f=null;break}if(o=f.sibling,o!==null){o.return=f.return,f=o;break}f=f.return}o=f}}function ai(e,t,n,i){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var f=o.alternate;if(f===null)throw Error(s(387));if(f=f.memoizedProps,f!==null){var m=o.type;Ct(o.pendingProps.value,f.value)||(e!==null?e.push(m):e=[m])}}else if(o===ge.current){if(f=o.alternate,f===null)throw Error(s(387));f.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Tr):e=[Tr])}o=o.return}e!==null&&eo(t,e,n,i),t.flags|=262144}function ll(e){for(e=e.firstContext;e!==null;){if(!Ct(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function va(e){ya=e,bn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function gt(e){return gd(ya,e)}function sl(e,t){return ya===null&&va(e),gd(e,t)}function gd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},bn===null){if(e===null)throw Error(s(308));bn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bn=bn.next=t;return n}var c0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},d0=r.unstable_scheduleCallback,h0=r.unstable_NormalPriority,nt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function to(){return{controller:new c0,data:new Map,refCount:0}}function Wi(e){e.refCount--,e.refCount===0&&d0(h0,function(){e.controller.abort()})}var Fi=null,no=0,ii=0,ri=null;function f0(e,t){if(Fi===null){var n=Fi=[];no=0,ii=lu(),ri={status:"pending",value:void 0,then:function(i){n.push(i)}}}return no++,t.then(pd,pd),t}function pd(){if(--no===0&&Fi!==null){ri!==null&&(ri.status="fulfilled");var e=Fi;Fi=null,ii=0,ri=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function g0(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),i}var md=N.S;N.S=function(e,t){Fh=j(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&f0(e,t),md!==null&&md(e,t)};var ba=E(null);function ao(){var e=ba.current;return e!==null?e:Ge.pooledCache}function ol(e,t){t===null?K(ba,ba.current):K(ba,t.pool)}function yd(){var e=ao();return e===null?null:{parent:nt._currentValue,pool:e}}var li=Error(s(460)),io=Error(s(474)),ul=Error(s(542)),cl={then:function(){}};function vd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(pn,pn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wd(e),e;default:if(typeof t.status=="string")t.then(pn,pn);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wd(e),e}throw wa=t,li}}function _a(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(wa=n,li):n}}var wa=null;function _d(){if(wa===null)throw Error(s(459));var e=wa;return wa=null,e}function wd(e){if(e===li||e===ul)throw Error(s(483))}var si=null,er=0;function dl(e){var t=er;return er+=1,si===null&&(si=[]),bd(si,e,t)}function tr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function hl(e,t){throw t.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Sd(e){function t(x,S){if(e){var O=x.deletions;O===null?(x.deletions=[S],x.flags|=16):O.push(S)}}function n(x,S){if(!e)return null;for(;S!==null;)t(x,S),S=S.sibling;return null}function i(x){for(var S=new Map;x!==null;)x.key!==null?S.set(x.key,x):S.set(x.index,x),x=x.sibling;return S}function o(x,S){return x=yn(x,S),x.index=0,x.sibling=null,x}function u(x,S,O){return x.index=O,e?(O=x.alternate,O!==null?(O=O.index,O<S?(x.flags|=67108866,S):O):(x.flags|=67108866,S)):(x.flags|=1048576,S)}function f(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function m(x,S,O,M){return S===null||S.tag!==6?(S=Ks(O,x.mode,M),S.return=x,S):(S=o(S,O),S.return=x,S)}function _(x,S,O,M){var ae=O.type;return ae===U?z(x,S,O.props.children,M,O.key):S!==null&&(S.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Ne&&_a(ae)===S.type)?(S=o(S,O.props),tr(S,O),S.return=x,S):(S=il(O.type,O.key,O.props,null,x.mode,M),tr(S,O),S.return=x,S)}function k(x,S,O,M){return S===null||S.tag!==4||S.stateNode.containerInfo!==O.containerInfo||S.stateNode.implementation!==O.implementation?(S=Xs(O,x.mode,M),S.return=x,S):(S=o(S,O.children||[]),S.return=x,S)}function z(x,S,O,M,ae){return S===null||S.tag!==7?(S=pa(O,x.mode,M,ae),S.return=x,S):(S=o(S,O),S.return=x,S)}function q(x,S,O){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Ks(""+S,x.mode,O),S.return=x,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case C:return O=il(S.type,S.key,S.props,null,x.mode,O),tr(O,S),O.return=x,O;case A:return S=Xs(S,x.mode,O),S.return=x,S;case Ne:return S=_a(S),q(x,S,O)}if(ut(S)||ne(S))return S=pa(S,x.mode,O,null),S.return=x,S;if(typeof S.then=="function")return q(x,dl(S),O);if(S.$$typeof===H)return q(x,sl(x,S),O);hl(x,S)}return null}function R(x,S,O,M){var ae=S!==null?S.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return ae!==null?null:m(x,S,""+O,M);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case C:return O.key===ae?_(x,S,O,M):null;case A:return O.key===ae?k(x,S,O,M):null;case Ne:return O=_a(O),R(x,S,O,M)}if(ut(O)||ne(O))return ae!==null?null:z(x,S,O,M,null);if(typeof O.then=="function")return R(x,S,dl(O),M);if(O.$$typeof===H)return R(x,S,sl(x,O),M);hl(x,O)}return null}function D(x,S,O,M,ae){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return x=x.get(O)||null,m(S,x,""+M,ae);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case C:return x=x.get(M.key===null?O:M.key)||null,_(S,x,M,ae);case A:return x=x.get(M.key===null?O:M.key)||null,k(S,x,M,ae);case Ne:return M=_a(M),D(x,S,O,M,ae)}if(ut(M)||ne(M))return x=x.get(O)||null,z(S,x,M,ae,null);if(typeof M.then=="function")return D(x,S,O,dl(M),ae);if(M.$$typeof===H)return D(x,S,O,sl(S,M),ae);hl(S,M)}return null}function P(x,S,O,M){for(var ae=null,xe=null,F=S,ye=S=0,we=null;F!==null&&ye<O.length;ye++){F.index>ye?(we=F,F=null):we=F.sibling;var Ae=R(x,F,O[ye],M);if(Ae===null){F===null&&(F=we);break}e&&F&&Ae.alternate===null&&t(x,F),S=u(Ae,S,ye),xe===null?ae=Ae:xe.sibling=Ae,xe=Ae,F=we}if(ye===O.length)return n(x,F),Se&&vn(x,ye),ae;if(F===null){for(;ye<O.length;ye++)F=q(x,O[ye],M),F!==null&&(S=u(F,S,ye),xe===null?ae=F:xe.sibling=F,xe=F);return Se&&vn(x,ye),ae}for(F=i(F);ye<O.length;ye++)we=D(F,x,ye,O[ye],M),we!==null&&(e&&we.alternate!==null&&F.delete(we.key===null?ye:we.key),S=u(we,S,ye),xe===null?ae=we:xe.sibling=we,xe=we);return e&&F.forEach(function(la){return t(x,la)}),Se&&vn(x,ye),ae}function re(x,S,O,M){if(O==null)throw Error(s(151));for(var ae=null,xe=null,F=S,ye=S=0,we=null,Ae=O.next();F!==null&&!Ae.done;ye++,Ae=O.next()){F.index>ye?(we=F,F=null):we=F.sibling;var la=R(x,F,Ae.value,M);if(la===null){F===null&&(F=we);break}e&&F&&la.alternate===null&&t(x,F),S=u(la,S,ye),xe===null?ae=la:xe.sibling=la,xe=la,F=we}if(Ae.done)return n(x,F),Se&&vn(x,ye),ae;if(F===null){for(;!Ae.done;ye++,Ae=O.next())Ae=q(x,Ae.value,M),Ae!==null&&(S=u(Ae,S,ye),xe===null?ae=Ae:xe.sibling=Ae,xe=Ae);return Se&&vn(x,ye),ae}for(F=i(F);!Ae.done;ye++,Ae=O.next())Ae=D(F,x,ye,Ae.value,M),Ae!==null&&(e&&Ae.alternate!==null&&F.delete(Ae.key===null?ye:Ae.key),S=u(Ae,S,ye),xe===null?ae=Ae:xe.sibling=Ae,xe=Ae);return e&&F.forEach(function(xm){return t(x,xm)}),Se&&vn(x,ye),ae}function He(x,S,O,M){if(typeof O=="object"&&O!==null&&O.type===U&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case C:e:{for(var ae=O.key;S!==null;){if(S.key===ae){if(ae=O.type,ae===U){if(S.tag===7){n(x,S.sibling),M=o(S,O.props.children),M.return=x,x=M;break e}}else if(S.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Ne&&_a(ae)===S.type){n(x,S.sibling),M=o(S,O.props),tr(M,O),M.return=x,x=M;break e}n(x,S);break}else t(x,S);S=S.sibling}O.type===U?(M=pa(O.props.children,x.mode,M,O.key),M.return=x,x=M):(M=il(O.type,O.key,O.props,null,x.mode,M),tr(M,O),M.return=x,x=M)}return f(x);case A:e:{for(ae=O.key;S!==null;){if(S.key===ae)if(S.tag===4&&S.stateNode.containerInfo===O.containerInfo&&S.stateNode.implementation===O.implementation){n(x,S.sibling),M=o(S,O.children||[]),M.return=x,x=M;break e}else{n(x,S);break}else t(x,S);S=S.sibling}M=Xs(O,x.mode,M),M.return=x,x=M}return f(x);case Ne:return O=_a(O),He(x,S,O,M)}if(ut(O))return P(x,S,O,M);if(ne(O)){if(ae=ne(O),typeof ae!="function")throw Error(s(150));return O=ae.call(O),re(x,S,O,M)}if(typeof O.then=="function")return He(x,S,dl(O),M);if(O.$$typeof===H)return He(x,S,sl(x,O),M);hl(x,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,S!==null&&S.tag===6?(n(x,S.sibling),M=o(S,O),M.return=x,x=M):(n(x,S),M=Ks(O,x.mode,M),M.return=x,x=M),f(x)):n(x,S)}return function(x,S,O,M){try{er=0;var ae=He(x,S,O,M);return si=null,ae}catch(F){if(F===li||F===ul)throw F;var xe=Nt(29,F,null,x.mode);return xe.lanes=M,xe.return=x,xe}}}var Sa=Sd(!0),Ed=Sd(!1),In=!1;function ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Yn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(ke&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=al(e),ld(e,null,n),t}return nl(e,i,t,n),al(e)}function nr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,gc(e,n)}}function so(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var f={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?o=u=f:u=u.next=f,n=n.next}while(n!==null);u===null?o=u=t:u=u.next=t}else o=u=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var oo=!1;function ar(){if(oo){var e=ri;if(e!==null)throw e}}function ir(e,t,n,i){oo=!1;var o=e.updateQueue;In=!1;var u=o.firstBaseUpdate,f=o.lastBaseUpdate,m=o.shared.pending;if(m!==null){o.shared.pending=null;var _=m,k=_.next;_.next=null,f===null?u=k:f.next=k,f=_;var z=e.alternate;z!==null&&(z=z.updateQueue,m=z.lastBaseUpdate,m!==f&&(m===null?z.firstBaseUpdate=k:m.next=k,z.lastBaseUpdate=_))}if(u!==null){var q=o.baseState;f=0,z=k=_=null,m=u;do{var R=m.lane&-536870913,D=R!==m.lane;if(D?(_e&R)===R:(i&R)===R){R!==0&&R===ii&&(oo=!0),z!==null&&(z=z.next={lane:0,tag:m.tag,payload:m.payload,callback:null,next:null});e:{var P=e,re=m;R=t;var He=n;switch(re.tag){case 1:if(P=re.payload,typeof P=="function"){q=P.call(He,q,R);break e}q=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=re.payload,R=typeof P=="function"?P.call(He,q,R):P,R==null)break e;q=T({},q,R);break e;case 2:In=!0}}R=m.callback,R!==null&&(e.flags|=64,D&&(e.flags|=8192),D=o.callbacks,D===null?o.callbacks=[R]:D.push(R))}else D={lane:R,tag:m.tag,payload:m.payload,callback:m.callback,next:null},z===null?(k=z=D,_=q):z=z.next=D,f|=R;if(m=m.next,m===null){if(m=o.shared.pending,m===null)break;D=m,m=D.next,D.next=null,o.lastBaseUpdate=D,o.shared.pending=null}}while(!0);z===null&&(_=q),o.baseState=_,o.firstBaseUpdate=k,o.lastBaseUpdate=z,u===null&&(o.shared.lanes=0),Zn|=f,e.lanes=f,e.memoizedState=q}}function Td(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function xd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Td(n[e],t)}var oi=E(null),fl=E(0);function Ad(e,t){e=kn,K(fl,e),K(oi,t),kn=e|t.baseLanes}function uo(){K(fl,kn),K(oi,oi.current)}function co(){kn=fl.current,L(oi),L(fl)}var Dt=E(null),Pt=null;function Kn(e){var t=e.alternate;K(et,et.current&1),K(Dt,e),Pt===null&&(t===null||oi.current!==null||t.memoizedState!==null)&&(Pt=e)}function ho(e){K(et,et.current),K(Dt,e),Pt===null&&(Pt=e)}function jd(e){e.tag===22?(K(et,et.current),K(Dt,e),Pt===null&&(Pt=e)):Xn()}function Xn(){K(et,et.current),K(Dt,Dt.current)}function Ut(e){L(Dt),Pt===e&&(Pt=null),L(et)}var et=E(0);function gl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||vu(n)||bu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wn=0,pe=null,qe=null,at=null,pl=!1,ui=!1,Ea=!1,ml=0,rr=0,ci=null,p0=0;function Ze(){throw Error(s(321))}function fo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ct(e[n],t[n]))return!1;return!0}function go(e,t,n,i,o,u){return wn=u,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=e===null||e.memoizedState===null?ch:ko,Ea=!1,u=n(i,o),Ea=!1,ui&&(u=kd(t,n,i,o)),Od(e),u}function Od(e){N.H=or;var t=qe!==null&&qe.next!==null;if(wn=0,at=qe=pe=null,pl=!1,rr=0,ci=null,t)throw Error(s(300));e===null||it||(e=e.dependencies,e!==null&&ll(e)&&(it=!0))}function kd(e,t,n,i){pe=e;var o=0;do{if(ui&&(ci=null),rr=0,ui=!1,25<=o)throw Error(s(301));if(o+=1,at=qe=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}N.H=dh,u=t(n,i)}while(ui);return u}function m0(){var e=N.H,t=e.useState()[0];return t=typeof t.then=="function"?lr(t):t,e=e.useState()[0],(qe!==null?qe.memoizedState:null)!==e&&(pe.flags|=1024),t}function po(){var e=ml!==0;return ml=0,e}function mo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function yo(e){if(pl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}pl=!1}wn=0,at=qe=pe=null,ui=!1,rr=ml=0,ci=null}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?pe.memoizedState=at=e:at=at.next=e,at}function tt(){if(qe===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=at===null?pe.memoizedState:at.next;if(t!==null)at=t,qe=e;else{if(e===null)throw pe.alternate===null?Error(s(467)):Error(s(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},at===null?pe.memoizedState=at=e:at=at.next=e}return at}function yl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lr(e){var t=rr;return rr+=1,ci===null&&(ci=[]),e=bd(ci,e,t),t=pe,(at===null?t.memoizedState:at.next)===null&&(t=t.alternate,N.H=t===null||t.memoizedState===null?ch:ko),e}function vl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return lr(e);if(e.$$typeof===H)return gt(e)}throw Error(s(438,String(e)))}function vo(e){var t=null,n=pe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=pe.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=yl(),pe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=$t;return t.index++,n}function Sn(e,t){return typeof t=="function"?t(e):t}function bl(e){var t=tt();return bo(t,qe,e)}function bo(e,t,n){var i=e.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=n;var o=e.baseQueue,u=i.pending;if(u!==null){if(o!==null){var f=o.next;o.next=u.next,u.next=f}t.baseQueue=o=u,i.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var m=f=null,_=null,k=t,z=!1;do{var q=k.lane&-536870913;if(q!==k.lane?(_e&q)===q:(wn&q)===q){var R=k.revertLane;if(R===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),q===ii&&(z=!0);else if((wn&R)===R){k=k.next,R===ii&&(z=!0);continue}else q={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},_===null?(m=_=q,f=u):_=_.next=q,pe.lanes|=R,Zn|=R;q=k.action,Ea&&n(u,q),u=k.hasEagerState?k.eagerState:n(u,q)}else R={lane:q,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},_===null?(m=_=R,f=u):_=_.next=R,pe.lanes|=q,Zn|=q;k=k.next}while(k!==null&&k!==t);if(_===null?f=u:_.next=m,!Ct(u,e.memoizedState)&&(it=!0,z&&(n=ri,n!==null)))throw n;e.memoizedState=u,e.baseState=f,e.baseQueue=_,i.lastRenderedState=u}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function _o(e){var t=tt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,u=t.memoizedState;if(o!==null){n.pending=null;var f=o=o.next;do u=e(u,f.action),f=f.next;while(f!==o);Ct(u,t.memoizedState)||(it=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,i]}function Rd(e,t,n){var i=pe,o=tt(),u=Se;if(u){if(n===void 0)throw Error(s(407));n=n()}else n=t();var f=!Ct((qe||o).memoizedState,n);if(f&&(o.memoizedState=n,it=!0),o=o.queue,Eo(Dd.bind(null,i,o,e),[e]),o.getSnapshot!==t||f||at!==null&&at.memoizedState.tag&1){if(i.flags|=2048,di(9,{destroy:void 0},Nd.bind(null,i,o,n,t),null),Ge===null)throw Error(s(349));u||(wn&127)!==0||Cd(i,t,n)}return n}function Cd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pe.updateQueue,t===null?(t=yl(),pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Nd(e,t,n,i){t.value=n,t.getSnapshot=i,Ud(t)&&zd(e)}function Dd(e,t,n){return n(function(){Ud(t)&&zd(e)})}function Ud(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ct(e,n)}catch{return!0}}function zd(e){var t=ga(e,2);t!==null&&Rt(t,e,2)}function wo(e){var t=wt();if(typeof e=="function"){var n=e;if(e=n(),Ea){Te(!0);try{n()}finally{Te(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:e},t}function Md(e,t,n,i){return e.baseState=n,bo(e,qe,typeof i=="function"?i:Sn)}function y0(e,t,n,i,o){if(Sl(e))throw Error(s(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){u.listeners.push(f)}};N.T!==null?n(!0):u.isTransition=!1,i(u),n=t.pending,n===null?(u.next=t.pending=u,Bd(t,u)):(u.next=n.next,t.pending=n.next=u)}}function Bd(e,t){var n=t.action,i=t.payload,o=e.state;if(t.isTransition){var u=N.T,f={};N.T=f;try{var m=n(o,i),_=N.S;_!==null&&_(f,m),qd(e,t,m)}catch(k){So(e,t,k)}finally{u!==null&&f.types!==null&&(u.types=f.types),N.T=u}}else try{u=n(o,i),qd(e,t,u)}catch(k){So(e,t,k)}}function qd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Ld(e,t,i)},function(i){return So(e,t,i)}):Ld(e,t,n)}function Ld(e,t,n){t.status="fulfilled",t.value=n,Hd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Bd(e,n)))}function So(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Hd(t),t=t.next;while(t!==i)}e.action=null}function Hd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function $d(e,t){return t}function Gd(e,t){if(Se){var n=Ge.formState;if(n!==null){e:{var i=pe;if(Se){if(Ke){t:{for(var o=Ke,u=Zt;o.nodeType!==8;){if(!u){o=null;break t}if(o=Wt(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Ke=Wt(o.nextSibling),i=o.data==="F!";break e}}$n(i)}i=!1}i&&(t=n[0])}}return n=wt(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$d,lastRenderedState:t},n.queue=i,n=sh.bind(null,pe,i),i.dispatch=n,i=wo(!1),u=Oo.bind(null,pe,!1,i.queue),i=wt(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,n=y0.bind(null,pe,o,u,n),o.dispatch=n,i.memoizedState=e,[t,n,!1]}function Id(e){var t=tt();return Vd(t,qe,e)}function Vd(e,t,n){if(t=bo(e,t,$d)[0],e=bl(Sn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=lr(t)}catch(f){throw f===li?ul:f}else i=t;t=tt();var o=t.queue,u=o.dispatch;return n!==t.memoizedState&&(pe.flags|=2048,di(9,{destroy:void 0},v0.bind(null,o,n),null)),[i,u,e]}function v0(e,t){e.action=t}function Yd(e){var t=tt(),n=qe;if(n!==null)return Vd(t,n,e);tt(),t=t.memoizedState,n=tt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function di(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=pe.updateQueue,t===null&&(t=yl(),pe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Kd(){return tt().memoizedState}function _l(e,t,n,i){var o=wt();pe.flags|=e,o.memoizedState=di(1|t,{destroy:void 0},n,i===void 0?null:i)}function wl(e,t,n,i){var o=tt();i=i===void 0?null:i;var u=o.memoizedState.inst;qe!==null&&i!==null&&fo(i,qe.memoizedState.deps)?o.memoizedState=di(t,u,n,i):(pe.flags|=e,o.memoizedState=di(1|t,u,n,i))}function Xd(e,t){_l(8390656,8,e,t)}function Eo(e,t){wl(2048,8,e,t)}function b0(e){pe.flags|=4;var t=pe.updateQueue;if(t===null)t=yl(),pe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Qd(e){var t=tt().memoizedState;return b0({ref:t,nextImpl:e}),function(){if((ke&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Jd(e,t){return wl(4,2,e,t)}function Zd(e,t){return wl(4,4,e,t)}function Pd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wd(e,t,n){n=n!=null?n.concat([e]):null,wl(4,4,Pd.bind(null,t,e),n)}function To(){}function Fd(e,t){var n=tt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&fo(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function eh(e,t){var n=tt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&fo(t,i[1]))return i[0];if(i=e(),Ea){Te(!0);try{e()}finally{Te(!1)}}return n.memoizedState=[i,t],i}function xo(e,t,n){return n===void 0||(wn&1073741824)!==0&&(_e&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=tf(),pe.lanes|=e,Zn|=e,n)}function th(e,t,n,i){return Ct(n,t)?n:oi.current!==null?(e=xo(e,n,i),Ct(e,t)||(it=!0),e):(wn&42)===0||(wn&1073741824)!==0&&(_e&261930)===0?(it=!0,e.memoizedState=n):(e=tf(),pe.lanes|=e,Zn|=e,t)}function nh(e,t,n,i,o){var u=Y.p;Y.p=u!==0&&8>u?u:8;var f=N.T,m={};N.T=m,Oo(e,!1,t,n);try{var _=o(),k=N.S;if(k!==null&&k(m,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var z=g0(_,i);sr(e,t,z,Bt(e))}else sr(e,t,i,Bt(e))}catch(q){sr(e,t,{then:function(){},status:"rejected",reason:q},Bt())}finally{Y.p=u,f!==null&&m.types!==null&&(f.types=m.types),N.T=f}}function _0(){}function Ao(e,t,n,i){if(e.tag!==5)throw Error(s(476));var o=ah(e).queue;nh(e,o,t,le,n===null?_0:function(){return ih(e),n(i)})}function ah(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:le},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ih(e){var t=ah(e);t.next===null&&(t=e.alternate.memoizedState),sr(e,t.next.queue,{},Bt())}function jo(){return gt(Tr)}function rh(){return tt().memoizedState}function lh(){return tt().memoizedState}function w0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Bt();e=Vn(n);var i=Yn(t,e,n);i!==null&&(Rt(i,t,n),nr(i,t,n)),t={cache:to()},e.payload=t;return}t=t.return}}function S0(e,t,n){var i=Bt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Sl(e)?oh(t,n):(n=Vs(e,t,n,i),n!==null&&(Rt(n,e,i),uh(n,t,i)))}function sh(e,t,n){var i=Bt();sr(e,t,n,i)}function sr(e,t,n,i){var o={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sl(e))oh(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var f=t.lastRenderedState,m=u(f,n);if(o.hasEagerState=!0,o.eagerState=m,Ct(m,f))return nl(e,t,o,0),Ge===null&&tl(),!1}catch{}if(n=Vs(e,t,o,i),n!==null)return Rt(n,e,i),uh(n,t,i),!0}return!1}function Oo(e,t,n,i){if(i={lane:2,revertLane:lu(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Sl(e)){if(t)throw Error(s(479))}else t=Vs(e,n,i,2),t!==null&&Rt(t,e,2)}function Sl(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function oh(e,t){ui=pl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function uh(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,gc(e,n)}}var or={readContext:gt,use:vl,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};or.useEffectEvent=Ze;var ch={readContext:gt,use:vl,useCallback:function(e,t){return wt().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:Xd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,_l(4194308,4,Pd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _l(4194308,4,e,t)},useInsertionEffect:function(e,t){_l(4,2,e,t)},useMemo:function(e,t){var n=wt();t=t===void 0?null:t;var i=e();if(Ea){Te(!0);try{e()}finally{Te(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=wt();if(n!==void 0){var o=n(t);if(Ea){Te(!0);try{n(t)}finally{Te(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=S0.bind(null,pe,e),[i.memoizedState,e]},useRef:function(e){var t=wt();return e={current:e},t.memoizedState=e},useState:function(e){e=wo(e);var t=e.queue,n=sh.bind(null,pe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:To,useDeferredValue:function(e,t){var n=wt();return xo(n,e,t)},useTransition:function(){var e=wo(!1);return e=nh.bind(null,pe,e.queue,!0,!1),wt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=pe,o=wt();if(Se){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Ge===null)throw Error(s(349));(_e&127)!==0||Cd(i,t,n)}o.memoizedState=n;var u={value:n,getSnapshot:t};return o.queue=u,Xd(Dd.bind(null,i,u,e),[e]),i.flags|=2048,di(9,{destroy:void 0},Nd.bind(null,i,u,n,t),null),n},useId:function(){var e=wt(),t=Ge.identifierPrefix;if(Se){var n=dn,i=cn;n=(i&~(1<<32-Be(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=ml++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=p0++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:jo,useFormState:Gd,useActionState:Gd,useOptimistic:function(e){var t=wt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Oo.bind(null,pe,!0,n),n.dispatch=t,[e,t]},useMemoCache:vo,useCacheRefresh:function(){return wt().memoizedState=w0.bind(null,pe)},useEffectEvent:function(e){var t=wt(),n={impl:e};return t.memoizedState=n,function(){if((ke&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}},ko={readContext:gt,use:vl,useCallback:Fd,useContext:gt,useEffect:Eo,useImperativeHandle:Wd,useInsertionEffect:Jd,useLayoutEffect:Zd,useMemo:eh,useReducer:bl,useRef:Kd,useState:function(){return bl(Sn)},useDebugValue:To,useDeferredValue:function(e,t){var n=tt();return th(n,qe.memoizedState,e,t)},useTransition:function(){var e=bl(Sn)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:lr(e),t]},useSyncExternalStore:Rd,useId:rh,useHostTransitionStatus:jo,useFormState:Id,useActionState:Id,useOptimistic:function(e,t){var n=tt();return Md(n,qe,e,t)},useMemoCache:vo,useCacheRefresh:lh};ko.useEffectEvent=Qd;var dh={readContext:gt,use:vl,useCallback:Fd,useContext:gt,useEffect:Eo,useImperativeHandle:Wd,useInsertionEffect:Jd,useLayoutEffect:Zd,useMemo:eh,useReducer:_o,useRef:Kd,useState:function(){return _o(Sn)},useDebugValue:To,useDeferredValue:function(e,t){var n=tt();return qe===null?xo(n,e,t):th(n,qe.memoizedState,e,t)},useTransition:function(){var e=_o(Sn)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:lr(e),t]},useSyncExternalStore:Rd,useId:rh,useHostTransitionStatus:jo,useFormState:Yd,useActionState:Yd,useOptimistic:function(e,t){var n=tt();return qe!==null?Md(n,qe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:vo,useCacheRefresh:lh};dh.useEffectEvent=Qd;function Ro(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:T({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Co={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Bt(),o=Vn(i);o.payload=t,n!=null&&(o.callback=n),t=Yn(e,o,i),t!==null&&(Rt(t,e,i),nr(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Bt(),o=Vn(i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Yn(e,o,i),t!==null&&(Rt(t,e,i),nr(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bt(),i=Vn(n);i.tag=2,t!=null&&(i.callback=t),t=Yn(e,i,n),t!==null&&(Rt(t,e,n),nr(t,e,n))}};function hh(e,t,n,i,o,u,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,f):t.prototype&&t.prototype.isPureReactComponent?!Qi(n,i)||!Qi(o,u):!0}function fh(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Co.enqueueReplaceState(t,t.state,null)}function Ta(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=T({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function gh(e){el(e)}function ph(e){console.error(e)}function mh(e){el(e)}function El(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function yh(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function No(e,t,n){return n=Vn(n),n.tag=3,n.payload={element:null},n.callback=function(){El(e,t)},n}function vh(e){return e=Vn(e),e.tag=3,e}function bh(e,t,n,i){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var u=i.value;e.payload=function(){return o(u)},e.callback=function(){yh(t,n,i)}}var f=n.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){yh(t,n,i),typeof o!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var m=i.stack;this.componentDidCatch(i.value,{componentStack:m!==null?m:""})})}function E0(e,t,n,i,o){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&ai(t,n,o,!0),n=Dt.current,n!==null){switch(n.tag){case 31:case 13:return Pt===null?zl():n.alternate===null&&Pe===0&&(Pe=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===cl?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),au(e,i,o)),!1;case 22:return n.flags|=65536,i===cl?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),au(e,i,o)),!1}throw Error(s(435,n.tag))}return au(e,i,o),zl(),!1}if(Se)return t=Dt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==Zs&&(e=Error(s(422),{cause:i}),Pi(Xt(e,n)))):(i!==Zs&&(t=Error(s(423),{cause:i}),Pi(Xt(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=Xt(i,n),o=No(e.stateNode,i,o),so(e,o),Pe!==4&&(Pe=2)),!1;var u=Error(s(520),{cause:i});if(u=Xt(u,n),mr===null?mr=[u]:mr.push(u),Pe!==4&&(Pe=2),t===null)return!0;i=Xt(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=No(n.stateNode,i,e),so(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Pn===null||!Pn.has(u))))return n.flags|=65536,o&=-o,n.lanes|=o,o=vh(o),bh(o,e,n,i),so(n,o),!1}n=n.return}while(n!==null);return!1}var Do=Error(s(461)),it=!1;function pt(e,t,n,i){t.child=e===null?Ed(t,null,n,i):Sa(t,e.child,n,i)}function _h(e,t,n,i,o){n=n.render;var u=t.ref;if("ref"in i){var f={};for(var m in i)m!=="ref"&&(f[m]=i[m])}else f=i;return va(t),i=go(e,t,n,f,u,o),m=po(),e!==null&&!it?(mo(e,t,o),En(e,t,o)):(Se&&m&&Qs(t),t.flags|=1,pt(e,t,i,o),t.child)}function wh(e,t,n,i,o){if(e===null){var u=n.type;return typeof u=="function"&&!Ys(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,Sh(e,t,u,i,o)):(e=il(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!$o(e,o)){var f=u.memoizedProps;if(n=n.compare,n=n!==null?n:Qi,n(f,i)&&e.ref===t.ref)return En(e,t,o)}return t.flags|=1,e=yn(u,i),e.ref=t.ref,e.return=t,t.child=e}function Sh(e,t,n,i,o){if(e!==null){var u=e.memoizedProps;if(Qi(u,i)&&e.ref===t.ref)if(it=!1,t.pendingProps=i=u,$o(e,o))(e.flags&131072)!==0&&(it=!0);else return t.lanes=e.lanes,En(e,t,o)}return Uo(e,t,n,i,o)}function Eh(e,t,n,i){var o=i.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~u}else i=0,t.child=null;return Th(e,t,u,n,i)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ol(t,u!==null?u.cachePool:null),u!==null?Ad(t,u):uo(),jd(t);else return i=t.lanes=536870912,Th(e,t,u!==null?u.baseLanes|n:n,n,i)}else u!==null?(ol(t,u.cachePool),Ad(t,u),Xn(),t.memoizedState=null):(e!==null&&ol(t,null),uo(),Xn());return pt(e,t,o,n),t.child}function ur(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Th(e,t,n,i,o){var u=ao();return u=u===null?null:{parent:nt._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&ol(t,null),uo(),jd(t),e!==null&&ai(e,t,i,!0),t.childLanes=o,null}function Tl(e,t){return t=Al({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function xh(e,t,n){return Sa(t,e.child,null,n),e=Tl(t,t.pendingProps),e.flags|=2,Ut(t),t.memoizedState=null,e}function T0(e,t,n){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Se){if(i.mode==="hidden")return e=Tl(t,i),t.lanes=536870912,ur(null,e);if(ho(t),(e=Ke)?(e=qf(e,Zt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ln!==null?{id:cn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},n=od(e),n.return=t,t.child=n,ft=t,Ke=null)):e=null,e===null)throw $n(t);return t.lanes=536870912,null}return Tl(t,i)}var u=e.memoizedState;if(u!==null){var f=u.dehydrated;if(ho(t),o)if(t.flags&256)t.flags&=-257,t=xh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(it||ai(e,t,n,!1),o=(n&e.childLanes)!==0,it||o){if(i=Ge,i!==null&&(f=pc(i,n),f!==0&&f!==u.retryLane))throw u.retryLane=f,ga(e,f),Rt(i,e,f),Do;zl(),t=xh(e,t,n)}else e=u.treeContext,Ke=Wt(f.nextSibling),ft=t,Se=!0,Hn=null,Zt=!1,e!==null&&dd(t,e),t=Tl(t,i),t.flags|=4096;return t}return e=yn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function xl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(s(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Uo(e,t,n,i,o){return va(t),n=go(e,t,n,i,void 0,o),i=po(),e!==null&&!it?(mo(e,t,o),En(e,t,o)):(Se&&i&&Qs(t),t.flags|=1,pt(e,t,n,o),t.child)}function Ah(e,t,n,i,o,u){return va(t),t.updateQueue=null,n=kd(t,i,n,o),Od(e),i=po(),e!==null&&!it?(mo(e,t,u),En(e,t,u)):(Se&&i&&Qs(t),t.flags|=1,pt(e,t,n,u),t.child)}function jh(e,t,n,i,o){if(va(t),t.stateNode===null){var u=Fa,f=n.contextType;typeof f=="object"&&f!==null&&(u=gt(f)),u=new n(i,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Co,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=i,u.state=t.memoizedState,u.refs={},ro(t),f=n.contextType,u.context=typeof f=="object"&&f!==null?gt(f):Fa,u.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(Ro(t,n,f,i),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(f=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),f!==u.state&&Co.enqueueReplaceState(u,u.state,null),ir(t,i,u,o),ar(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){u=t.stateNode;var m=t.memoizedProps,_=Ta(n,m);u.props=_;var k=u.context,z=n.contextType;f=Fa,typeof z=="object"&&z!==null&&(f=gt(z));var q=n.getDerivedStateFromProps;z=typeof q=="function"||typeof u.getSnapshotBeforeUpdate=="function",m=t.pendingProps!==m,z||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m||k!==f)&&fh(t,u,i,f),In=!1;var R=t.memoizedState;u.state=R,ir(t,i,u,o),ar(),k=t.memoizedState,m||R!==k||In?(typeof q=="function"&&(Ro(t,n,q,i),k=t.memoizedState),(_=In||hh(t,n,_,i,R,k,f))?(z||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=k),u.props=i,u.state=k,u.context=f,i=_):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{u=t.stateNode,lo(e,t),f=t.memoizedProps,z=Ta(n,f),u.props=z,q=t.pendingProps,R=u.context,k=n.contextType,_=Fa,typeof k=="object"&&k!==null&&(_=gt(k)),m=n.getDerivedStateFromProps,(k=typeof m=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==q||R!==_)&&fh(t,u,i,_),In=!1,R=t.memoizedState,u.state=R,ir(t,i,u,o),ar();var D=t.memoizedState;f!==q||R!==D||In||e!==null&&e.dependencies!==null&&ll(e.dependencies)?(typeof m=="function"&&(Ro(t,n,m,i),D=t.memoizedState),(z=In||hh(t,n,z,i,R,D,_)||e!==null&&e.dependencies!==null&&ll(e.dependencies))?(k||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,D,_),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,D,_)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=D),u.props=i,u.state=D,u.context=_,i=z):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),i=!1)}return u=i,xl(e,t),i=(t.flags&128)!==0,u||i?(u=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&i?(t.child=Sa(t,e.child,null,o),t.child=Sa(t,null,n,o)):pt(e,t,n,o),t.memoizedState=u.state,e=t.child):e=En(e,t,o),e}function Oh(e,t,n,i){return ma(),t.flags|=256,pt(e,t,n,i),t.child}var zo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mo(e){return{baseLanes:e,cachePool:yd()}}function Bo(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Mt),e}function kh(e,t,n){var i=t.pendingProps,o=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(et.current&2)!==0),f&&(o=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(Se){if(o?Kn(t):Xn(),(e=Ke)?(e=qf(e,Zt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ln!==null?{id:cn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},n=od(e),n.return=t,t.child=n,ft=t,Ke=null)):e=null,e===null)throw $n(t);return bu(e)?t.lanes=32:t.lanes=536870912,null}var m=i.children;return i=i.fallback,o?(Xn(),o=t.mode,m=Al({mode:"hidden",children:m},o),i=pa(i,o,n,null),m.return=t,i.return=t,m.sibling=i,t.child=m,i=t.child,i.memoizedState=Mo(n),i.childLanes=Bo(e,f,n),t.memoizedState=zo,ur(null,i)):(Kn(t),qo(t,m))}var _=e.memoizedState;if(_!==null&&(m=_.dehydrated,m!==null)){if(u)t.flags&256?(Kn(t),t.flags&=-257,t=Lo(e,t,n)):t.memoizedState!==null?(Xn(),t.child=e.child,t.flags|=128,t=null):(Xn(),m=i.fallback,o=t.mode,i=Al({mode:"visible",children:i.children},o),m=pa(m,o,n,null),m.flags|=2,i.return=t,m.return=t,i.sibling=m,t.child=i,Sa(t,e.child,null,n),i=t.child,i.memoizedState=Mo(n),i.childLanes=Bo(e,f,n),t.memoizedState=zo,t=ur(null,i));else if(Kn(t),bu(m)){if(f=m.nextSibling&&m.nextSibling.dataset,f)var k=f.dgst;f=k,i=Error(s(419)),i.stack="",i.digest=f,Pi({value:i,source:null,stack:null}),t=Lo(e,t,n)}else if(it||ai(e,t,n,!1),f=(n&e.childLanes)!==0,it||f){if(f=Ge,f!==null&&(i=pc(f,n),i!==0&&i!==_.retryLane))throw _.retryLane=i,ga(e,i),Rt(f,e,i),Do;vu(m)||zl(),t=Lo(e,t,n)}else vu(m)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Ke=Wt(m.nextSibling),ft=t,Se=!0,Hn=null,Zt=!1,e!==null&&dd(t,e),t=qo(t,i.children),t.flags|=4096);return t}return o?(Xn(),m=i.fallback,o=t.mode,_=e.child,k=_.sibling,i=yn(_,{mode:"hidden",children:i.children}),i.subtreeFlags=_.subtreeFlags&65011712,k!==null?m=yn(k,m):(m=pa(m,o,n,null),m.flags|=2),m.return=t,i.return=t,i.sibling=m,t.child=i,ur(null,i),i=t.child,m=e.child.memoizedState,m===null?m=Mo(n):(o=m.cachePool,o!==null?(_=nt._currentValue,o=o.parent!==_?{parent:_,pool:_}:o):o=yd(),m={baseLanes:m.baseLanes|n,cachePool:o}),i.memoizedState=m,i.childLanes=Bo(e,f,n),t.memoizedState=zo,ur(e.child,i)):(Kn(t),n=e.child,e=n.sibling,n=yn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=n,t.memoizedState=null,n)}function qo(e,t){return t=Al({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Al(e,t){return e=Nt(22,e,null,t),e.lanes=0,e}function Lo(e,t,n){return Sa(t,e.child,null,n),e=qo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rh(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Fs(e.return,t,n)}function Ho(e,t,n,i,o,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o,treeForkCount:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=i,f.tail=n,f.tailMode=o,f.treeForkCount=u)}function Ch(e,t,n){var i=t.pendingProps,o=i.revealOrder,u=i.tail;i=i.children;var f=et.current,m=(f&2)!==0;if(m?(f=f&1|2,t.flags|=128):f&=1,K(et,f),pt(e,t,i,n),i=Se?Zi:0,!m&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rh(e,n,t);else if(e.tag===19)Rh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&gl(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ho(t,!1,o,n,u,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&gl(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ho(t,!0,n,null,u,i);break;case"together":Ho(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function En(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(ai(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $o(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ll(e)))}function x0(e,t,n){switch(t.tag){case 3:Fe(t,t.stateNode.containerInfo),Gn(t,nt,e.memoizedState.cache),ma();break;case 27:case 5:on(t);break;case 4:Fe(t,t.stateNode.containerInfo);break;case 10:Gn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ho(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Kn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?kh(e,t,n):(Kn(t),e=En(e,t,n),e!==null?e.sibling:null);Kn(t);break;case 19:var o=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(ai(e,t,n,!1),i=(n&t.childLanes)!==0),o){if(i)return Ch(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),K(et,et.current),i)break;return null;case 22:return t.lanes=0,Eh(e,t,n,t.pendingProps);case 24:Gn(t,nt,e.memoizedState.cache)}return En(e,t,n)}function Nh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)it=!0;else{if(!$o(e,n)&&(t.flags&128)===0)return it=!1,x0(e,t,n);it=(e.flags&131072)!==0}else it=!1,Se&&(t.flags&1048576)!==0&&cd(t,Zi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=_a(t.elementType),t.type=e,typeof e=="function")Ys(e)?(i=Ta(e,i),t.tag=1,t=jh(null,t,e,i,n)):(t.tag=0,t=Uo(null,t,e,i,n));else{if(e!=null){var o=e.$$typeof;if(o===I){t.tag=11,t=_h(null,t,e,i,n);break e}else if(o===J){t.tag=14,t=wh(null,t,e,i,n);break e}}throw t=je(e)||e,Error(s(306,t,""))}}return t;case 0:return Uo(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,o=Ta(i,t.pendingProps),jh(e,t,i,o,n);case 3:e:{if(Fe(t,t.stateNode.containerInfo),e===null)throw Error(s(387));i=t.pendingProps;var u=t.memoizedState;o=u.element,lo(e,t),ir(t,i,null,n);var f=t.memoizedState;if(i=f.cache,Gn(t,nt,i),i!==u.cache&&eo(t,[nt],n,!0),ar(),i=f.element,u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Oh(e,t,i,n);break e}else if(i!==o){o=Xt(Error(s(424)),t),Pi(o),t=Oh(e,t,i,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ke=Wt(e.firstChild),ft=t,Se=!0,Hn=null,Zt=!0,n=Ed(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ma(),i===o){t=En(e,t,n);break e}pt(e,t,i,n)}t=t.child}return t;case 26:return xl(e,t),e===null?(n=Vf(t.type,null,t.pendingProps,null))?t.memoizedState=n:Se||(n=t.type,e=t.pendingProps,i=Gl(fe.current).createElement(n),i[ht]=t,i[Tt]=e,mt(i,n,e),ct(i),t.stateNode=i):t.memoizedState=Vf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return on(t),e===null&&Se&&(i=t.stateNode=$f(t.type,t.pendingProps,fe.current),ft=t,Zt=!0,o=Ke,ta(t.type)?(_u=o,Ke=Wt(i.firstChild)):Ke=o),pt(e,t,t.pendingProps.children,n),xl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Se&&((o=i=Ke)&&(i=tm(i,t.type,t.pendingProps,Zt),i!==null?(t.stateNode=i,ft=t,Ke=Wt(i.firstChild),Zt=!1,o=!0):o=!1),o||$n(t)),on(t),o=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,i=u.children,pu(o,u)?i=null:f!==null&&pu(o,f)&&(t.flags|=32),t.memoizedState!==null&&(o=go(e,t,m0,null,null,n),Tr._currentValue=o),xl(e,t),pt(e,t,i,n),t.child;case 6:return e===null&&Se&&((e=n=Ke)&&(n=nm(n,t.pendingProps,Zt),n!==null?(t.stateNode=n,ft=t,Ke=null,e=!0):e=!1),e||$n(t)),null;case 13:return kh(e,t,n);case 4:return Fe(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Sa(t,null,i,n):pt(e,t,i,n),t.child;case 11:return _h(e,t,t.type,t.pendingProps,n);case 7:return pt(e,t,t.pendingProps,n),t.child;case 8:return pt(e,t,t.pendingProps.children,n),t.child;case 12:return pt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Gn(t,t.type,i.value),pt(e,t,i.children,n),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,va(t),o=gt(o),i=i(o),t.flags|=1,pt(e,t,i,n),t.child;case 14:return wh(e,t,t.type,t.pendingProps,n);case 15:return Sh(e,t,t.type,t.pendingProps,n);case 19:return Ch(e,t,n);case 31:return T0(e,t,n);case 22:return Eh(e,t,n,t.pendingProps);case 24:return va(t),i=gt(nt),e===null?(o=ao(),o===null&&(o=Ge,u=to(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=n),o=u),t.memoizedState={parent:i,cache:o},ro(t),Gn(t,nt,o)):((e.lanes&n)!==0&&(lo(e,t),ir(t,null,null,n),ar()),o=e.memoizedState,u=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Gn(t,nt,i)):(i=u.cache,Gn(t,nt,i),i!==o.cache&&eo(t,[nt],n,!0))),pt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Tn(e){e.flags|=4}function Go(e,t,n,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(lf())e.flags|=8192;else throw wa=cl,io}else e.flags&=-16777217}function Dh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jf(t))if(lf())e.flags|=8192;else throw wa=cl,io}function jl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?hc():536870912,e.lanes|=t,pi|=t)}function cr(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function A0(e,t,n){var i=t.pendingProps;switch(Js(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return Xe(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),_n(nt),Ce(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ni(t)?Tn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ps())),Xe(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(Tn(t),u!==null?(Xe(t),Dh(t,u)):(Xe(t),Go(t,o,null,i,n))):u?u!==e.memoizedState?(Tn(t),Xe(t),Dh(t,u)):(Xe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Tn(t),Xe(t),Go(t,o,e,i,n)),null;case 27:if(Da(t),n=fe.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Tn(t);else{if(!i){if(t.stateNode===null)throw Error(s(166));return Xe(t),null}e=Z.current,ni(t)?hd(t):(e=$f(o,i,n),t.stateNode=e,Tn(t))}return Xe(t),null;case 5:if(Da(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Tn(t);else{if(!i){if(t.stateNode===null)throw Error(s(166));return Xe(t),null}if(u=Z.current,ni(t))hd(t);else{var f=Gl(fe.current);switch(u){case 1:u=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=f.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof i.is=="string"?f.createElement("select",{is:i.is}):f.createElement("select"),i.multiple?u.multiple=!0:i.size&&(u.size=i.size);break;default:u=typeof i.is=="string"?f.createElement(o,{is:i.is}):f.createElement(o)}}u[ht]=t,u[Tt]=i;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)u.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=u;e:switch(mt(u,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Tn(t)}}return Xe(t),Go(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Tn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(s(166));if(e=fe.current,ni(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,o=ft,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[ht]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Rf(e.nodeValue,n)),e||$n(t,!0)}else e=Gl(e).createTextNode(i),e[ht]=t,t.stateNode=e}return Xe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=ni(t),n!==null){if(e===null){if(!i)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ht]=t}else ma(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),e=!1}else n=Ps(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Ut(t),t):(Ut(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Xe(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ni(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(s(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));o[ht]=t}else ma(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),o=!1}else o=Ps(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Ut(t),t):(Ut(t),null)}return Ut(t),(t.flags&128)!==0?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),jl(t,t.updateQueue),Xe(t),null);case 4:return Ce(),e===null&&cu(t.stateNode.containerInfo),Xe(t),null;case 10:return _n(t.type),Xe(t),null;case 19:if(L(et),i=t.memoizedState,i===null)return Xe(t),null;if(o=(t.flags&128)!==0,u=i.rendering,u===null)if(o)cr(i,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=gl(e),u!==null){for(t.flags|=128,cr(i,!1),e=u.updateQueue,t.updateQueue=e,jl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)sd(n,e),n=n.sibling;return K(et,et.current&1|2),Se&&vn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&j()>Nl&&(t.flags|=128,o=!0,cr(i,!1),t.lanes=4194304)}else{if(!o)if(e=gl(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,jl(t,e),cr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!u.alternate&&!Se)return Xe(t),null}else 2*j()-i.renderingStartTime>Nl&&n!==536870912&&(t.flags|=128,o=!0,cr(i,!1),t.lanes=4194304);i.isBackwards?(u.sibling=t.child,t.child=u):(e=i.last,e!==null?e.sibling=u:t.child=u,i.last=u)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=j(),e.sibling=null,n=et.current,K(et,o?n&1|2:n&1),Se&&vn(t,i.treeForkCount),e):(Xe(t),null);case 22:case 23:return Ut(t),co(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),n=t.updateQueue,n!==null&&jl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&L(ba),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_n(nt),Xe(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function j0(e,t){switch(Js(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _n(nt),Ce(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Da(t),null;case 31:if(t.memoizedState!==null){if(Ut(t),t.alternate===null)throw Error(s(340));ma()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ut(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));ma()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(et),null;case 4:return Ce(),null;case 10:return _n(t.type),null;case 22:case 23:return Ut(t),co(),e!==null&&L(ba),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return _n(nt),null;case 25:return null;default:return null}}function Uh(e,t){switch(Js(t),t.tag){case 3:_n(nt),Ce();break;case 26:case 27:case 5:Da(t);break;case 4:Ce();break;case 31:t.memoizedState!==null&&Ut(t);break;case 13:Ut(t);break;case 19:L(et);break;case 10:_n(t.type);break;case 22:case 23:Ut(t),co(),e!==null&&L(ba);break;case 24:_n(nt)}}function dr(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&e)===e){i=void 0;var u=n.create,f=n.inst;i=u(),f.destroy=i}n=n.next}while(n!==o)}}catch(m){ze(t,t.return,m)}}function Qn(e,t,n){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var u=o.next;i=u;do{if((i.tag&e)===e){var f=i.inst,m=f.destroy;if(m!==void 0){f.destroy=void 0,o=t;var _=n,k=m;try{k()}catch(z){ze(o,_,z)}}}i=i.next}while(i!==u)}}catch(z){ze(t,t.return,z)}}function zh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{xd(t,n)}catch(i){ze(e,e.return,i)}}}function Mh(e,t,n){n.props=Ta(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){ze(e,t,i)}}function hr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(o){ze(e,t,o)}}function hn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(o){ze(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){ze(e,t,o)}else n.current=null}function Bh(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){ze(e,e.return,o)}}function Io(e,t,n){try{var i=e.stateNode;J0(i,e.type,n,t),i[Tt]=t}catch(o){ze(e,e.return,o)}}function qh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ta(e.type)||e.tag===4}function Vo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ta(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yo(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pn));else if(i!==4&&(i===27&&ta(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Yo(e,t,n),e=e.sibling;e!==null;)Yo(e,t,n),e=e.sibling}function Ol(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&ta(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ol(e,t,n),e=e.sibling;e!==null;)Ol(e,t,n),e=e.sibling}function Lh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);mt(t,i,n),t[ht]=e,t[Tt]=n}catch(u){ze(e,e.return,u)}}var xn=!1,rt=!1,Ko=!1,Hh=typeof WeakSet=="function"?WeakSet:Set,dt=null;function O0(e,t){if(e=e.containerInfo,fu=Jl,e=Wc(e),qs(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var f=0,m=-1,_=-1,k=0,z=0,q=e,R=null;t:for(;;){for(var D;q!==n||o!==0&&q.nodeType!==3||(m=f+o),q!==u||i!==0&&q.nodeType!==3||(_=f+i),q.nodeType===3&&(f+=q.nodeValue.length),(D=q.firstChild)!==null;)R=q,q=D;for(;;){if(q===e)break t;if(R===n&&++k===o&&(m=f),R===u&&++z===i&&(_=f),(D=q.nextSibling)!==null)break;q=R,R=q.parentNode}q=D}n=m===-1||_===-1?null:{start:m,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(gu={focusedElem:e,selectionRange:n},Jl=!1,dt=t;dt!==null;)if(t=dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,dt=e;else for(;dt!==null;){switch(t=dt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,o=u.memoizedProps,u=u.memoizedState,i=n.stateNode;try{var P=Ta(n.type,o);e=i.getSnapshotBeforeUpdate(P,u),i.__reactInternalSnapshotBeforeUpdate=e}catch(re){ze(n,n.return,re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)yu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,dt=e;break}dt=t.return}}function $h(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:jn(e,n),i&4&&dr(5,n);break;case 1:if(jn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(f){ze(n,n.return,f)}else{var o=Ta(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){ze(n,n.return,f)}}i&64&&zh(n),i&512&&hr(n,n.return);break;case 3:if(jn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{xd(e,t)}catch(f){ze(n,n.return,f)}}break;case 27:t===null&&i&4&&Lh(n);case 26:case 5:jn(e,n),t===null&&i&4&&Bh(n),i&512&&hr(n,n.return);break;case 12:jn(e,n);break;case 31:jn(e,n),i&4&&Vh(e,n);break;case 13:jn(e,n),i&4&&Yh(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=B0.bind(null,n),am(e,n))));break;case 22:if(i=n.memoizedState!==null||xn,!i){t=t!==null&&t.memoizedState!==null||rt,o=xn;var u=rt;xn=i,(rt=t)&&!u?On(e,n,(n.subtreeFlags&8772)!==0):jn(e,n),xn=o,rt=u}break;case 30:break;default:jn(e,n)}}function Gh(e){var t=e.alternate;t!==null&&(e.alternate=null,Gh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ws(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Qe=null,At=!1;function An(e,t,n){for(n=n.child;n!==null;)Ih(e,t,n),n=n.sibling}function Ih(e,t,n){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Ye,n)}catch{}switch(n.tag){case 26:rt||hn(n,t),An(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:rt||hn(n,t);var i=Qe,o=At;ta(n.type)&&(Qe=n.stateNode,At=!1),An(e,t,n),wr(n.stateNode),Qe=i,At=o;break;case 5:rt||hn(n,t);case 6:if(i=Qe,o=At,Qe=null,An(e,t,n),Qe=i,At=o,Qe!==null)if(At)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(n.stateNode)}catch(u){ze(n,t,u)}else try{Qe.removeChild(n.stateNode)}catch(u){ze(n,t,u)}break;case 18:Qe!==null&&(At?(e=Qe,Mf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ei(e)):Mf(Qe,n.stateNode));break;case 4:i=Qe,o=At,Qe=n.stateNode.containerInfo,At=!0,An(e,t,n),Qe=i,At=o;break;case 0:case 11:case 14:case 15:Qn(2,n,t),rt||Qn(4,n,t),An(e,t,n);break;case 1:rt||(hn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Mh(n,t,i)),An(e,t,n);break;case 21:An(e,t,n);break;case 22:rt=(i=rt)||n.memoizedState!==null,An(e,t,n),rt=i;break;default:An(e,t,n)}}function Vh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ei(e)}catch(n){ze(t,t.return,n)}}}function Yh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ei(e)}catch(n){ze(t,t.return,n)}}function k0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Hh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Hh),t;default:throw Error(s(435,e.tag))}}function kl(e,t){var n=k0(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var o=q0.bind(null,e,i);i.then(o,o)}})}function jt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i],u=e,f=t,m=f;e:for(;m!==null;){switch(m.tag){case 27:if(ta(m.type)){Qe=m.stateNode,At=!1;break e}break;case 5:Qe=m.stateNode,At=!1;break e;case 3:case 4:Qe=m.stateNode.containerInfo,At=!0;break e}m=m.return}if(Qe===null)throw Error(s(160));Ih(u,f,o),Qe=null,At=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Kh(t,e),t=t.sibling}var nn=null;function Kh(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jt(t,e),Ot(e),i&4&&(Qn(3,e,e.return),dr(3,e),Qn(5,e,e.return));break;case 1:jt(t,e),Ot(e),i&512&&(rt||n===null||hn(n,n.return)),i&64&&xn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var o=nn;if(jt(t,e),Ot(e),i&512&&(rt||n===null||hn(n,n.return)),i&4){var u=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Li]||u[ht]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(i),o.head.insertBefore(u,o.querySelector("head > title"))),mt(u,i,n),u[ht]=e,ct(u),i=u;break e;case"link":var f=Xf("link","href",o).get(i+(n.href||""));if(f){for(var m=0;m<f.length;m++)if(u=f[m],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){f.splice(m,1);break t}}u=o.createElement(i),mt(u,i,n),o.head.appendChild(u);break;case"meta":if(f=Xf("meta","content",o).get(i+(n.content||""))){for(m=0;m<f.length;m++)if(u=f[m],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){f.splice(m,1);break t}}u=o.createElement(i),mt(u,i,n),o.head.appendChild(u);break;default:throw Error(s(468,i))}u[ht]=e,ct(u),i=u}e.stateNode=i}else Qf(o,e.type,e.stateNode);else e.stateNode=Kf(o,i,e.memoizedProps);else u!==i?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,i===null?Qf(o,e.type,e.stateNode):Kf(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Io(e,e.memoizedProps,n.memoizedProps)}break;case 27:jt(t,e),Ot(e),i&512&&(rt||n===null||hn(n,n.return)),n!==null&&i&4&&Io(e,e.memoizedProps,n.memoizedProps);break;case 5:if(jt(t,e),Ot(e),i&512&&(rt||n===null||hn(n,n.return)),e.flags&32){o=e.stateNode;try{Ka(o,"")}catch(P){ze(e,e.return,P)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,Io(e,o,n!==null?n.memoizedProps:o)),i&1024&&(Ko=!0);break;case 6:if(jt(t,e),Ot(e),i&4){if(e.stateNode===null)throw Error(s(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(P){ze(e,e.return,P)}}break;case 3:if(Yl=null,o=nn,nn=Il(t.containerInfo),jt(t,e),nn=o,Ot(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ei(t.containerInfo)}catch(P){ze(e,e.return,P)}Ko&&(Ko=!1,Xh(e));break;case 4:i=nn,nn=Il(e.stateNode.containerInfo),jt(t,e),Ot(e),nn=i;break;case 12:jt(t,e),Ot(e);break;case 31:jt(t,e),Ot(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,kl(e,i)));break;case 13:jt(t,e),Ot(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Cl=j()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,kl(e,i)));break;case 22:o=e.memoizedState!==null;var _=n!==null&&n.memoizedState!==null,k=xn,z=rt;if(xn=k||o,rt=z||_,jt(t,e),rt=z,xn=k,Ot(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||_||xn||rt||xa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){_=n=t;try{if(u=_.stateNode,o)f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{m=_.stateNode;var q=_.memoizedProps.style,R=q!=null&&q.hasOwnProperty("display")?q.display:null;m.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(P){ze(_,_.return,P)}}}else if(t.tag===6){if(n===null){_=t;try{_.stateNode.nodeValue=o?"":_.memoizedProps}catch(P){ze(_,_.return,P)}}}else if(t.tag===18){if(n===null){_=t;try{var D=_.stateNode;o?Bf(D,!0):Bf(_.stateNode,!1)}catch(P){ze(_,_.return,P)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,kl(e,n))));break;case 19:jt(t,e),Ot(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,kl(e,i)));break;case 30:break;case 21:break;default:jt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(qh(i)){n=i;break}i=i.return}if(n==null)throw Error(s(160));switch(n.tag){case 27:var o=n.stateNode,u=Vo(e);Ol(e,u,o);break;case 5:var f=n.stateNode;n.flags&32&&(Ka(f,""),n.flags&=-33);var m=Vo(e);Ol(e,m,f);break;case 3:case 4:var _=n.stateNode.containerInfo,k=Vo(e);Yo(e,k,_);break;default:throw Error(s(161))}}catch(z){ze(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Xh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function jn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$h(e,t.alternate,t),t=t.sibling}function xa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Qn(4,t,t.return),xa(t);break;case 1:hn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Mh(t,t.return,n),xa(t);break;case 27:wr(t.stateNode);case 26:case 5:hn(t,t.return),xa(t);break;case 22:t.memoizedState===null&&xa(t);break;case 30:xa(t);break;default:xa(t)}e=e.sibling}}function On(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,u=t,f=u.flags;switch(u.tag){case 0:case 11:case 15:On(o,u,n),dr(4,u);break;case 1:if(On(o,u,n),i=u,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(k){ze(i,i.return,k)}if(i=u,o=i.updateQueue,o!==null){var m=i.stateNode;try{var _=o.shared.hiddenCallbacks;if(_!==null)for(o.shared.hiddenCallbacks=null,o=0;o<_.length;o++)Td(_[o],m)}catch(k){ze(i,i.return,k)}}n&&f&64&&zh(u),hr(u,u.return);break;case 27:Lh(u);case 26:case 5:On(o,u,n),n&&i===null&&f&4&&Bh(u),hr(u,u.return);break;case 12:On(o,u,n);break;case 31:On(o,u,n),n&&f&4&&Vh(o,u);break;case 13:On(o,u,n),n&&f&4&&Yh(o,u);break;case 22:u.memoizedState===null&&On(o,u,n),hr(u,u.return);break;case 30:break;default:On(o,u,n)}t=t.sibling}}function Xo(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Wi(n))}function Qo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wi(e))}function an(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qh(e,t,n,i),t=t.sibling}function Qh(e,t,n,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:an(e,t,n,i),o&2048&&dr(9,t);break;case 1:an(e,t,n,i);break;case 3:an(e,t,n,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wi(e)));break;case 12:if(o&2048){an(e,t,n,i),e=t.stateNode;try{var u=t.memoizedProps,f=u.id,m=u.onPostCommit;typeof m=="function"&&m(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){ze(t,t.return,_)}}else an(e,t,n,i);break;case 31:an(e,t,n,i);break;case 13:an(e,t,n,i);break;case 23:break;case 22:u=t.stateNode,f=t.alternate,t.memoizedState!==null?u._visibility&2?an(e,t,n,i):fr(e,t):u._visibility&2?an(e,t,n,i):(u._visibility|=2,hi(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Xo(f,t);break;case 24:an(e,t,n,i),o&2048&&Qo(t.alternate,t);break;default:an(e,t,n,i)}}function hi(e,t,n,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,f=t,m=n,_=i,k=f.flags;switch(f.tag){case 0:case 11:case 15:hi(u,f,m,_,o),dr(8,f);break;case 23:break;case 22:var z=f.stateNode;f.memoizedState!==null?z._visibility&2?hi(u,f,m,_,o):fr(u,f):(z._visibility|=2,hi(u,f,m,_,o)),o&&k&2048&&Xo(f.alternate,f);break;case 24:hi(u,f,m,_,o),o&&k&2048&&Qo(f.alternate,f);break;default:hi(u,f,m,_,o)}t=t.sibling}}function fr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,o=i.flags;switch(i.tag){case 22:fr(n,i),o&2048&&Xo(i.alternate,i);break;case 24:fr(n,i),o&2048&&Qo(i.alternate,i);break;default:fr(n,i)}t=t.sibling}}var gr=8192;function fi(e,t,n){if(e.subtreeFlags&gr)for(e=e.child;e!==null;)Jh(e,t,n),e=e.sibling}function Jh(e,t,n){switch(e.tag){case 26:fi(e,t,n),e.flags&gr&&e.memoizedState!==null&&pm(n,nn,e.memoizedState,e.memoizedProps);break;case 5:fi(e,t,n);break;case 3:case 4:var i=nn;nn=Il(e.stateNode.containerInfo),fi(e,t,n),nn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=gr,gr=16777216,fi(e,t,n),gr=i):fi(e,t,n));break;default:fi(e,t,n)}}function Zh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function pr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];dt=i,Wh(i,e)}Zh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ph(e),e=e.sibling}function Ph(e){switch(e.tag){case 0:case 11:case 15:pr(e),e.flags&2048&&Qn(9,e,e.return);break;case 3:pr(e);break;case 12:pr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Rl(e)):pr(e);break;default:pr(e)}}function Rl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];dt=i,Wh(i,e)}Zh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Qn(8,t,t.return),Rl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Rl(t));break;default:Rl(t)}e=e.sibling}}function Wh(e,t){for(;dt!==null;){var n=dt;switch(n.tag){case 0:case 11:case 15:Qn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Wi(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,dt=i;else e:for(n=e;dt!==null;){i=dt;var o=i.sibling,u=i.return;if(Gh(i),i===n){dt=null;break e}if(o!==null){o.return=u,dt=o;break e}dt=u}}}var R0={getCacheForType:function(e){var t=gt(nt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return gt(nt).controller.signal}},C0=typeof WeakMap=="function"?WeakMap:Map,ke=0,Ge=null,ve=null,_e=0,Ue=0,zt=null,Jn=!1,gi=!1,Jo=!1,kn=0,Pe=0,Zn=0,Aa=0,Zo=0,Mt=0,pi=0,mr=null,kt=null,Po=!1,Cl=0,Fh=0,Nl=1/0,Dl=null,Pn=null,st=0,Wn=null,mi=null,Rn=0,Wo=0,Fo=null,ef=null,yr=0,eu=null;function Bt(){return(ke&2)!==0&&_e!==0?_e&-_e:N.T!==null?lu():mc()}function tf(){if(Mt===0)if((_e&536870912)===0||Se){var e=It;It<<=1,(It&3932160)===0&&(It=262144),Mt=e}else Mt=536870912;return e=Dt.current,e!==null&&(e.flags|=32),Mt}function Rt(e,t,n){(e===Ge&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)&&(yi(e,0),Fn(e,_e,Mt,!1)),qi(e,n),((ke&2)===0||e!==Ge)&&(e===Ge&&((ke&2)===0&&(Aa|=n),Pe===4&&Fn(e,_e,Mt,!1)),fn(e))}function nf(e,t,n){if((ke&6)!==0)throw Error(s(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Bi(e,t),o=i?U0(e,t):nu(e,t,!0),u=i;do{if(o===0){gi&&!i&&Fn(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!N0(n)){o=nu(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var m=e;o=mr;var _=m.current.memoizedState.isDehydrated;if(_&&(yi(m,f).flags|=256),f=nu(m,f,!1),f!==2){if(Jo&&!_){m.errorRecoveryDisabledLanes|=u,Aa|=u,o=4;break e}u=kt,kt=o,u!==null&&(kt===null?kt=u:kt.push.apply(kt,u))}o=f}if(u=!1,o!==2)continue}}if(o===1){yi(e,0),Fn(e,t,0,!0);break}e:{switch(i=e,u=o,u){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Fn(i,t,Mt,!Jn);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(o=Cl+300-j(),10<o)){if(Fn(i,t,Mt,!Jn),Ir(i,0,!0)!==0)break e;Rn=t,i.timeoutHandle=Uf(af.bind(null,i,n,kt,Dl,Po,t,Mt,Aa,pi,Jn,u,"Throttled",-0,0),o);break e}af(i,n,kt,Dl,Po,t,Mt,Aa,pi,Jn,u,null,-0,0)}}break}while(!0);fn(e)}function af(e,t,n,i,o,u,f,m,_,k,z,q,R,D){if(e.timeoutHandle=-1,q=t.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pn},Jh(t,u,q);var P=(u&62914560)===u?Cl-j():(u&4194048)===u?Fh-j():0;if(P=mm(q,P),P!==null){Rn=u,e.cancelPendingCommit=P(hf.bind(null,e,t,u,n,i,o,f,m,_,z,q,null,R,D)),Fn(e,u,f,!k);return}}hf(e,t,u,n,i,o,f,m,_)}function N0(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var o=n[i],u=o.getSnapshot;o=o.value;try{if(!Ct(u(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fn(e,t,n,i){t&=~Zo,t&=~Aa,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var u=31-Be(o),f=1<<u;i[u]=-1,o&=~f}n!==0&&fc(e,n,t)}function Ul(){return(ke&6)===0?(vr(0),!1):!0}function tu(){if(ve!==null){if(Ue===0)var e=ve.return;else e=ve,bn=ya=null,yo(e),si=null,er=0,e=ve;for(;e!==null;)Uh(e.alternate,e),e=e.return;ve=null}}function yi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,W0(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Rn=0,tu(),Ge=e,ve=n=yn(e.current,null),_e=t,Ue=0,zt=null,Jn=!1,gi=Bi(e,t),Jo=!1,pi=Mt=Zo=Aa=Zn=Pe=0,kt=mr=null,Po=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-Be(i),u=1<<o;t|=e[o],i&=~u}return kn=t,tl(),n}function rf(e,t){pe=null,N.H=or,t===li||t===ul?(t=_d(),Ue=3):t===io?(t=_d(),Ue=4):Ue=t===Do?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,zt=t,ve===null&&(Pe=1,El(e,Xt(t,e.current)))}function lf(){var e=Dt.current;return e===null?!0:(_e&4194048)===_e?Pt===null:(_e&62914560)===_e||(_e&536870912)!==0?e===Pt:!1}function sf(){var e=N.H;return N.H=or,e===null?or:e}function of(){var e=N.A;return N.A=R0,e}function zl(){Pe=4,Jn||(_e&4194048)!==_e&&Dt.current!==null||(gi=!0),(Zn&134217727)===0&&(Aa&134217727)===0||Ge===null||Fn(Ge,_e,Mt,!1)}function nu(e,t,n){var i=ke;ke|=2;var o=sf(),u=of();(Ge!==e||_e!==t)&&(Dl=null,yi(e,t)),t=!1;var f=Pe;e:do try{if(Ue!==0&&ve!==null){var m=ve,_=zt;switch(Ue){case 8:tu(),f=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(t=!0);var k=Ue;if(Ue=0,zt=null,vi(e,m,_,k),n&&gi){f=0;break e}break;default:k=Ue,Ue=0,zt=null,vi(e,m,_,k)}}D0(),f=Pe;break}catch(z){rf(e,z)}while(!0);return t&&e.shellSuspendCounter++,bn=ya=null,ke=i,N.H=o,N.A=u,ve===null&&(Ge=null,_e=0,tl()),f}function D0(){for(;ve!==null;)uf(ve)}function U0(e,t){var n=ke;ke|=2;var i=sf(),o=of();Ge!==e||_e!==t?(Dl=null,Nl=j()+500,yi(e,t)):gi=Bi(e,t);e:do try{if(Ue!==0&&ve!==null){t=ve;var u=zt;t:switch(Ue){case 1:Ue=0,zt=null,vi(e,t,u,1);break;case 2:case 9:if(vd(u)){Ue=0,zt=null,cf(t);break}t=function(){Ue!==2&&Ue!==9||Ge!==e||(Ue=7),fn(e)},u.then(t,t);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:vd(u)?(Ue=0,zt=null,cf(t)):(Ue=0,zt=null,vi(e,t,u,7));break;case 5:var f=null;switch(ve.tag){case 26:f=ve.memoizedState;case 5:case 27:var m=ve;if(f?Jf(f):m.stateNode.complete){Ue=0,zt=null;var _=m.sibling;if(_!==null)ve=_;else{var k=m.return;k!==null?(ve=k,Ml(k)):ve=null}break t}}Ue=0,zt=null,vi(e,t,u,5);break;case 6:Ue=0,zt=null,vi(e,t,u,6);break;case 8:tu(),Pe=6;break e;default:throw Error(s(462))}}z0();break}catch(z){rf(e,z)}while(!0);return bn=ya=null,N.H=i,N.A=o,ke=n,ve!==null?0:(Ge=null,_e=0,tl(),Pe)}function z0(){for(;ve!==null&&!Mi();)uf(ve)}function uf(e){var t=Nh(e.alternate,e,kn);e.memoizedProps=e.pendingProps,t===null?Ml(e):ve=t}function cf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ah(n,t,t.pendingProps,t.type,void 0,_e);break;case 11:t=Ah(n,t,t.pendingProps,t.type.render,t.ref,_e);break;case 5:yo(t);default:Uh(n,t),t=ve=sd(t,kn),t=Nh(n,t,kn)}e.memoizedProps=e.pendingProps,t===null?Ml(e):ve=t}function vi(e,t,n,i){bn=ya=null,yo(t),si=null,er=0;var o=t.return;try{if(E0(e,o,t,n,_e)){Pe=1,El(e,Xt(n,e.current)),ve=null;return}}catch(u){if(o!==null)throw ve=o,u;Pe=1,El(e,Xt(n,e.current)),ve=null;return}t.flags&32768?(Se||i===1?e=!0:gi||(_e&536870912)!==0?e=!1:(Jn=e=!0,(i===2||i===9||i===3||i===6)&&(i=Dt.current,i!==null&&i.tag===13&&(i.flags|=16384))),df(t,e)):Ml(t)}function Ml(e){var t=e;do{if((t.flags&32768)!==0){df(t,Jn);return}e=t.return;var n=A0(t.alternate,t,kn);if(n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);Pe===0&&(Pe=5)}function df(e,t){do{var n=j0(e.alternate,e);if(n!==null){n.flags&=32767,ve=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ve=e;return}ve=e=n}while(e!==null);Pe=6,ve=null}function hf(e,t,n,i,o,u,f,m,_){e.cancelPendingCommit=null;do Bl();while(st!==0);if((ke&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(u=t.lanes|t.childLanes,u|=Is,gp(e,n,u,f,m,_),e===Ge&&(ve=Ge=null,_e=0),mi=t,Wn=e,Rn=n,Wo=u,Fo=o,ef=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,L0(me,function(){return yf(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=N.T,N.T=null,o=Y.p,Y.p=2,f=ke,ke|=4;try{O0(e,t,n)}finally{ke=f,Y.p=o,N.T=i}}st=1,ff(),gf(),pf()}}function ff(){if(st===1){st=0;var e=Wn,t=mi,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=N.T,N.T=null;var i=Y.p;Y.p=2;var o=ke;ke|=4;try{Kh(t,e);var u=gu,f=Wc(e.containerInfo),m=u.focusedElem,_=u.selectionRange;if(f!==m&&m&&m.ownerDocument&&Pc(m.ownerDocument.documentElement,m)){if(_!==null&&qs(m)){var k=_.start,z=_.end;if(z===void 0&&(z=k),"selectionStart"in m)m.selectionStart=k,m.selectionEnd=Math.min(z,m.value.length);else{var q=m.ownerDocument||document,R=q&&q.defaultView||window;if(R.getSelection){var D=R.getSelection(),P=m.textContent.length,re=Math.min(_.start,P),He=_.end===void 0?re:Math.min(_.end,P);!D.extend&&re>He&&(f=He,He=re,re=f);var x=Zc(m,re),S=Zc(m,He);if(x&&S&&(D.rangeCount!==1||D.anchorNode!==x.node||D.anchorOffset!==x.offset||D.focusNode!==S.node||D.focusOffset!==S.offset)){var O=q.createRange();O.setStart(x.node,x.offset),D.removeAllRanges(),re>He?(D.addRange(O),D.extend(S.node,S.offset)):(O.setEnd(S.node,S.offset),D.addRange(O))}}}}for(q=[],D=m;D=D.parentNode;)D.nodeType===1&&q.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<q.length;m++){var M=q[m];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}Jl=!!fu,gu=fu=null}finally{ke=o,Y.p=i,N.T=n}}e.current=t,st=2}}function gf(){if(st===2){st=0;var e=Wn,t=mi,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=N.T,N.T=null;var i=Y.p;Y.p=2;var o=ke;ke|=4;try{$h(e,t.alternate,t)}finally{ke=o,Y.p=i,N.T=n}}st=3}}function pf(){if(st===4||st===3){st=0,$r();var e=Wn,t=mi,n=Rn,i=ef;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?st=5:(st=0,mi=Wn=null,mf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Pn=null),bs(n),t=t.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Ye,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=N.T,o=Y.p,Y.p=2,N.T=null;try{for(var u=e.onRecoverableError,f=0;f<i.length;f++){var m=i[f];u(m.value,{componentStack:m.stack})}}finally{N.T=t,Y.p=o}}(Rn&3)!==0&&Bl(),fn(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===eu?yr++:(yr=0,eu=e):yr=0,vr(0)}}function mf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Wi(t)))}function Bl(){return ff(),gf(),pf(),yf()}function yf(){if(st!==5)return!1;var e=Wn,t=Wo;Wo=0;var n=bs(Rn),i=N.T,o=Y.p;try{Y.p=32>n?32:n,N.T=null,n=Fo,Fo=null;var u=Wn,f=Rn;if(st=0,mi=Wn=null,Rn=0,(ke&6)!==0)throw Error(s(331));var m=ke;if(ke|=4,Ph(u.current),Qh(u,u.current,f,n),ke=m,vr(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Ye,u)}catch{}return!0}finally{Y.p=o,N.T=i,mf(e,t)}}function vf(e,t,n){t=Xt(n,t),t=No(e.stateNode,t,2),e=Yn(e,t,2),e!==null&&(qi(e,2),fn(e))}function ze(e,t,n){if(e.tag===3)vf(e,e,n);else for(;t!==null;){if(t.tag===3){vf(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Pn===null||!Pn.has(i))){e=Xt(n,e),n=vh(2),i=Yn(t,n,2),i!==null&&(bh(n,i,t,e),qi(i,2),fn(i));break}}t=t.return}}function au(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new C0;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(Jo=!0,o.add(n),e=M0.bind(null,e,t,n),t.then(e,e))}function M0(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ge===e&&(_e&n)===n&&(Pe===4||Pe===3&&(_e&62914560)===_e&&300>j()-Cl?(ke&2)===0&&yi(e,0):Zo|=n,pi===_e&&(pi=0)),fn(e)}function bf(e,t){t===0&&(t=hc()),e=ga(e,t),e!==null&&(qi(e,t),fn(e))}function B0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bf(e,n)}function q0(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(s(314))}i!==null&&i.delete(t),bf(e,n)}function L0(e,t){return Ba(e,t)}var ql=null,bi=null,iu=!1,Ll=!1,ru=!1,ea=0;function fn(e){e!==bi&&e.next===null&&(bi===null?ql=bi=e:bi=bi.next=e),Ll=!0,iu||(iu=!0,$0())}function vr(e,t){if(!ru&&Ll){ru=!0;do for(var n=!1,i=ql;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var u=0;else{var f=i.suspendedLanes,m=i.pingedLanes;u=(1<<31-Be(42|e)+1)-1,u&=o&~(f&~m),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,Ef(i,u))}else u=_e,u=Ir(i,i===Ge?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(u&3)===0||Bi(i,u)||(n=!0,Ef(i,u));i=i.next}while(n);ru=!1}}function H0(){_f()}function _f(){Ll=iu=!1;var e=0;ea!==0&&P0()&&(e=ea);for(var t=j(),n=null,i=ql;i!==null;){var o=i.next,u=wf(i,t);u===0?(i.next=null,n===null?ql=o:n.next=o,o===null&&(bi=n)):(n=i,(e!==0||(u&3)!==0)&&(Ll=!0)),i=o}st!==0&&st!==5||vr(e),ea!==0&&(ea=0)}function wf(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var f=31-Be(u),m=1<<f,_=o[f];_===-1?((m&n)===0||(m&i)!==0)&&(o[f]=fp(m,t)):_<=t&&(e.expiredLanes|=m),u&=~m}if(t=Ge,n=_e,n=Ir(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&qa(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Bi(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&qa(i),bs(n)){case 2:case 8:n=Ee;break;case 32:n=me;break;case 268435456:n=ue;break;default:n=me}return i=Sf.bind(null,e),n=Ba(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&qa(i),e.callbackPriority=2,e.callbackNode=null,2}function Sf(e,t){if(st!==0&&st!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Bl()&&e.callbackNode!==n)return null;var i=_e;return i=Ir(e,e===Ge?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(nf(e,i,t),wf(e,j()),e.callbackNode!=null&&e.callbackNode===n?Sf.bind(null,e):null)}function Ef(e,t){if(Bl())return null;nf(e,t,!0)}function $0(){F0(function(){(ke&6)!==0?Ba(W,H0):_f()})}function lu(){if(ea===0){var e=ii;e===0&&(e=La,La<<=1,(La&261888)===0&&(La=256)),ea=e}return ea}function Tf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xr(""+e)}function xf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function G0(e,t,n,i,o){if(t==="submit"&&n&&n.stateNode===o){var u=Tf((o[Tt]||null).action),f=i.submitter;f&&(t=(t=f[Tt]||null)?Tf(t.formAction):f.getAttribute("formAction"),t!==null&&(u=t,f=null));var m=new Pr("action","action",null,i,o);e.push({event:m,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ea!==0){var _=f?xf(o,f):new FormData(o);Ao(n,{pending:!0,data:_,method:o.method,action:u},null,_)}}else typeof u=="function"&&(m.preventDefault(),_=f?xf(o,f):new FormData(o),Ao(n,{pending:!0,data:_,method:o.method,action:u},u,_))},currentTarget:o}]})}}for(var su=0;su<Gs.length;su++){var ou=Gs[su],I0=ou.toLowerCase(),V0=ou[0].toUpperCase()+ou.slice(1);tn(I0,"on"+V0)}tn(td,"onAnimationEnd"),tn(nd,"onAnimationIteration"),tn(ad,"onAnimationStart"),tn("dblclick","onDoubleClick"),tn("focusin","onFocus"),tn("focusout","onBlur"),tn(l0,"onTransitionRun"),tn(s0,"onTransitionStart"),tn(o0,"onTransitionCancel"),tn(id,"onTransitionEnd"),Va("onMouseEnter",["mouseout","mouseover"]),Va("onMouseLeave",["mouseout","mouseover"]),Va("onPointerEnter",["pointerout","pointerover"]),Va("onPointerLeave",["pointerout","pointerover"]),ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ca("onBeforeInput",["compositionend","keypress","textInput","paste"]),ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(br));function Af(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var u=void 0;if(t)for(var f=i.length-1;0<=f;f--){var m=i[f],_=m.instance,k=m.currentTarget;if(m=m.listener,_!==u&&o.isPropagationStopped())break e;u=m,o.currentTarget=k;try{u(o)}catch(z){el(z)}o.currentTarget=null,u=_}else for(f=0;f<i.length;f++){if(m=i[f],_=m.instance,k=m.currentTarget,m=m.listener,_!==u&&o.isPropagationStopped())break e;u=m,o.currentTarget=k;try{u(o)}catch(z){el(z)}o.currentTarget=null,u=_}}}}function be(e,t){var n=t[_s];n===void 0&&(n=t[_s]=new Set);var i=e+"__bubble";n.has(i)||(jf(t,e,2,!1),n.add(i))}function uu(e,t,n){var i=0;t&&(i|=4),jf(n,e,i,t)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function cu(e){if(!e[Hl]){e[Hl]=!0,bc.forEach(function(n){n!=="selectionchange"&&(Y0.has(n)||uu(n,!1,e),uu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hl]||(t[Hl]=!0,uu("selectionchange",!1,t))}}function jf(e,t,n,i){switch(ng(t)){case 2:var o=bm;break;case 8:o=_m;break;default:o=xu}n=o.bind(null,t,n,e),o=void 0,!ks||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function du(e,t,n,i,o){var u=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var f=i.tag;if(f===3||f===4){var m=i.stateNode.containerInfo;if(m===o)break;if(f===4)for(f=i.return;f!==null;){var _=f.tag;if((_===3||_===4)&&f.stateNode.containerInfo===o)return;f=f.return}for(;m!==null;){if(f=$a(m),f===null)return;if(_=f.tag,_===5||_===6||_===26||_===27){i=u=f;continue e}m=m.parentNode}}i=i.return}Cc(function(){var k=u,z=js(n),q=[];e:{var R=rd.get(e);if(R!==void 0){var D=Pr,P=e;switch(e){case"keypress":if(Jr(n)===0)break e;case"keydown":case"keyup":D=qp;break;case"focusin":P="focus",D=Ds;break;case"focusout":P="blur",D=Ds;break;case"beforeblur":case"afterblur":D=Ds;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=Ap;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=$p;break;case td:case nd:case ad:D=kp;break;case id:D=Ip;break;case"scroll":case"scrollend":D=Tp;break;case"wheel":D=Yp;break;case"copy":case"cut":case"paste":D=Cp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Mc;break;case"toggle":case"beforetoggle":D=Xp}var re=(t&4)!==0,He=!re&&(e==="scroll"||e==="scrollend"),x=re?R!==null?R+"Capture":null:R;re=[];for(var S=k,O;S!==null;){var M=S;if(O=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||O===null||x===null||(M=$i(S,x),M!=null&&re.push(_r(S,M,O))),He)break;S=S.return}0<re.length&&(R=new D(R,P,null,n,z),q.push({event:R,listeners:re}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",R&&n!==As&&(P=n.relatedTarget||n.fromElement)&&($a(P)||P[Ha]))break e;if((D||R)&&(R=z.window===z?z:(R=z.ownerDocument)?R.defaultView||R.parentWindow:window,D?(P=n.relatedTarget||n.toElement,D=k,P=P?$a(P):null,P!==null&&(He=d(P),re=P.tag,P!==He||re!==5&&re!==27&&re!==6)&&(P=null)):(D=null,P=k),D!==P)){if(re=Uc,M="onMouseLeave",x="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(re=Mc,M="onPointerLeave",x="onPointerEnter",S="pointer"),He=D==null?R:Hi(D),O=P==null?R:Hi(P),R=new re(M,S+"leave",D,n,z),R.target=He,R.relatedTarget=O,M=null,$a(z)===k&&(re=new re(x,S+"enter",P,n,z),re.target=O,re.relatedTarget=He,M=re),He=M,D&&P)t:{for(re=K0,x=D,S=P,O=0,M=x;M;M=re(M))O++;M=0;for(var ae=S;ae;ae=re(ae))M++;for(;0<O-M;)x=re(x),O--;for(;0<M-O;)S=re(S),M--;for(;O--;){if(x===S||S!==null&&x===S.alternate){re=x;break t}x=re(x),S=re(S)}re=null}else re=null;D!==null&&Of(q,R,D,re,!1),P!==null&&He!==null&&Of(q,He,P,re,!0)}}e:{if(R=k?Hi(k):window,D=R.nodeName&&R.nodeName.toLowerCase(),D==="select"||D==="input"&&R.type==="file")var xe=Vc;else if(Gc(R))if(Yc)xe=a0;else{xe=t0;var F=e0}else D=R.nodeName,!D||D.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?k&&xs(k.elementType)&&(xe=Vc):xe=n0;if(xe&&(xe=xe(e,k))){Ic(q,xe,n,z);break e}F&&F(e,R,k),e==="focusout"&&k&&R.type==="number"&&k.memoizedProps.value!=null&&Ts(R,"number",R.value)}switch(F=k?Hi(k):window,e){case"focusin":(Gc(F)||F.contentEditable==="true")&&(Za=F,Ls=k,Ji=null);break;case"focusout":Ji=Ls=Za=null;break;case"mousedown":Hs=!0;break;case"contextmenu":case"mouseup":case"dragend":Hs=!1,Fc(q,n,z);break;case"selectionchange":if(r0)break;case"keydown":case"keyup":Fc(q,n,z)}var ye;if(zs)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Ja?Hc(e,n)&&(we="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(we="onCompositionStart");we&&(Bc&&n.locale!=="ko"&&(Ja||we!=="onCompositionStart"?we==="onCompositionEnd"&&Ja&&(ye=Nc()):(qn=z,Rs="value"in qn?qn.value:qn.textContent,Ja=!0)),F=$l(k,we),0<F.length&&(we=new zc(we,e,null,n,z),q.push({event:we,listeners:F}),ye?we.data=ye:(ye=$c(n),ye!==null&&(we.data=ye)))),(ye=Jp?Zp(e,n):Pp(e,n))&&(we=$l(k,"onBeforeInput"),0<we.length&&(F=new zc("onBeforeInput","beforeinput",null,n,z),q.push({event:F,listeners:we}),F.data=ye)),G0(q,e,k,n,z)}Af(q,t)})}function _r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $l(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=$i(e,n),o!=null&&i.unshift(_r(e,o,u)),o=$i(e,t),o!=null&&i.push(_r(e,o,u))),e.tag===3)return i;e=e.return}return[]}function K0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Of(e,t,n,i,o){for(var u=t._reactName,f=[];n!==null&&n!==i;){var m=n,_=m.alternate,k=m.stateNode;if(m=m.tag,_!==null&&_===i)break;m!==5&&m!==26&&m!==27||k===null||(_=k,o?(k=$i(n,u),k!=null&&f.unshift(_r(n,k,_))):o||(k=$i(n,u),k!=null&&f.push(_r(n,k,_)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var X0=/\r\n?/g,Q0=/\u0000|\uFFFD/g;function kf(e){return(typeof e=="string"?e:""+e).replace(X0,`
`).replace(Q0,"")}function Rf(e,t){return t=kf(t),kf(e)===t}function Le(e,t,n,i,o,u){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Ka(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Ka(e,""+i);break;case"className":Yr(e,"class",i);break;case"tabIndex":Yr(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Yr(e,n,i);break;case"style":kc(e,i,u);break;case"data":if(t!=="object"){Yr(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Xr(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&Le(e,t,"name",o.name,o,null),Le(e,t,"formEncType",o.formEncType,o,null),Le(e,t,"formMethod",o.formMethod,o,null),Le(e,t,"formTarget",o.formTarget,o,null)):(Le(e,t,"encType",o.encType,o,null),Le(e,t,"method",o.method,o,null),Le(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Xr(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=pn);break;case"onScroll":i!=null&&be("scroll",e);break;case"onScrollEnd":i!=null&&be("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(s(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Xr(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":be("beforetoggle",e),be("toggle",e),Vr(e,"popover",i);break;case"xlinkActuate":gn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":gn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":gn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":gn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":gn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":gn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":gn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":gn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":gn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Vr(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Sp.get(n)||n,Vr(e,n,i))}}function hu(e,t,n,i,o,u){switch(n){case"style":kc(e,i,u);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(s(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Ka(e,i):(typeof i=="number"||typeof i=="bigint")&&Ka(e,""+i);break;case"onScroll":i!=null&&be("scroll",e);break;case"onScrollEnd":i!=null&&be("scrollend",e);break;case"onClick":i!=null&&(e.onclick=pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_c.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),u=e[Tt]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof i=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,o);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Vr(e,n,i)}}}function mt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",e),be("load",e);var i=!1,o=!1,u;for(u in n)if(n.hasOwnProperty(u)){var f=n[u];if(f!=null)switch(u){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Le(e,t,u,f,n,null)}}o&&Le(e,t,"srcSet",n.srcSet,n,null),i&&Le(e,t,"src",n.src,n,null);return;case"input":be("invalid",e);var m=u=f=o=null,_=null,k=null;for(i in n)if(n.hasOwnProperty(i)){var z=n[i];if(z!=null)switch(i){case"name":o=z;break;case"type":f=z;break;case"checked":_=z;break;case"defaultChecked":k=z;break;case"value":u=z;break;case"defaultValue":m=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,t));break;default:Le(e,t,i,z,n,null)}}xc(e,u,m,_,k,f,o,!1);return;case"select":be("invalid",e),i=f=u=null;for(o in n)if(n.hasOwnProperty(o)&&(m=n[o],m!=null))switch(o){case"value":u=m;break;case"defaultValue":f=m;break;case"multiple":i=m;default:Le(e,t,o,m,n,null)}t=u,n=f,e.multiple=!!i,t!=null?Ya(e,!!i,t,!1):n!=null&&Ya(e,!!i,n,!0);return;case"textarea":be("invalid",e),u=o=i=null;for(f in n)if(n.hasOwnProperty(f)&&(m=n[f],m!=null))switch(f){case"value":i=m;break;case"defaultValue":o=m;break;case"children":u=m;break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:Le(e,t,f,m,n,null)}jc(e,i,o,u);return;case"option":for(_ in n)n.hasOwnProperty(_)&&(i=n[_],i!=null)&&(_==="selected"?e.selected=i&&typeof i!="function"&&typeof i!="symbol":Le(e,t,_,i,n,null));return;case"dialog":be("beforetoggle",e),be("toggle",e),be("cancel",e),be("close",e);break;case"iframe":case"object":be("load",e);break;case"video":case"audio":for(i=0;i<br.length;i++)be(br[i],e);break;case"image":be("error",e),be("load",e);break;case"details":be("toggle",e);break;case"embed":case"source":case"link":be("error",e),be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in n)if(n.hasOwnProperty(k)&&(i=n[k],i!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Le(e,t,k,i,n,null)}return;default:if(xs(t)){for(z in n)n.hasOwnProperty(z)&&(i=n[z],i!==void 0&&hu(e,t,z,i,n,void 0));return}}for(m in n)n.hasOwnProperty(m)&&(i=n[m],i!=null&&Le(e,t,m,i,n,null))}function J0(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,f=null,m=null,_=null,k=null,z=null;for(D in n){var q=n[D];if(n.hasOwnProperty(D)&&q!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":_=q;default:i.hasOwnProperty(D)||Le(e,t,D,null,i,q)}}for(var R in i){var D=i[R];if(q=n[R],i.hasOwnProperty(R)&&(D!=null||q!=null))switch(R){case"type":u=D;break;case"name":o=D;break;case"checked":k=D;break;case"defaultChecked":z=D;break;case"value":f=D;break;case"defaultValue":m=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(137,t));break;default:D!==q&&Le(e,t,R,D,i,q)}}Es(e,f,m,_,k,z,u,o);return;case"select":D=f=m=R=null;for(u in n)if(_=n[u],n.hasOwnProperty(u)&&_!=null)switch(u){case"value":break;case"multiple":D=_;default:i.hasOwnProperty(u)||Le(e,t,u,null,i,_)}for(o in i)if(u=i[o],_=n[o],i.hasOwnProperty(o)&&(u!=null||_!=null))switch(o){case"value":R=u;break;case"defaultValue":m=u;break;case"multiple":f=u;default:u!==_&&Le(e,t,o,u,i,_)}t=m,n=f,i=D,R!=null?Ya(e,!!n,R,!1):!!i!=!!n&&(t!=null?Ya(e,!!n,t,!0):Ya(e,!!n,n?[]:"",!1));return;case"textarea":D=R=null;for(m in n)if(o=n[m],n.hasOwnProperty(m)&&o!=null&&!i.hasOwnProperty(m))switch(m){case"value":break;case"children":break;default:Le(e,t,m,null,i,o)}for(f in i)if(o=i[f],u=n[f],i.hasOwnProperty(f)&&(o!=null||u!=null))switch(f){case"value":R=o;break;case"defaultValue":D=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(s(91));break;default:o!==u&&Le(e,t,f,o,i,u)}Ac(e,R,D);return;case"option":for(var P in n)R=n[P],n.hasOwnProperty(P)&&R!=null&&!i.hasOwnProperty(P)&&(P==="selected"?e.selected=!1:Le(e,t,P,null,i,R));for(_ in i)R=i[_],D=n[_],i.hasOwnProperty(_)&&R!==D&&(R!=null||D!=null)&&(_==="selected"?e.selected=R&&typeof R!="function"&&typeof R!="symbol":Le(e,t,_,R,i,D));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in n)R=n[re],n.hasOwnProperty(re)&&R!=null&&!i.hasOwnProperty(re)&&Le(e,t,re,null,i,R);for(k in i)if(R=i[k],D=n[k],i.hasOwnProperty(k)&&R!==D&&(R!=null||D!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(137,t));break;default:Le(e,t,k,R,i,D)}return;default:if(xs(t)){for(var He in n)R=n[He],n.hasOwnProperty(He)&&R!==void 0&&!i.hasOwnProperty(He)&&hu(e,t,He,void 0,i,R);for(z in i)R=i[z],D=n[z],!i.hasOwnProperty(z)||R===D||R===void 0&&D===void 0||hu(e,t,z,R,i,D);return}}for(var x in n)R=n[x],n.hasOwnProperty(x)&&R!=null&&!i.hasOwnProperty(x)&&Le(e,t,x,null,i,R);for(q in i)R=i[q],D=n[q],!i.hasOwnProperty(q)||R===D||R==null&&D==null||Le(e,t,q,R,i,D)}function Cf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Z0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var o=n[i],u=o.transferSize,f=o.initiatorType,m=o.duration;if(u&&m&&Cf(f)){for(f=0,m=o.responseEnd,i+=1;i<n.length;i++){var _=n[i],k=_.startTime;if(k>m)break;var z=_.transferSize,q=_.initiatorType;z&&Cf(q)&&(_=_.responseEnd,f+=z*(_<m?1:(m-k)/(_-k)))}if(--i,t+=8*(u+f)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var fu=null,gu=null;function Gl(e){return e.nodeType===9?e:e.ownerDocument}function Nf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Df(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function pu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mu=null;function P0(){var e=window.event;return e&&e.type==="popstate"?e===mu?!1:(mu=e,!0):(mu=null,!1)}var Uf=typeof setTimeout=="function"?setTimeout:void 0,W0=typeof clearTimeout=="function"?clearTimeout:void 0,zf=typeof Promise=="function"?Promise:void 0,F0=typeof queueMicrotask=="function"?queueMicrotask:typeof zf<"u"?function(e){return zf.resolve(null).then(e).catch(em)}:Uf;function em(e){setTimeout(function(){throw e})}function ta(e){return e==="head"}function Mf(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(o),Ei(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")wr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,wr(n);for(var u=n.firstChild;u;){var f=u.nextSibling,m=u.nodeName;u[Li]||m==="SCRIPT"||m==="STYLE"||m==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=f}}else n==="body"&&wr(e.ownerDocument.body);n=o}while(n);Ei(t)}function Bf(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function yu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":yu(n),ws(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function tm(e,t,n,i){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Li])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Wt(e.nextSibling),e===null)break}return null}function nm(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Wt(e.nextSibling),e===null))return null;return e}function qf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Wt(e.nextSibling),e===null))return null;return e}function vu(e){return e.data==="$?"||e.data==="$~"}function bu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function am(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var _u=null;function Lf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Wt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Hf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function $f(e,t,n){switch(t=Gl(n),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function wr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ws(e)}var Ft=new Map,Gf=new Set;function Il(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Cn=Y.d;Y.d={f:im,r:rm,D:lm,C:sm,L:om,m:um,X:dm,S:cm,M:hm};function im(){var e=Cn.f(),t=Ul();return e||t}function rm(e){var t=Ga(e);t!==null&&t.tag===5&&t.type==="form"?ih(t):Cn.r(e)}var _i=typeof document>"u"?null:document;function If(e,t,n){var i=_i;if(i&&typeof t=="string"&&t){var o=Yt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),Gf.has(o)||(Gf.add(o),e={rel:e,crossOrigin:n,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),mt(t,"link",e),ct(t),i.head.appendChild(t)))}}function lm(e){Cn.D(e),If("dns-prefetch",e,null)}function sm(e,t){Cn.C(e,t),If("preconnect",e,t)}function om(e,t,n){Cn.L(e,t,n);var i=_i;if(i&&e&&t){var o='link[rel="preload"][as="'+Yt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Yt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Yt(n.imageSizes)+'"]')):o+='[href="'+Yt(e)+'"]';var u=o;switch(t){case"style":u=wi(e);break;case"script":u=Si(e)}Ft.has(u)||(e=T({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ft.set(u,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(Sr(u))||t==="script"&&i.querySelector(Er(u))||(t=i.createElement("link"),mt(t,"link",e),ct(t),i.head.appendChild(t)))}}function um(e,t){Cn.m(e,t);var n=_i;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Yt(i)+'"][href="'+Yt(e)+'"]',u=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Si(e)}if(!Ft.has(u)&&(e=T({rel:"modulepreload",href:e},t),Ft.set(u,e),n.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Er(u)))return}i=n.createElement("link"),mt(i,"link",e),ct(i),n.head.appendChild(i)}}}function cm(e,t,n){Cn.S(e,t,n);var i=_i;if(i&&e){var o=Ia(i).hoistableStyles,u=wi(e);t=t||"default";var f=o.get(u);if(!f){var m={loading:0,preload:null};if(f=i.querySelector(Sr(u)))m.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ft.get(u))&&wu(e,n);var _=f=i.createElement("link");ct(_),mt(_,"link",e),_._p=new Promise(function(k,z){_.onload=k,_.onerror=z}),_.addEventListener("load",function(){m.loading|=1}),_.addEventListener("error",function(){m.loading|=2}),m.loading|=4,Vl(f,t,i)}f={type:"stylesheet",instance:f,count:1,state:m},o.set(u,f)}}}function dm(e,t){Cn.X(e,t);var n=_i;if(n&&e){var i=Ia(n).hoistableScripts,o=Si(e),u=i.get(o);u||(u=n.querySelector(Er(o)),u||(e=T({src:e,async:!0},t),(t=Ft.get(o))&&Su(e,t),u=n.createElement("script"),ct(u),mt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(o,u))}}function hm(e,t){Cn.M(e,t);var n=_i;if(n&&e){var i=Ia(n).hoistableScripts,o=Si(e),u=i.get(o);u||(u=n.querySelector(Er(o)),u||(e=T({src:e,async:!0,type:"module"},t),(t=Ft.get(o))&&Su(e,t),u=n.createElement("script"),ct(u),mt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(o,u))}}function Vf(e,t,n,i){var o=(o=fe.current)?Il(o):null;if(!o)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=wi(n.href),n=Ia(o).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=wi(n.href);var u=Ia(o).hoistableStyles,f=u.get(e);if(f||(o=o.ownerDocument||o,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,f),(u=o.querySelector(Sr(e)))&&!u._p&&(f.instance=u,f.state.loading=5),Ft.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ft.set(e,n),u||fm(o,e,n,f.state))),t&&i===null)throw Error(s(528,""));return f}if(t&&i!==null)throw Error(s(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Si(n),n=Ia(o).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function wi(e){return'href="'+Yt(e)+'"'}function Sr(e){return'link[rel="stylesheet"]['+e+"]"}function Yf(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function fm(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),mt(t,"link",n),ct(t),e.head.appendChild(t))}function Si(e){return'[src="'+Yt(e)+'"]'}function Er(e){return"script[async]"+e}function Kf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Yt(n.href)+'"]');if(i)return t.instance=i,ct(i),i;var o=T({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),ct(i),mt(i,"style",o),Vl(i,n.precedence,e),t.instance=i;case"stylesheet":o=wi(n.href);var u=e.querySelector(Sr(o));if(u)return t.state.loading|=4,t.instance=u,ct(u),u;i=Yf(n),(o=Ft.get(o))&&wu(i,o),u=(e.ownerDocument||e).createElement("link"),ct(u);var f=u;return f._p=new Promise(function(m,_){f.onload=m,f.onerror=_}),mt(u,"link",i),t.state.loading|=4,Vl(u,n.precedence,e),t.instance=u;case"script":return u=Si(n.src),(o=e.querySelector(Er(u)))?(t.instance=o,ct(o),o):(i=n,(o=Ft.get(u))&&(i=T({},n),Su(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),ct(o),mt(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Vl(i,n.precedence,e));return t.instance}function Vl(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,u=o,f=0;f<i.length;f++){var m=i[f];if(m.dataset.precedence===t)u=m;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function wu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Su(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Yl=null;function Xf(e,t,n){if(Yl===null){var i=new Map,o=Yl=new Map;o.set(n,i)}else o=Yl,i=o.get(n),i||(i=new Map,o.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var u=n[o];if(!(u[Li]||u[ht]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var f=u.getAttribute(t)||"";f=e+f;var m=i.get(f);m?m.push(u):i.set(f,[u])}}return i}function Qf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function gm(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Jf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function pm(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=wi(i.href),u=t.querySelector(Sr(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Kl.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,ct(u);return}u=t.ownerDocument||t,i=Yf(i),(o=Ft.get(o))&&wu(i,o),u=u.createElement("link"),ct(u);var f=u;f._p=new Promise(function(m,_){f.onload=m,f.onerror=_}),mt(u,"link",i),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Kl.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Eu=0;function mm(e,t){return e.stylesheets&&e.count===0&&Ql(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Ql(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Eu===0&&(Eu=62500*Z0());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ql(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Eu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function Kl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ql(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xl=null;function Ql(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xl=new Map,t.forEach(ym,e),Xl=null,Kl.call(e))}function ym(e,t){if(!(t.state.loading&4)){var n=Xl.get(e);if(n)var i=n.get(null);else{n=new Map,Xl.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var f=o[u];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(n.set(f.dataset.precedence,f),i=f)}i&&n.set(null,i)}o=t.instance,f=o.getAttribute("data-precedence"),u=n.get(f)||i,u===i&&n.set(null,o),n.set(f,o),this.count++,i=Kl.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Tr={$$typeof:H,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function vm(e,t,n,i,o,u,f,m,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ys(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ys(0),this.hiddenUpdates=ys(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Zf(e,t,n,i,o,u,f,m,_,k,z,q){return e=new vm(e,t,n,f,_,k,z,q,m),t=1,u===!0&&(t|=24),u=Nt(3,null,null,t),e.current=u,u.stateNode=e,t=to(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:i,isDehydrated:n,cache:t},ro(u),e}function Pf(e){return e?(e=Fa,e):Fa}function Wf(e,t,n,i,o,u){o=Pf(o),i.context===null?i.context=o:i.pendingContext=o,i=Vn(t),i.payload={element:n},u=u===void 0?null:u,u!==null&&(i.callback=u),n=Yn(e,i,t),n!==null&&(Rt(n,e,t),nr(n,e,t))}function Ff(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Tu(e,t){Ff(e,t),(e=e.alternate)&&Ff(e,t)}function eg(e){if(e.tag===13||e.tag===31){var t=ga(e,67108864);t!==null&&Rt(t,e,67108864),Tu(e,67108864)}}function tg(e){if(e.tag===13||e.tag===31){var t=Bt();t=vs(t);var n=ga(e,t);n!==null&&Rt(n,e,t),Tu(e,t)}}var Jl=!0;function bm(e,t,n,i){var o=N.T;N.T=null;var u=Y.p;try{Y.p=2,xu(e,t,n,i)}finally{Y.p=u,N.T=o}}function _m(e,t,n,i){var o=N.T;N.T=null;var u=Y.p;try{Y.p=8,xu(e,t,n,i)}finally{Y.p=u,N.T=o}}function xu(e,t,n,i){if(Jl){var o=Au(i);if(o===null)du(e,t,i,Zl,n),ag(e,i);else if(Sm(o,e,t,n,i))i.stopPropagation();else if(ag(e,i),t&4&&-1<wm.indexOf(e)){for(;o!==null;){var u=Ga(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var f=ua(u.pendingLanes);if(f!==0){var m=u;for(m.pendingLanes|=2,m.entangledLanes|=2;f;){var _=1<<31-Be(f);m.entanglements[1]|=_,f&=~_}fn(u),(ke&6)===0&&(Nl=j()+500,vr(0))}}break;case 31:case 13:m=ga(u,2),m!==null&&Rt(m,u,2),Ul(),Tu(u,2)}if(u=Au(i),u===null&&du(e,t,i,Zl,n),u===o)break;o=u}o!==null&&i.stopPropagation()}else du(e,t,i,null,n)}}function Au(e){return e=js(e),ju(e)}var Zl=null;function ju(e){if(Zl=null,e=$a(e),e!==null){var t=d(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Zl=e,null}function ng(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(X()){case W:return 2;case Ee:return 8;case me:case ie:return 32;case ue:return 268435456;default:return 32}default:return 32}}var Ou=!1,na=null,aa=null,ia=null,xr=new Map,Ar=new Map,ra=[],wm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ag(e,t){switch(e){case"focusin":case"focusout":na=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":xr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ar.delete(t.pointerId)}}function jr(e,t,n,i,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Ga(t),t!==null&&eg(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Sm(e,t,n,i,o){switch(t){case"focusin":return na=jr(na,e,t,n,i,o),!0;case"dragenter":return aa=jr(aa,e,t,n,i,o),!0;case"mouseover":return ia=jr(ia,e,t,n,i,o),!0;case"pointerover":var u=o.pointerId;return xr.set(u,jr(xr.get(u)||null,e,t,n,i,o)),!0;case"gotpointercapture":return u=o.pointerId,Ar.set(u,jr(Ar.get(u)||null,e,t,n,i,o)),!0}return!1}function ig(e){var t=$a(e.target);if(t!==null){var n=d(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,yc(e.priority,function(){tg(n)});return}}else if(t===31){if(t=g(n),t!==null){e.blockedOn=t,yc(e.priority,function(){tg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Au(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);As=i,n.target.dispatchEvent(i),As=null}else return t=Ga(n),t!==null&&eg(t),e.blockedOn=n,!1;t.shift()}return!0}function rg(e,t,n){Pl(e)&&n.delete(t)}function Em(){Ou=!1,na!==null&&Pl(na)&&(na=null),aa!==null&&Pl(aa)&&(aa=null),ia!==null&&Pl(ia)&&(ia=null),xr.forEach(rg),Ar.forEach(rg)}function Wl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ou||(Ou=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Em)))}var Fl=null;function lg(e){Fl!==e&&(Fl=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Fl===e&&(Fl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(ju(i||n)===null)continue;break}var u=Ga(n);u!==null&&(e.splice(t,3),t-=3,Ao(u,{pending:!0,data:o,method:n.method,action:i},i,o))}}))}function Ei(e){function t(_){return Wl(_,e)}na!==null&&Wl(na,e),aa!==null&&Wl(aa,e),ia!==null&&Wl(ia,e),xr.forEach(t),Ar.forEach(t);for(var n=0;n<ra.length;n++){var i=ra[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<ra.length&&(n=ra[0],n.blockedOn===null);)ig(n),n.blockedOn===null&&ra.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var o=n[i],u=n[i+1],f=o[Tt]||null;if(typeof u=="function")f||lg(n);else if(f){var m=null;if(u&&u.hasAttribute("formAction")){if(o=u,f=u[Tt]||null)m=f.formAction;else if(ju(o)!==null)continue}else m=f.action;typeof m=="function"?n[i+1]=m:(n.splice(i,3),i-=3),lg(n)}}}function sg(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(f){return o=f})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function ku(e){this._internalRoot=e}es.prototype.render=ku.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var n=t.current,i=Bt();Wf(n,i,e,t,null,null)},es.prototype.unmount=ku.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wf(e.current,2,null,e,null,null),Ul(),t[Ha]=null}};function es(e){this._internalRoot=e}es.prototype.unstable_scheduleHydration=function(e){if(e){var t=mc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ra.length&&t!==0&&t<ra[n].priority;n++);ra.splice(n,0,e),n===0&&ig(e)}};var og=a.version;if(og!=="19.2.3")throw Error(s(527,og,"19.2.3"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Tm={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ts.isDisabled&&ts.supportsFiber)try{Ye=ts.inject(Tm),$e=ts}catch{}}return kr.createRoot=function(e,t){if(!c(e))throw Error(s(299));var n=!1,i="",o=gh,u=ph,f=mh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=Zf(e,1,!1,null,null,n,i,null,o,u,f,sg),e[Ha]=t.current,cu(e),new ku(t)},kr.hydrateRoot=function(e,t,n){if(!c(e))throw Error(s(299));var i=!1,o="",u=gh,f=ph,m=mh,_=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(m=n.onRecoverableError),n.formState!==void 0&&(_=n.formState)),t=Zf(e,1,!0,t,n??null,i,o,_,u,f,m,sg),t.context=Pf(null),n=t.current,i=Bt(),i=vs(i),o=Vn(i),o.callback=null,Yn(n,o,i),n=i,t.current.lanes=n,qi(t,n),fn(t),e[Ha]=t.current,cu(e),new es(t)},kr.version="19.2.3",kr}var vg;function Um(){if(vg)return Nu.exports;vg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),Nu.exports=Dm(),Nu.exports}var zm=Um();function fs(r,a){var l={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&a.indexOf(s)<0&&(l[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,s=Object.getOwnPropertySymbols(r);c<s.length;c++)a.indexOf(s[c])<0&&Object.prototype.propertyIsEnumerable.call(r,s[c])&&(l[s[c]]=r[s[c]]);return l}function Mm(r,a,l,s){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function g(b){try{y(s.next(b))}catch(T){h(T)}}function p(b){try{y(s.throw(b))}catch(T){h(T)}}function y(b){b.done?d(b.value):c(b.value).then(g,p)}y((s=s.apply(r,a||[])).next())})}const Bm=r=>r?(...a)=>r(...a):(...a)=>fetch(...a);class lc extends Error{constructor(a,l="FunctionsError",s){super(a),this.name=l,this.context=s}}class qm extends lc{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class bg extends lc{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class _g extends lc{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Ku;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Ku||(Ku={}));class Lm{constructor(a,{headers:l={},customFetch:s,region:c=Ku.Any}={}){this.url=a,this.headers=l,this.region=c,this.fetch=Bm(s)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return Mm(this,arguments,void 0,function*(l,s={}){var c;let d,h;try{const{headers:g,method:p,body:y,signal:b,timeout:T}=s;let w={},{region:C}=s;C||(C=this.region);const A=new URL(`${this.url}/${l}`);C&&C!=="any"&&(w["x-region"]=C,A.searchParams.set("forceFunctionRegion",C));let U;y&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",U=y):typeof y=="string"?(w["Content-Type"]="text/plain",U=y):typeof FormData<"u"&&y instanceof FormData?U=y:(w["Content-Type"]="application/json",U=JSON.stringify(y)):U=y;let B=b;T&&(h=new AbortController,d=setTimeout(()=>h.abort(),T),b?(B=h.signal,b.addEventListener("abort",()=>h.abort())):B=h.signal);const G=yield this.fetch(A.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),g),body:U,signal:B}).catch(ce=>{throw new qm(ce)}),$=G.headers.get("x-relay-error");if($&&$==="true")throw new bg(G);if(!G.ok)throw new _g(G);let H=((c=G.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),I;return H==="application/json"?I=yield G.json():H==="application/octet-stream"||H==="application/pdf"?I=yield G.blob():H==="text/event-stream"?I=G:H==="multipart/form-data"?I=yield G.formData():I=yield G.text(),{data:I,error:null,response:G}}catch(g){return{data:null,error:g,response:g instanceof _g||g instanceof bg?g.context:void 0}}finally{d&&clearTimeout(d)}})}}var Hm=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},$m=class{constructor(r){var a,l;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(a=r.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=r.signal,this.isMaybeSingle=(l=r.isMaybeSingle)!==null&&l!==void 0?l:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,a){return this.headers=new Headers(this.headers),this.headers.set(r,a),this}then(r,a){var l=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let c=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let h=null,g=null,p=null,y=d.status,b=d.statusText;if(d.ok){var T,w;if(l.method!=="HEAD"){var C;const G=await d.text();G===""||(l.headers.get("Accept")==="text/csv"||l.headers.get("Accept")&&(!((C=l.headers.get("Accept"))===null||C===void 0)&&C.includes("application/vnd.pgrst.plan+text"))?g=G:g=JSON.parse(G))}const U=(T=l.headers.get("Prefer"))===null||T===void 0?void 0:T.match(/count=(exact|planned|estimated)/),B=(w=d.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");U&&B&&B.length>1&&(p=parseInt(B[1])),l.isMaybeSingle&&l.method==="GET"&&Array.isArray(g)&&(g.length>1?(h={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,p=null,y=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var A;const U=await d.text();try{h=JSON.parse(U),Array.isArray(h)&&d.status===404&&(g=[],h=null,y=200,b="OK")}catch{d.status===404&&U===""?(y=204,b="No Content"):h={message:U}}if(h&&l.isMaybeSingle&&(!(h==null||(A=h.details)===null||A===void 0)&&A.includes("0 rows"))&&(h=null,y=200,b="OK"),h&&l.shouldThrowOnError)throw new Hm(h)}return{error:h,data:g,count:p,status:y,statusText:b}});return this.shouldThrowOnError||(c=c.catch(d=>{var h;let g="";const p=d?.cause;if(p){var y,b,T,w;const A=(y=p?.message)!==null&&y!==void 0?y:"",U=(b=p?.code)!==null&&b!==void 0?b:"";g=`${(T=d?.name)!==null&&T!==void 0?T:"FetchError"}: ${d?.message}`,g+=`

Caused by: ${(w=p?.name)!==null&&w!==void 0?w:"Error"}: ${A}`,U&&(g+=` (${U})`),p?.stack&&(g+=`
${p.stack}`)}else{var C;g=(C=d?.stack)!==null&&C!==void 0?C:""}return{error:{message:`${(h=d?.name)!==null&&h!==void 0?h:"FetchError"}: ${d?.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(r,a)}returns(){return this}overrideTypes(){return this}},Gm=class extends $m{select(r){let a=!1;const l=(r??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:a=!0,nullsFirst:l,foreignTable:s,referencedTable:c=s}={}){const d=c?`${c}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${r}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:a,referencedTable:l=a}={}){const s=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(s,`${r}`),this}range(r,a,{foreignTable:l,referencedTable:s=l}={}){const c=typeof s>"u"?"offset":`${s}.offset`,d=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(c,`${r}`),this.url.searchParams.set(d,`${a-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:a=!1,settings:l=!1,buffers:s=!1,wal:c=!1,format:d="text"}={}){var h;const g=[r?"analyze":null,a?"verbose":null,l?"settings":null,s?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${p}"; options=${g};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const wg=new RegExp("[,()]");var Ri=class extends Gm{eq(r,a){return this.url.searchParams.append(r,`eq.${a}`),this}neq(r,a){return this.url.searchParams.append(r,`neq.${a}`),this}gt(r,a){return this.url.searchParams.append(r,`gt.${a}`),this}gte(r,a){return this.url.searchParams.append(r,`gte.${a}`),this}lt(r,a){return this.url.searchParams.append(r,`lt.${a}`),this}lte(r,a){return this.url.searchParams.append(r,`lte.${a}`),this}like(r,a){return this.url.searchParams.append(r,`like.${a}`),this}likeAllOf(r,a){return this.url.searchParams.append(r,`like(all).{${a.join(",")}}`),this}likeAnyOf(r,a){return this.url.searchParams.append(r,`like(any).{${a.join(",")}}`),this}ilike(r,a){return this.url.searchParams.append(r,`ilike.${a}`),this}ilikeAllOf(r,a){return this.url.searchParams.append(r,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(r,a){return this.url.searchParams.append(r,`ilike(any).{${a.join(",")}}`),this}regexMatch(r,a){return this.url.searchParams.append(r,`match.${a}`),this}regexIMatch(r,a){return this.url.searchParams.append(r,`imatch.${a}`),this}is(r,a){return this.url.searchParams.append(r,`is.${a}`),this}isDistinct(r,a){return this.url.searchParams.append(r,`isdistinct.${a}`),this}in(r,a){const l=Array.from(new Set(a)).map(s=>typeof s=="string"&&wg.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(r,`in.(${l})`),this}notIn(r,a){const l=Array.from(new Set(a)).map(s=>typeof s=="string"&&wg.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(r,`not.in.(${l})`),this}contains(r,a){return typeof a=="string"?this.url.searchParams.append(r,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(r,`cs.{${a.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(a)}`),this}containedBy(r,a){return typeof a=="string"?this.url.searchParams.append(r,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(r,`cd.{${a.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(a)}`),this}rangeGt(r,a){return this.url.searchParams.append(r,`sr.${a}`),this}rangeGte(r,a){return this.url.searchParams.append(r,`nxl.${a}`),this}rangeLt(r,a){return this.url.searchParams.append(r,`sl.${a}`),this}rangeLte(r,a){return this.url.searchParams.append(r,`nxr.${a}`),this}rangeAdjacent(r,a){return this.url.searchParams.append(r,`adj.${a}`),this}overlaps(r,a){return typeof a=="string"?this.url.searchParams.append(r,`ov.${a}`):this.url.searchParams.append(r,`ov.{${a.join(",")}}`),this}textSearch(r,a,{config:l,type:s}={}){let c="";s==="plain"?c="pl":s==="phrase"?c="ph":s==="websearch"&&(c="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(r,`${c}fts${d}.${a}`),this}match(r){return Object.entries(r).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(r,a,l){return this.url.searchParams.append(r,`not.${a}.${l}`),this}or(r,{foreignTable:a,referencedTable:l=a}={}){const s=l?`${l}.or`:"or";return this.url.searchParams.append(s,`(${r})`),this}filter(r,a,l){return this.url.searchParams.append(r,`${a}.${l}`),this}},Im=class{constructor(r,{headers:a={},schema:l,fetch:s}){this.url=r,this.headers=new Headers(a),this.schema=l,this.fetch=s}select(r,a){const{head:l=!1,count:s}=a??{},c=l?"HEAD":"GET";let d=!1;const h=(r??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",h),s&&this.headers.append("Prefer",`count=${s}`),new Ri({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:a,defaultToNull:l=!0}={}){var s;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const d=r.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){const h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new Ri({method:c,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(r,{onConflict:a,ignoreDuplicates:l=!1,count:s,defaultToNull:c=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),s&&this.headers.append("Prefer",`count=${s}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const g=r.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(g.length>0){const p=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",p.join(","))}}return new Ri({method:h,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(r,{count:a}={}){var l;const s="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new Ri({method:s,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:r}={}){var a;const l="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new Ri({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},Vm=class Xg{constructor(a,{headers:l={},schema:s,fetch:c}={}){this.url=a,this.headers=new Headers(l),this.schemaName=s,this.fetch=c}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Im(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new Xg(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:s=!1,get:c=!1,count:d}={}){var h;let g;const p=new URL(`${this.url}/rpc/${a}`);let y;s||c?(g=s?"HEAD":"GET",Object.entries(l).filter(([T,w])=>w!==void 0).map(([T,w])=>[T,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([T,w])=>{p.searchParams.append(T,w)})):(g="POST",y=l);const b=new Headers(this.headers);return d&&b.set("Prefer",`count=${d}`),new Ri({method:g,url:p,headers:b,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class Ym{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const l=process.versions;if(l&&l.node){const s=l.node,c=parseInt(s.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let l=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(l+=`

Suggested solution: ${a.workaround}`),new Error(l)}static createWebSocket(a,l){const s=this.getWebSocketConstructor();return new s(a,l)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Km="2.89.0",Xm=`realtime-js/${Km}`,Qg="1.0.0",Qm="2.0.0",Sg=Qg,Xu=1e4,Jm=1e3,Zm=100;var sa;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(sa||(sa={}));var ot;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(ot||(ot={}));var sn;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(sn||(sn={}));var Qu;(function(r){r.websocket="websocket"})(Qu||(Qu={}));var Ra;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Ra||(Ra={}));class Pm{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,l){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(a));let s=[a.join_ref,a.ref,a.topic,a.event,a.payload];return l(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(a){var l;return this._isArrayBuffer((l=a.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var l,s;const c=(s=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var l,s;const c=(s=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&s!==void 0?s:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(a,l,s){var c,d;const h=a.topic,g=(c=a.ref)!==null&&c!==void 0?c:"",p=(d=a.join_ref)!==null&&d!==void 0?d:"",y=a.payload.event,b=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},T=Object.keys(b).length===0?"":JSON.stringify(b);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(T.length>255)throw new Error(`metadata length ${T.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+g.length+h.length+y.length+T.length,C=new ArrayBuffer(this.HEADER_LENGTH+w);let A=new DataView(C),U=0;A.setUint8(U++,this.KINDS.userBroadcastPush),A.setUint8(U++,p.length),A.setUint8(U++,g.length),A.setUint8(U++,h.length),A.setUint8(U++,y.length),A.setUint8(U++,T.length),A.setUint8(U++,l),Array.from(p,G=>A.setUint8(U++,G.charCodeAt(0))),Array.from(g,G=>A.setUint8(U++,G.charCodeAt(0))),Array.from(h,G=>A.setUint8(U++,G.charCodeAt(0))),Array.from(y,G=>A.setUint8(U++,G.charCodeAt(0))),Array.from(T,G=>A.setUint8(U++,G.charCodeAt(0)));var B=new Uint8Array(C.byteLength+s.byteLength);return B.set(new Uint8Array(C),0),B.set(new Uint8Array(s),C.byteLength),B.buffer}decode(a,l){if(this._isArrayBuffer(a)){let s=this._binaryDecode(a);return l(s)}if(typeof a=="string"){const s=JSON.parse(a),[c,d,h,g,p]=s;return l({join_ref:c,ref:d,topic:h,event:g,payload:p})}return l({})}_binaryDecode(a){const l=new DataView(a),s=l.getUint8(0),c=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,l,c)}_decodeUserBroadcast(a,l,s){const c=l.getUint8(1),d=l.getUint8(2),h=l.getUint8(3),g=l.getUint8(4);let p=this.HEADER_LENGTH+4;const y=s.decode(a.slice(p,p+c));p=p+c;const b=s.decode(a.slice(p,p+d));p=p+d;const T=s.decode(a.slice(p,p+h));p=p+h;const w=a.slice(p,a.byteLength),C=g===this.JSON_ENCODING?JSON.parse(s.decode(w)):w,A={type:this.BROADCAST_EVENT,event:b,payload:C};return h>0&&(A.meta=JSON.parse(T)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(a){var l;return a instanceof ArrayBuffer||((l=a?.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(a,l){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([s])=>l.includes(s)))}}class Jg{constructor(a,l){this.callback=a,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ie;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Ie||(Ie={}));const Eg=(r,a,l={})=>{var s;const c=(s=l.skipTypes)!==null&&s!==void 0?s:[];return a?Object.keys(a).reduce((d,h)=>(d[h]=Wm(h,r,a,c),d),{}):{}},Wm=(r,a,l,s)=>{const c=a.find(g=>g.name===r),d=c?.type,h=l[r];return d&&!s.includes(d)?Zg(d,h):Ju(h)},Zg=(r,a)=>{if(r.charAt(0)==="_"){const l=r.slice(1,r.length);return ny(a,l)}switch(r){case Ie.bool:return Fm(a);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return ey(a);case Ie.json:case Ie.jsonb:return ty(a);case Ie.timestamp:return ay(a);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return Ju(a);default:return Ju(a)}},Ju=r=>r,Fm=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},ey=r=>{if(typeof r=="string"){const a=parseFloat(r);if(!Number.isNaN(a))return a}return r},ty=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},ny=(r,a)=>{if(typeof r!="string")return r;const l=r.length-1,s=r[l];if(r[0]==="{"&&s==="}"){let d;const h=r.slice(1,l);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(g=>Zg(a,g))}return r},ay=r=>typeof r=="string"?r.replace(" ","T"):r,Pg=r=>{const a=new URL(r);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Mu{constructor(a,l,s={},c=Xu){this.channel=a,this.event=l,this.payload=s,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,l){var s;return this._hasReceived(a)&&l((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:a,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:l}){this.recHooks.filter(s=>s.status===a).forEach(s=>s.callback(l))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Tg;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Tg||(Tg={}));class Cr{constructor(a,l){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=l?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},c=>{const{onJoin:d,onLeave:h,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cr.syncState(this.state,c,d,h),this.pendingDiffs.forEach(p=>{this.state=Cr.syncDiff(this.state,p,d,h)}),this.pendingDiffs=[],g()}),this.channel._on(s.diff,{},c=>{const{onJoin:d,onLeave:h,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Cr.syncDiff(this.state,c,d,h),g())}),this.onJoin((c,d,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:h})}),this.onLeave((c,d,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,l,s,c){const d=this.cloneDeep(a),h=this.transformState(l),g={},p={};return this.map(d,(y,b)=>{h[y]||(p[y]=b)}),this.map(h,(y,b)=>{const T=d[y];if(T){const w=b.map(B=>B.presence_ref),C=T.map(B=>B.presence_ref),A=b.filter(B=>C.indexOf(B.presence_ref)<0),U=T.filter(B=>w.indexOf(B.presence_ref)<0);A.length>0&&(g[y]=A),U.length>0&&(p[y]=U)}else g[y]=b}),this.syncDiff(d,{joins:g,leaves:p},s,c)}static syncDiff(a,l,s,c){const{joins:d,leaves:h}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return s||(s=()=>{}),c||(c=()=>{}),this.map(d,(g,p)=>{var y;const b=(y=a[g])!==null&&y!==void 0?y:[];if(a[g]=this.cloneDeep(p),b.length>0){const T=a[g].map(C=>C.presence_ref),w=b.filter(C=>T.indexOf(C.presence_ref)<0);a[g].unshift(...w)}s(g,b,p)}),this.map(h,(g,p)=>{let y=a[g];if(!y)return;const b=p.map(T=>T.presence_ref);y=y.filter(T=>b.indexOf(T.presence_ref)<0),a[g]=y,c(g,y,p),y.length===0&&delete a[g]}),a}static map(a,l){return Object.getOwnPropertyNames(a).map(s=>l(s,a[s]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((l,s)=>{const c=a[s];return"metas"in c?l[s]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):l[s]=c,l},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xg;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(xg||(xg={}));var Nr;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Nr||(Nr={}));var Nn;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Nn||(Nn={}));class Di{constructor(a,l={config:{}},s){var c,d;if(this.topic=a,this.params=l,this.socket=s,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new Mu(this,sn.join,this.params,this.timeout),this.rejoinTimer=new Jg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sn.reply,{},(h,g)=>{this._trigger(this._replyEventName(g),h)}),this.presence=new Cr(this),this.broadcastEndpointURL=Pg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,l=this.timeout){var s,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==ot.closed){const{config:{broadcast:h,presence:g,private:p}}=this.params,y=(c=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(C=>C.filter))!==null&&c!==void 0?c:[],b=!!this.bindings[Nr.PRESENCE]&&this.bindings[Nr.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,T={},w={broadcast:h,presence:Object.assign(Object.assign({},g),{enabled:b}),postgres_changes:y,private:p};this.socket.accessTokenValue&&(T.access_token=this.socket.accessTokenValue),this._onError(C=>a?.(Nn.CHANNEL_ERROR,C)),this._onClose(()=>a?.(Nn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},T)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:C})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),C===void 0){a?.(Nn.SUBSCRIBED);return}else{const U=this.bindings.postgres_changes,B=(A=U?.length)!==null&&A!==void 0?A:0,G=[];for(let $=0;$<B;$++){const H=U[$],{filter:{event:I,schema:ce,table:te,filter:J}}=H,Ne=C&&C[$];if(Ne&&Ne.event===I&&Di.isFilterValueEqual(Ne.schema,ce)&&Di.isFilterValueEqual(Ne.table,te)&&Di.isFilterValueEqual(Ne.filter,J))G.push(Object.assign(Object.assign({},H),{id:Ne.id}));else{this.unsubscribe(),this.state=ot.errored,a?.(Nn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=G,a&&a(Nn.SUBSCRIBED);return}}).receive("error",C=>{this.state=ot.errored,a?.(Nn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{a?.(Nn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,l={}){return await this.send({type:"presence",event:"track",payload:a},l.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,l,s){return this.state===ot.joined&&a===Nr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,l,s)}async httpSend(a,l,s={}){var c;if(l==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(c=s.timeout)!==null&&c!==void 0?c:this.timeout);if(g.status===202)return{success:!0};let p=g.statusText;try{const y=await g.json();p=y.error||y.message||p}catch{}return Promise.reject(new Error(p))}async send(a,l={}){var s,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:h}=a,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(s=l.timeout)!==null&&s!==void 0?s:this.timeout);return await((c=y.body)===null||c===void 0?void 0:c.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,g,p;const y=this._push(a.type,a,l.timeout||this.timeout);a.type==="broadcast"&&!(!((p=(g=(h=this.params)===null||h===void 0?void 0:h.config)===null||g===void 0?void 0:g.broadcast)===null||p===void 0)&&p.ack)&&d("ok"),y.receive("ok",()=>d("ok")),y.receive("error",()=>d("error")),y.receive("timeout",()=>d("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=ot.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(c=>{s=new Mu(this,sn.leave,{},a),s.receive("ok",()=>{l(),c("ok")}).receive("timeout",()=>{l(),c("timed out")}).receive("error",()=>{c("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ot.closed,this.bindings={}}async _fetchWithTimeout(a,l,s){const c=new AbortController,d=setTimeout(()=>c.abort(),s),h=await this.socket.fetch(a,Object.assign(Object.assign({},l),{signal:c.signal}));return clearTimeout(d),h}_push(a,l,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Mu(this,a,l,s);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Zm){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(a,l,s){return l}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,l,s){var c,d;const h=a.toLocaleLowerCase(),{close:g,error:p,leave:y,join:b}=sn;if(s&&[g,p,y,b].indexOf(h)>=0&&s!==this._joinRef())return;let w=this._onMessage(h,l,s);if(l&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(C=>{var A,U,B;return((A=C.filter)===null||A===void 0?void 0:A.event)==="*"||((B=(U=C.filter)===null||U===void 0?void 0:U.event)===null||B===void 0?void 0:B.toLocaleLowerCase())===h}).map(C=>C.callback(w,s)):(d=this.bindings[h])===null||d===void 0||d.filter(C=>{var A,U,B,G,$,H;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in C){const I=C.id,ce=(A=C.filter)===null||A===void 0?void 0:A.event;return I&&((U=l.ids)===null||U===void 0?void 0:U.includes(I))&&(ce==="*"||ce?.toLocaleLowerCase()===((B=l.data)===null||B===void 0?void 0:B.type.toLocaleLowerCase()))}else{const I=($=(G=C?.filter)===null||G===void 0?void 0:G.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return I==="*"||I===((H=l?.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===h}).map(C=>{if(typeof w=="object"&&"ids"in w){const A=w.data,{schema:U,table:B,commit_timestamp:G,type:$,errors:H}=A;w=Object.assign(Object.assign({},{schema:U,table:B,commit_timestamp:G,eventType:$,new:{},old:{},errors:H}),this._getPayloadRecords(A))}C.callback(w,s)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,l,s){const c=a.toLocaleLowerCase(),d={type:c,filter:l,callback:s};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(a,l){const s=a.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===s&&Di.isEqual(c.filter,l))})),this}static isEqual(a,l){if(Object.keys(a).length!==Object.keys(l).length)return!1;for(const s in a)if(a[s]!==l[s])return!1;return!0}static isFilterValueEqual(a,l){return(a??void 0)===(l??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(sn.close,{},a)}_onError(a){this._on(sn.error,{},l=>a(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const l={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(l.new=Eg(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(l.old=Eg(a.columns,a.old_record)),l}}const Bu=()=>{},as={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},iy=[1e3,2e3,5e3,1e4],ry=1e4,ly=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sy{constructor(a,l){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xu,this.transport=null,this.heartbeatIntervalMs=as.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bu,this.ref=0,this.reconnectTimer=null,this.vsn=Sg,this.logger=Bu,this.conn=null,this.sendBuffer=[],this.serializer=new Pm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((s=l?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${a}/${Qu.websocket}`,this.httpEndpoint=Pg(a),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ym.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const l=a.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,l??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const l=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const a=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,l,s){this.logger(a,l,s)}connectionState(){switch(this.conn&&this.conn.readyState){case sa.connecting:return Ra.Connecting;case sa.open:return Ra.Open;case sa.closing:return Ra.Closing;default:return Ra.Closed}}isConnected(){return this.connectionState()===Ra.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,l={config:{}}){const s=`realtime:${a}`,c=this.getChannels().find(d=>d.topic===s);if(c)return c;{const d=new Di(`realtime:${a}`,l,this);return this.channels.push(d),d}}push(a){const{topic:l,event:s,payload:c,ref:d}=a,h=()=>{this.encode(a,g=>{var p;(p=this.conn)===null||p===void 0||p.send(g)})};this.log("push",`${l} ${s} (${d})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Jm,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},as.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let l=this.channels.find(s=>s.topic===a&&(s._isJoined()||s._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${a}"`),l.unsubscribe())}_remove(a){this.channels=this.channels.filter(l=>l.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply")try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}l.ref&&l.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:c,payload:d,ref:h}=l,g=h?`(${h})`:"",p=d.status||"";this.log("receive",`${p} ${s} ${c} ${g}`.trim(),d),this.channels.filter(y=>y._isMember(s)).forEach(y=>y._trigger(c,d,h)),this._triggerStateCallbacks("message",l)})}_clearTimer(a){var l;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===sa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===sa.open||this.conn.readyState===sa.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this._terminateWorker()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var l;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(sn.error))}_appendParams(a,l){if(Object.keys(l).length===0)return a;const s=a.match(/\?/)?"&":"?",c=new URLSearchParams(l);return`${a}${s}${c}`}_workerObjectUrl(a){let l;if(a)l=a;else{const s=new Blob([ly],{type:"application/javascript"});l=URL.createObjectURL(s)}return l}_setConnectionState(a,l=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(a=null){let l,s=!1;if(a)l=a,s=!0;else if(this.accessToken)try{l=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),l=this.accessTokenValue}else l=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(c=>{const d={access_token:l,version:Xm};l&&c.updateJoinPayload(d),c.joinedOnce&&c._isJoined()&&c._push(sn.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${a}`,l)})}_triggerStateCallbacks(a,l){try{this.stateChangeCallbacks[a].forEach(s=>{try{s(l)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(s){this.log("error",`error triggering ${a} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Jg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},as.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var l,s,c,d,h,g,p,y,b,T,w,C;switch(this.transport=(l=a?.transport)!==null&&l!==void 0?l:null,this.timeout=(s=a?.timeout)!==null&&s!==void 0?s:Xu,this.heartbeatIntervalMs=(c=a?.heartbeatIntervalMs)!==null&&c!==void 0?c:as.HEARTBEAT_INTERVAL,this.worker=(d=a?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=a?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(g=a?.heartbeatCallback)!==null&&g!==void 0?g:Bu,this.vsn=(p=a?.vsn)!==null&&p!==void 0?p:Sg,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=a?.reconnectAfterMs)!==null&&y!==void 0?y:(A=>iy[A-1]||ry),this.vsn){case Qg:this.encode=(b=a?.encode)!==null&&b!==void 0?b:((A,U)=>U(JSON.stringify(A))),this.decode=(T=a?.decode)!==null&&T!==void 0?T:((A,U)=>U(JSON.parse(A)));break;case Qm:this.encode=(w=a?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(C=a?.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var Dr=class extends Error{constructor(r,a){super(r),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function oy(r,a,l){const s=new URL(a,r);if(l)for(const[c,d]of Object.entries(l))d!==void 0&&s.searchParams.set(c,d);return s.toString()}async function uy(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function cy(r){const a=r.fetchImpl??globalThis.fetch;return{async request({method:l,path:s,query:c,body:d,headers:h}){const g=oy(r.baseUrl,s,c),p=await uy(r.auth),y=await a(g,{method:l,headers:{...d?{"Content-Type":"application/json"}:{},...p,...h},body:d?JSON.stringify(d):void 0}),b=await y.text(),T=(y.headers.get("content-type")||"").includes("application/json"),w=T&&b?JSON.parse(b):b;if(!y.ok){const C=T?w:void 0,A=C?.error;throw new Dr(A?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:A?.type,icebergCode:A?.code,details:C})}return{status:y.status,headers:y.headers,data:w}}}}function is(r){return r.join("")}var dy=class{constructor(r,a=""){this.client=r,this.prefix=a}async listNamespaces(r){const a=r?{parent:is(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(r,a){const l={namespace:r.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${is(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${is(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${is(r.namespace)}`}),!0}catch(a){if(a instanceof Dr&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(r,a){try{return await this.createNamespace(r,a)}catch(l){if(l instanceof Dr&&l.status===409)return;throw l}}};function Ti(r){return r.join("")}var hy=class{constructor(r,a="",l){this.client=r,this.prefix=a,this.accessDelegation=l}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ti(r.namespace)}/tables`})).data.identifiers}async createTable(r,a){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ti(r.namespace)}/tables`,body:a,headers:l})).data.metadata}async updateTable(r,a){const l=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ti(r.namespace)}/tables/${r.name}`,body:a});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}}async dropTable(r,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ti(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(r){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ti(r.namespace)}/tables/${r.name}`,headers:a})).data.metadata}async tableExists(r){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ti(r.namespace)}/tables/${r.name}`,headers:a}),!0}catch(l){if(l instanceof Dr&&l.status===404)return!1;throw l}}async createTableIfNotExists(r,a){try{return await this.createTable(r,a)}catch(l){if(l instanceof Dr&&l.status===409)return await this.loadTable({namespace:r.namespace,name:a.name});throw l}}},fy=class{constructor(r){let a="v1";r.catalogName&&(a+=`/${r.catalogName}`);const l=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=cy({baseUrl:l,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new dy(this.client,a),this.tableOps=new hy(this.client,a,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,a){return this.namespaceOps.createNamespace(r,a)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,a){return this.tableOps.createTable(r,a)}async updateTable(r,a){return this.tableOps.updateTable(r,a)}async dropTable(r,a){await this.tableOps.dropTable(r,a)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,a){return this.namespaceOps.createNamespaceIfNotExists(r,a)}async createTableIfNotExists(r,a){return this.tableOps.createTableIfNotExists(r,a)}},gs=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function Je(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var gy=class extends gs{constructor(r,a,l){super(r),this.name="StorageApiError",this.status=a,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Zu=class extends gs{constructor(r,a){super(r),this.name="StorageUnknownError",this.originalError=a}};const sc=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),py=()=>Response,Pu=r=>{if(Array.isArray(r))return r.map(l=>Pu(l));if(typeof r=="function"||r!==Object(r))return r;const a={};return Object.entries(r).forEach(([l,s])=>{const c=l.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));a[c]=Pu(s)}),a},my=r=>{if(typeof r!="object"||r===null)return!1;const a=Object.getPrototypeOf(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},yy=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function Ur(r){"@babel/helpers - typeof";return Ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ur(r)}function vy(r,a){if(Ur(r)!="object"||!r)return r;var l=r[Symbol.toPrimitive];if(l!==void 0){var s=l.call(r,a);if(Ur(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}function by(r){var a=vy(r,"string");return Ur(a)=="symbol"?a:a+""}function _y(r,a,l){return(a=by(a))in r?Object.defineProperty(r,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[a]=l,r}function Ag(r,a){var l=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);a&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),l.push.apply(l,s)}return l}function oe(r){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?Ag(Object(l),!0).forEach(function(s){_y(r,s,l[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(l)):Ag(Object(l)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(l,s))})}return r}const qu=r=>{var a;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(a=r.error)===null||a===void 0?void 0:a.message)||JSON.stringify(r)},wy=async(r,a,l)=>{r instanceof await py()&&!l?.noResolveJson?r.json().then(s=>{const c=r.status||500,d=s?.statusCode||c+"";a(new gy(qu(s),c,d))}).catch(s=>{a(new Zu(qu(s),s))}):a(new Zu(qu(r),r))},Sy=(r,a,l,s)=>{const c={method:r,headers:a?.headers||{}};return r==="GET"||!s?c:(my(s)?(c.headers=oe({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(s)):c.body=s,a?.duplex&&(c.duplex=a.duplex),oe(oe({},c),l))};async function Lr(r,a,l,s,c,d){return new Promise((h,g)=>{r(l,Sy(a,s,c,d)).then(p=>{if(!p.ok)throw p;return s?.noResolveJson?p:p.json()}).then(p=>h(p)).catch(p=>wy(p,g,s))})}async function zr(r,a,l,s){return Lr(r,"GET",a,l,s)}async function ln(r,a,l,s,c){return Lr(r,"POST",a,s,c,l)}async function Wu(r,a,l,s,c){return Lr(r,"PUT",a,s,c,l)}async function Ey(r,a,l,s){return Lr(r,"HEAD",a,oe(oe({},l),{},{noResolveJson:!0}),s)}async function oc(r,a,l,s,c){return Lr(r,"DELETE",a,s,c,l)}var Ty=class{constructor(r,a){this.downloadFn=r,this.shouldThrowOnError=a}then(r,a){return this.execute().then(r,a)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}}};let Wg;Wg=Symbol.toStringTag;var xy=class{constructor(r,a){this.downloadFn=r,this.shouldThrowOnError=a,this[Wg]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ty(this.downloadFn,this.shouldThrowOnError)}then(r,a){return this.getPromise().then(r,a)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}}};const Ay={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var jy=class{constructor(r,a={},l,s){this.shouldThrowOnError=!1,this.url=r,this.headers=a,this.bucketId=l,this.fetch=sc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,a,l,s){var c=this;try{let d;const h=oe(oe({},jg),s);let g=oe(oe({},c.headers),r==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&l instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),p&&d.append("metadata",c.encodeMetadata(p)),d.append("",l)):typeof FormData<"u"&&l instanceof FormData?(d=l,d.has("cacheControl")||d.append("cacheControl",h.cacheControl),p&&!d.has("metadata")&&d.append("metadata",c.encodeMetadata(p))):(d=l,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType,p&&(g["x-metadata"]=c.toBase64(c.encodeMetadata(p))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!h.duplex&&(h.duplex="half")),s?.headers&&(g=oe(oe({},g),s.headers));const y=c._removeEmptyFolders(a),b=c._getFinalPath(y),T=await(r=="PUT"?Wu:ln)(c.fetch,`${c.url}/object/${b}`,d,oe({headers:g},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:y,id:T.Id,fullPath:T.Key},error:null}}catch(d){if(c.shouldThrowOnError)throw d;if(Je(d))return{data:null,error:d};throw d}}async upload(r,a,l){return this.uploadOrUpdate("POST",r,a,l)}async uploadToSignedUrl(r,a,l,s){var c=this;const d=c._removeEmptyFolders(r),h=c._getFinalPath(d),g=new URL(c.url+`/object/upload/sign/${h}`);g.searchParams.set("token",a);try{let p;const y=oe({upsert:jg.upsert},s),b=oe(oe({},c.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&l instanceof Blob?(p=new FormData,p.append("cacheControl",y.cacheControl),p.append("",l)):typeof FormData<"u"&&l instanceof FormData?(p=l,p.append("cacheControl",y.cacheControl)):(p=l,b["cache-control"]=`max-age=${y.cacheControl}`,b["content-type"]=y.contentType),{data:{path:d,fullPath:(await Wu(c.fetch,g.toString(),p,{headers:b})).Key},error:null}}catch(p){if(c.shouldThrowOnError)throw p;if(Je(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(r,a){var l=this;try{let s=l._getFinalPath(r);const c=oe({},l.headers);a?.upsert&&(c["x-upsert"]="true");const d=await ln(l.fetch,`${l.url}/object/upload/sign/${s}`,{},{headers:c}),h=new URL(l.url+d.url),g=h.searchParams.get("token");if(!g)throw new gs("No token returned by API");return{data:{signedUrl:h.toString(),path:r,token:g},error:null}}catch(s){if(l.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async update(r,a,l){return this.uploadOrUpdate("PUT",r,a,l)}async move(r,a,l){var s=this;try{return{data:await ln(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:r,destinationKey:a,destinationBucket:l?.destinationBucket},{headers:s.headers}),error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(Je(c))return{data:null,error:c};throw c}}async copy(r,a,l){var s=this;try{return{data:{path:(await ln(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:r,destinationKey:a,destinationBucket:l?.destinationBucket},{headers:s.headers})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(Je(c))return{data:null,error:c};throw c}}async createSignedUrl(r,a,l){var s=this;try{let c=s._getFinalPath(r),d=await ln(s.fetch,`${s.url}/object/sign/${c}`,oe({expiresIn:a},l?.transform?{transform:l.transform}:{}),{headers:s.headers});const h=l?.download?`&download=${l.download===!0?"":l.download}`:"";return d={signedUrl:encodeURI(`${s.url}${d.signedURL}${h}`)},{data:d,error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(Je(c))return{data:null,error:c};throw c}}async createSignedUrls(r,a,l){var s=this;try{const c=await ln(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:a,paths:r},{headers:s.headers}),d=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:c.map(h=>oe(oe({},h),{},{signedUrl:h.signedURL?encodeURI(`${s.url}${h.signedURL}${d}`):null})),error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(Je(c))return{data:null,error:c};throw c}}download(r,a){const l=typeof a?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(a?.transform||{}),c=s?`?${s}`:"",d=this._getFinalPath(r),h=()=>zr(this.fetch,`${this.url}/${l}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new xy(h,this.shouldThrowOnError)}async info(r){var a=this;const l=a._getFinalPath(r);try{return{data:Pu(await zr(a.fetch,`${a.url}/object/info/${l}`,{headers:a.headers})),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async exists(r){var a=this;const l=a._getFinalPath(r);try{return await Ey(a.fetch,`${a.url}/object/${l}`,{headers:a.headers}),{data:!0,error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Je(s)&&s instanceof Zu){const c=s.originalError;if([400,404].includes(c?.status))return{data:!1,error:s}}throw s}}getPublicUrl(r,a){const l=this._getFinalPath(r),s=[],c=a?.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&s.push(c);const d=typeof a?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(a?.transform||{});h!==""&&s.push(h);let g=s.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${l}${g}`)}}}async remove(r){var a=this;try{return{data:await oc(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:r},{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}}async list(r,a,l){var s=this;try{const c=oe(oe(oe({},Ay),a),{},{prefix:r||""});return{data:await ln(s.fetch,`${s.url}/object/list/${s.bucketId}`,c,{headers:s.headers},l),error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(Je(c))return{data:null,error:c};throw c}}async listV2(r,a){var l=this;try{const s=oe({},r);return{data:await ln(l.fetch,`${l.url}/object/list-v2/${l.bucketId}`,s,{headers:l.headers},a),error:null}}catch(s){if(l.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const a=[];return r.width&&a.push(`width=${r.width}`),r.height&&a.push(`height=${r.height}`),r.resize&&a.push(`resize=${r.resize}`),r.format&&a.push(`format=${r.format}`),r.quality&&a.push(`quality=${r.quality}`),a.join("&")}};const Fg="2.89.0",ep={"X-Client-Info":`storage-js/${Fg}`};var Oy=class{constructor(r,a={},l,s){this.shouldThrowOnError=!1;const c=new URL(r);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=oe(oe({},ep),a),this.fetch=sc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var a=this;try{const l=a.listBucketOptionsToQueryString(r);return{data:await zr(a.fetch,`${a.url}/bucket${l}`,{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}}async getBucket(r){var a=this;try{return{data:await zr(a.fetch,`${a.url}/bucket/${r}`,{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}}async createBucket(r,a={public:!1}){var l=this;try{return{data:await ln(l.fetch,`${l.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:l.headers}),error:null}}catch(s){if(l.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async updateBucket(r,a){var l=this;try{return{data:await Wu(l.fetch,`${l.url}/bucket/${r}`,{id:r,name:r,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:l.headers}),error:null}}catch(s){if(l.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async emptyBucket(r){var a=this;try{return{data:await ln(a.fetch,`${a.url}/bucket/${r}/empty`,{},{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}}async deleteBucket(r){var a=this;try{return{data:await oc(a.fetch,`${a.url}/bucket/${r}`,{},{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}}listBucketOptionsToQueryString(r){const a={};return r&&("limit"in r&&(a.limit=String(r.limit)),"offset"in r&&(a.offset=String(r.offset)),r.search&&(a.search=r.search),r.sortColumn&&(a.sortColumn=r.sortColumn),r.sortOrder&&(a.sortOrder=r.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},ky=class{constructor(r,a={},l){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=oe(oe({},ep),a),this.fetch=sc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var a=this;try{return{data:await ln(a.fetch,`${a.url}/bucket`,{name:r},{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}}async listBuckets(r){var a=this;try{const l=new URLSearchParams;r?.limit!==void 0&&l.set("limit",r.limit.toString()),r?.offset!==void 0&&l.set("offset",r.offset.toString()),r?.sortColumn&&l.set("sortColumn",r.sortColumn),r?.sortOrder&&l.set("sortOrder",r.sortOrder),r?.search&&l.set("search",r.search);const s=l.toString(),c=s?`${a.url}/bucket?${s}`:`${a.url}/bucket`;return{data:await zr(a.fetch,c,{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}}async deleteBucket(r){var a=this;try{return{data:await oc(a.fetch,`${a.url}/bucket/${r}`,{},{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}}from(r){var a=this;if(!yy(r))throw new gs("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new fy({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(l,{get(c,d){const h=c[d];return typeof h!="function"?h:async(...g)=>{try{return{data:await h.apply(c,g),error:null}}catch(p){if(s)throw p;return{data:null,error:p}}}}})}};const uc={"X-Client-Info":`storage-js/${Fg}`,"Content-Type":"application/json"};var tp=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Lt(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var Lu=class extends tp{constructor(r,a,l){super(r),this.name="StorageVectorsApiError",this.status=a,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ry=class extends tp{constructor(r,a){super(r),this.name="StorageVectorsUnknownError",this.originalError=a}};const cc=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),Cy=r=>{if(typeof r!="object"||r===null)return!1;const a=Object.getPrototypeOf(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Og=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Ny=async(r,a,l)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!l?.noResolveJson){const s=r.status||500,c=r;if(typeof c.json=="function")c.json().then(d=>{const h=d?.statusCode||d?.code||s+"";a(new Lu(Og(d),s,h))}).catch(()=>{const d=s+"";a(new Lu(c.statusText||`HTTP ${s} error`,s,d))});else{const d=s+"";a(new Lu(c.statusText||`HTTP ${s} error`,s,d))}}else a(new Ry(Og(r),r))},Dy=(r,a,l,s)=>{const c={method:r,headers:a?.headers||{}};return s?(Cy(s)?(c.headers=oe({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(s)):c.body=s,oe(oe({},c),l)):c};async function Uy(r,a,l,s,c,d){return new Promise((h,g)=>{r(l,Dy(a,s,c,d)).then(p=>{if(!p.ok)throw p;if(s?.noResolveJson)return p;const y=p.headers.get("content-type");return!y||!y.includes("application/json")?{}:p.json()}).then(p=>h(p)).catch(p=>Ny(p,g,s))})}async function Ht(r,a,l,s,c){return Uy(r,"POST",a,s,c,l)}var zy=class{constructor(r,a={},l){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=oe(oe({},uc),a),this.fetch=cc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/CreateIndex`,r,{headers:a.headers})||{},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Lt(l))return{data:null,error:l};throw l}}async getIndex(r,a){var l=this;try{return{data:await Ht(l.fetch,`${l.url}/GetIndex`,{vectorBucketName:r,indexName:a},{headers:l.headers}),error:null}}catch(s){if(l.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}}async listIndexes(r){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/ListIndexes`,r,{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Lt(l))return{data:null,error:l};throw l}}async deleteIndex(r,a){var l=this;try{return{data:await Ht(l.fetch,`${l.url}/DeleteIndex`,{vectorBucketName:r,indexName:a},{headers:l.headers})||{},error:null}}catch(s){if(l.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}}},My=class{constructor(r,a={},l){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=oe(oe({},uc),a),this.fetch=cc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var a=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ht(a.fetch,`${a.url}/PutVectors`,r,{headers:a.headers})||{},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Lt(l))return{data:null,error:l};throw l}}async getVectors(r){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/GetVectors`,r,{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Lt(l))return{data:null,error:l};throw l}}async listVectors(r){var a=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await Ht(a.fetch,`${a.url}/ListVectors`,r,{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Lt(l))return{data:null,error:l};throw l}}async queryVectors(r){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/QueryVectors`,r,{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Lt(l))return{data:null,error:l};throw l}}async deleteVectors(r){var a=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ht(a.fetch,`${a.url}/DeleteVectors`,r,{headers:a.headers})||{},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Lt(l))return{data:null,error:l};throw l}}},By=class{constructor(r,a={},l){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=oe(oe({},uc),a),this.fetch=cc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:a.headers})||{},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Lt(l))return{data:null,error:l};throw l}}async getBucket(r){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:r},{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Lt(l))return{data:null,error:l};throw l}}async listBuckets(r={}){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/ListVectorBuckets`,r,{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Lt(l))return{data:null,error:l};throw l}}async deleteBucket(r){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:a.headers})||{},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Lt(l))return{data:null,error:l};throw l}}},qy=class extends By{constructor(r,a={}){super(r,a.headers||{},a.fetch)}from(r){return new Ly(this.url,this.headers,r,this.fetch)}async createBucket(r){var a=()=>super.createBucket,l=this;return a().call(l,r)}async getBucket(r){var a=()=>super.getBucket,l=this;return a().call(l,r)}async listBuckets(r={}){var a=()=>super.listBuckets,l=this;return a().call(l,r)}async deleteBucket(r){var a=()=>super.deleteBucket,l=this;return a().call(l,r)}},Ly=class extends zy{constructor(r,a,l,s){super(r,a,s),this.vectorBucketName=l}async createIndex(r){var a=()=>super.createIndex,l=this;return a().call(l,oe(oe({},r),{},{vectorBucketName:l.vectorBucketName}))}async listIndexes(r={}){var a=()=>super.listIndexes,l=this;return a().call(l,oe(oe({},r),{},{vectorBucketName:l.vectorBucketName}))}async getIndex(r){var a=()=>super.getIndex,l=this;return a().call(l,l.vectorBucketName,r)}async deleteIndex(r){var a=()=>super.deleteIndex,l=this;return a().call(l,l.vectorBucketName,r)}index(r){return new Hy(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},Hy=class extends My{constructor(r,a,l,s,c){super(r,a,c),this.vectorBucketName=l,this.indexName=s}async putVectors(r){var a=()=>super.putVectors,l=this;return a().call(l,oe(oe({},r),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async getVectors(r){var a=()=>super.getVectors,l=this;return a().call(l,oe(oe({},r),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async listVectors(r={}){var a=()=>super.listVectors,l=this;return a().call(l,oe(oe({},r),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async queryVectors(r){var a=()=>super.queryVectors,l=this;return a().call(l,oe(oe({},r),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async deleteVectors(r){var a=()=>super.deleteVectors,l=this;return a().call(l,oe(oe({},r),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}},$y=class extends Oy{constructor(r,a={},l,s){super(r,a,l,s)}from(r){return new jy(this.url,this.headers,r,this.fetch)}get vectors(){return new qy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ky(this.url+"/iceberg",this.headers,this.fetch)}};const np="2.89.0",Ci=30*1e3,Fu=3,Hu=Fu*Ci,Gy="http://localhost:9999",Iy="supabase.auth.token",Vy={"X-Client-Info":`gotrue-js/${np}`},ec="X-Supabase-Api-Version",ap={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Yy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ky=600*1e3;class Mr extends Error{constructor(a,l,s){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=s}}function ee(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Xy extends Mr{constructor(a,l,s){super(a,l,s),this.name="AuthApiError",this.status=l,this.code=s}}function Qy(r){return ee(r)&&r.name==="AuthApiError"}class Ca extends Mr{constructor(a,l){super(a),this.name="AuthUnknownError",this.originalError=l}}class Dn extends Mr{constructor(a,l,s,c){super(a,s,c),this.name=l,this.status=s}}class qt extends Dn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Jy(r){return ee(r)&&r.name==="AuthSessionMissingError"}class xi extends Dn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class rs extends Dn{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class ls extends Dn{constructor(a,l=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zy(r){return ee(r)&&r.name==="AuthImplicitGrantRedirectError"}class kg extends Dn{constructor(a,l=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Py extends Dn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class tc extends Dn{constructor(a,l){super(a,"AuthRetryableFetchError",l,void 0)}}function $u(r){return ee(r)&&r.name==="AuthRetryableFetchError"}class Rg extends Dn{constructor(a,l,s){super(a,"AuthWeakPasswordError",l,"weak_password"),this.reasons=s}}class nc extends Dn{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const us="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cg=` 	
\r=`.split(""),Wy=(()=>{const r=new Array(128);for(let a=0;a<r.length;a+=1)r[a]=-1;for(let a=0;a<Cg.length;a+=1)r[Cg[a].charCodeAt(0)]=-2;for(let a=0;a<us.length;a+=1)r[us[a].charCodeAt(0)]=a;return r})();function Ng(r,a,l){if(r!==null)for(a.queue=a.queue<<8|r,a.queuedBits+=8;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;l(us[s]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;l(us[s]),a.queuedBits-=6}}function ip(r,a,l){const s=Wy[r];if(s>-1)for(a.queue=a.queue<<6|s,a.queuedBits+=6;a.queuedBits>=8;)l(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Dg(r){const a=[],l=h=>{a.push(String.fromCodePoint(h))},s={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=h=>{tv(h,s,l)};for(let h=0;h<r.length;h+=1)ip(r.charCodeAt(h),c,d);return a.join("")}function Fy(r,a){if(r<=127){a(r);return}else if(r<=2047){a(192|r>>6),a(128|r&63);return}else if(r<=65535){a(224|r>>12),a(128|r>>6&63),a(128|r&63);return}else if(r<=1114111){a(240|r>>18),a(128|r>>12&63),a(128|r>>6&63),a(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function ev(r,a){for(let l=0;l<r.length;l+=1){let s=r.charCodeAt(l);if(s>55295&&s<=56319){const c=(s-55296)*1024&65535;s=(r.charCodeAt(l+1)-56320&65535|c)+65536,l+=1}Fy(s,a)}}function tv(r,a,l){if(a.utf8seq===0){if(r<=127){l(r);return}for(let s=1;s<6;s+=1)if((r>>7-s&1)===0){a.utf8seq=s;break}if(a.utf8seq===2)a.codepoint=r&31;else if(a.utf8seq===3)a.codepoint=r&15;else if(a.utf8seq===4)a.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|r&63,a.utf8seq-=1,a.utf8seq===0&&l(a.codepoint)}}function Ui(r){const a=[],l={queue:0,queuedBits:0},s=c=>{a.push(c)};for(let c=0;c<r.length;c+=1)ip(r.charCodeAt(c),l,s);return new Uint8Array(a)}function nv(r){const a=[];return ev(r,l=>a.push(l)),new Uint8Array(a)}function Na(r){const a=[],l={queue:0,queuedBits:0},s=c=>{a.push(c)};return r.forEach(c=>Ng(c,l,s)),Ng(null,l,s),a.join("")}function av(r){return Math.round(Date.now()/1e3)+r}function iv(){return Symbol("auth-callback")}const bt=()=>typeof window<"u"&&typeof document<"u",ja={tested:!1,writable:!1},rp=()=>{if(!bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ja.tested)return ja.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),ja.tested=!0,ja.writable=!0}catch{ja.tested=!0,ja.writable=!1}return ja.writable};function rv(r){const a={},l=new URL(r);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((c,d)=>{a[d]=c})}catch{}return l.searchParams.forEach((s,c)=>{a[c]=s}),a}const lp=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),lv=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Ni=async(r,a,l)=>{await r.setItem(a,JSON.stringify(l))},Oa=async(r,a)=>{const l=await r.getItem(a);if(!l)return null;try{return JSON.parse(l)}catch{return l}},yt=async(r,a)=>{await r.removeItem(a)};class ps{constructor(){this.promise=new ps.promiseConstructor((a,l)=>{this.resolve=a,this.reject=l})}}ps.promiseConstructor=Promise;function Gu(r){const a=r.split(".");if(a.length!==3)throw new nc("Invalid JWT structure");for(let s=0;s<a.length;s++)if(!Yy.test(a[s]))throw new nc("JWT not in base64url format");return{header:JSON.parse(Dg(a[0])),payload:JSON.parse(Dg(a[1])),signature:Ui(a[2]),raw:{header:a[0],payload:a[1]}}}async function sv(r){return await new Promise(a=>{setTimeout(()=>a(null),r)})}function ov(r,a){return new Promise((s,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await r(d);if(!a(d,null,h)){s(h);return}}catch(h){if(!a(d,h)){c(h);return}}})()})}function uv(r){return("0"+r.toString(16)).substr(-2)}function cv(){const a=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=l.length;let c="";for(let d=0;d<56;d++)c+=l.charAt(Math.floor(Math.random()*s));return c}return crypto.getRandomValues(a),Array.from(a,uv).join("")}async function dv(r){const l=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",l),c=new Uint8Array(s);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function hv(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const l=await dv(r);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ai(r,a,l=!1){const s=cv();let c=s;l&&(c+="/PASSWORD_RECOVERY"),await Ni(r,`${a}-code-verifier`,c);const d=await hv(s);return[d,s===d?"plain":"s256"]}const fv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gv(r){const a=r.headers.get(ec);if(!a||!a.match(fv))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function pv(r){if(!r)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(r<=a)throw new Error("JWT has expired")}function mv(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ji(r){if(!yv.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Iu(){const r={};return new Proxy(r,{get:(a,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const s=l.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vv(r,a){return new Proxy(r,{get:(l,s,c)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const d=s.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,s,c)}return!a.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(l,s,c)}})}function Ug(r){return JSON.parse(JSON.stringify(r))}const ka=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),bv=[502,503,504];async function zg(r){var a;if(!lv(r))throw new tc(ka(r),0);if(bv.includes(r.status))throw new tc(ka(r),r.status);let l;try{l=await r.json()}catch(d){throw new Ca(ka(d),d)}let s;const c=gv(r);if(c&&c.getTime()>=ap["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?s=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(s=l.error_code),s){if(s==="weak_password")throw new Rg(ka(l),r.status,((a=l.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(s==="session_not_found")throw new qt}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new Rg(ka(l),r.status,l.weak_password.reasons);throw new Xy(ka(l),r.status||500,s)}const _v=(r,a,l,s)=>{const c={method:r,headers:a?.headers||{}};return r==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),c.body=JSON.stringify(s),Object.assign(Object.assign({},c),l))};async function se(r,a,l,s){var c;const d=Object.assign({},s?.headers);d[ec]||(d[ec]=ap["2024-01-01"].name),s?.jwt&&(d.Authorization=`Bearer ${s.jwt}`);const h=(c=s?.query)!==null&&c!==void 0?c:{};s?.redirectTo&&(h.redirect_to=s.redirectTo);const g=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await wv(r,a,l+g,{headers:d,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(p):{data:Object.assign({},p),error:null}}async function wv(r,a,l,s,c,d){const h=_v(a,s,c,d);let g;try{g=await r(l,Object.assign({},h))}catch(p){throw console.error(p),new tc(ka(p),0)}if(g.ok||await zg(g),s?.noResolveJson)return g;try{return await g.json()}catch(p){await zg(p)}}function rn(r){var a;let l=null;Tv(r)&&(l=Object.assign({},r),r.expires_at||(l.expires_at=av(r.expires_in)));const s=(a=r.user)!==null&&a!==void 0?a:r;return{data:{session:l,user:s},error:null}}function Mg(r){const a=rn(r);return!a.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((l,s)=>l&&typeof s=="string",!0)&&(a.data.weak_password=r.weak_password),a}function oa(r){var a;return{data:{user:(a=r.user)!==null&&a!==void 0?a:r},error:null}}function Sv(r){return{data:r,error:null}}function Ev(r){const{action_link:a,email_otp:l,hashed_token:s,redirect_to:c,verification_type:d}=r,h=fs(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:a,email_otp:l,hashed_token:s,redirect_to:c,verification_type:d},p=Object.assign({},h);return{data:{properties:g,user:p},error:null}}function Bg(r){return r}function Tv(r){return r.access_token&&r.refresh_token&&r.expires_in}const Vu=["global","local","others"];class xv{constructor({url:a="",headers:l={},fetch:s}){this.url=a,this.headers=l,this.fetch=lp(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,l=Vu[0]){if(Vu.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vu.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async inviteUserByEmail(a,l={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:oa})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async generateLink(a){try{const{options:l}=a,s=fs(a,["options"]),c=Object.assign(Object.assign({},s),l);return"newEmail"in s&&(c.new_email=s?.newEmail,delete c.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Ev,redirectTo:l?.redirectTo})}catch(l){if(ee(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(a){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:oa})}catch(l){if(ee(l))return{data:{user:null},error:l};throw l}}async listUsers(a){var l,s,c,d,h,g,p;try{const y={nextPage:null,lastPage:0,total:0},b=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(l=a?.page)===null||l===void 0?void 0:l.toString())!==null&&s!==void 0?s:"",per_page:(d=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:Bg});if(b.error)throw b.error;const T=await b.json(),w=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,C=(p=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(A=>{const U=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),B=JSON.parse(A.split(";")[1].split("=")[1]);y[`${B}Page`]=U}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},T),y),error:null}}catch(y){if(ee(y))return{data:{users:[]},error:y};throw y}}async getUserById(a){ji(a);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:oa})}catch(l){if(ee(l))return{data:{user:null},error:l};throw l}}async updateUserById(a,l){ji(a);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:l,headers:this.headers,xform:oa})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async deleteUser(a,l=!1){ji(a);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:l},xform:oa})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async _listFactors(a){ji(a.userId);try{const{data:l,error:s}=await se(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:l,error:s}}catch(l){if(ee(l))return{data:null,error:l};throw l}}async _deleteFactor(a){ji(a.userId),ji(a.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(l){if(ee(l))return{data:null,error:l};throw l}}async _listOAuthClients(a){var l,s,c,d,h,g,p;try{const y={nextPage:null,lastPage:0,total:0},b=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(l=a?.page)===null||l===void 0?void 0:l.toString())!==null&&s!==void 0?s:"",per_page:(d=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:Bg});if(b.error)throw b.error;const T=await b.json(),w=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,C=(p=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(A=>{const U=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),B=JSON.parse(A.split(";")[1].split("=")[1]);y[`${B}Page`]=U}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},T),y),error:null}}catch(y){if(ee(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(a){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ee(l))return{data:null,error:l};throw l}}async _getOAuthClient(a){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ee(l))return{data:null,error:l};throw l}}async _updateOAuthClient(a,l){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:l,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(a){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ee(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(a){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ee(l))return{data:null,error:l};throw l}}}function qg(r={}){return{getItem:a=>r[a]||null,setItem:(a,l)=>{r[a]=l},removeItem:a=>{delete r[a]}}}const Oi={debug:!!(globalThis&&rp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sp extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class Av extends sp{}async function jv(r,a,l){Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,a);const s=new globalThis.AbortController;return a>0&&setTimeout(()=>{s.abort(),Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async c=>{if(c){Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,c.name);try{return await l()}finally{Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,c.name)}}else{if(a===0)throw Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Av(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Oi.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}function Ov(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function op(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function kv(r){return parseInt(r,16)}function Rv(r){const a=new TextEncoder().encode(r);return"0x"+Array.from(a,s=>s.toString(16).padStart(2,"0")).join("")}function Cv(r){var a;const{chainId:l,domain:s,expirationTime:c,issuedAt:d=new Date,nonce:h,notBefore:g,requestId:p,resources:y,scheme:b,uri:T,version:w}=r;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!T)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((a=r.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const C=op(r.address),A=b?`${b}://${s}`:s,U=r.statement?`${r.statement}
`:"",B=`${A} wants you to sign in with your Ethereum account:
${C}

${U}`;let G=`URI: ${T}
Version: ${w}
Chain ID: ${l}${h?`
Nonce: ${h}`:""}
Issued At: ${d.toISOString()}`;if(c&&(G+=`
Expiration Time: ${c.toISOString()}`),g&&(G+=`
Not Before: ${g.toISOString()}`),p&&(G+=`
Request ID: ${p}`),y){let $=`
Resources:`;for(const H of y){if(!H||typeof H!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${H}`);$+=`
- ${H}`}G+=$}return`${B}
${G}`}class lt extends Error{constructor({message:a,code:l,cause:s,name:c}){var d;super(a,{cause:s}),this.__isWebAuthnError=!0,this.name=(d=c??(s instanceof Error?s.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=l}}class cs extends lt{constructor(a,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:a}),this.name="WebAuthnUnknownError",this.originalError=l}}function Nv({error:r,options:a}){var l,s,c;const{publicKey:d}=a;if(!d)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(a.signal instanceof AbortSignal)return new lt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((l=d.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new lt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(a.mediation==="conditional"&&((s=d.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new lt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new lt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new lt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new lt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return d.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new lt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new lt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const h=window.location.hostname;if(up(h)){if(d.rp.id!==h)return new lt({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new lt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new lt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function Dv({error:r,options:a}){const{publicKey:l}=a;if(!l)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(a.signal instanceof AbortSignal)return new lt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new lt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const s=window.location.hostname;if(up(s)){if(l.rpId!==s)return new lt({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new lt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class Uv{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const zv=new Uv;function Mv(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:a,user:l,excludeCredentials:s}=r,c=fs(r,["challenge","user","excludeCredentials"]),d=Ui(a).buffer,h=Object.assign(Object.assign({},l),{id:Ui(l.id).buffer}),g=Object.assign(Object.assign({},c),{challenge:d,user:h});if(s&&s.length>0){g.excludeCredentials=new Array(s.length);for(let p=0;p<s.length;p++){const y=s[p];g.excludeCredentials[p]=Object.assign(Object.assign({},y),{id:Ui(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return g}function Bv(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:a,allowCredentials:l}=r,s=fs(r,["challenge","allowCredentials"]),c=Ui(a).buffer,d=Object.assign(Object.assign({},s),{challenge:c});if(l&&l.length>0){d.allowCredentials=new Array(l.length);for(let h=0;h<l.length;h++){const g=l[h];d.allowCredentials[h]=Object.assign(Object.assign({},g),{id:Ui(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return d}function qv(r){var a;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const l=r;return{id:r.id,rawId:r.id,response:{attestationObject:Na(new Uint8Array(r.response.attestationObject)),clientDataJSON:Na(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(a=l.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Lv(r){var a;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const l=r,s=r.getClientExtensionResults(),c=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Na(new Uint8Array(c.authenticatorData)),clientDataJSON:Na(new Uint8Array(c.clientDataJSON)),signature:Na(new Uint8Array(c.signature)),userHandle:c.userHandle?Na(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(a=l.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function up(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Lg(){var r,a;return!!(bt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function Hv(r){try{const a=await navigator.credentials.create(r);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new cs("Browser returned unexpected credential type",a)}:{data:null,error:new cs("Empty credential response",a)}}catch(a){return{data:null,error:Nv({error:a,options:r})}}}async function $v(r){try{const a=await navigator.credentials.get(r);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new cs("Browser returned unexpected credential type",a)}:{data:null,error:new cs("Empty credential response",a)}}catch(a){return{data:null,error:Dv({error:a,options:r})}}}const Gv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Iv={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ds(...r){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),l=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),s={};for(const c of r)if(c)for(const d in c){const h=c[d];if(h!==void 0)if(Array.isArray(h))s[d]=h;else if(l(h))s[d]=h;else if(a(h)){const g=s[d];a(g)?s[d]=ds(g,h):s[d]=ds(h)}else s[d]=h}return s}function Vv(r,a){return ds(Gv,r,a||{})}function Yv(r,a){return ds(Iv,r,a||{})}class Kv{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:l,friendlyName:s,signal:c},d){try{const{data:h,error:g}=await this.client.mfa.challenge({factorId:a,webauthn:l});if(!h)return{data:null,error:g};const p=c??zv.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:y}=h.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${s}`),y.displayName||(y.displayName=y.name)}switch(h.webauthn.type){case"create":{const y=Vv(h.webauthn.credential_options.publicKey,d?.create),{data:b,error:T}=await Hv({publicKey:y,signal:p});return b?{data:{factorId:a,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:T}}case"request":{const y=Yv(h.webauthn.credential_options.publicKey,d?.request),{data:b,error:T}=await $v(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y,signal:p}));return b?{data:{factorId:a,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:T}}}}catch(h){return ee(h)?{data:null,error:h}:{data:null,error:new Ca("Unexpected error in challenge",h)}}}async _verify({challengeId:a,factorId:l,webauthn:s}){return this.client.mfa.verify({factorId:l,challengeId:a,webauthn:s})}async _authenticate({factorId:a,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!l)return{data:null,error:new Mr("rpId is required for WebAuthn authentication")};try{if(!Lg())return{data:null,error:new Ca("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this.challenge({factorId:a,webauthn:{rpId:l,rpOrigins:s},signal:c},{request:d});if(!h)return{data:null,error:g};const{webauthn:p}=h;return this._verify({factorId:a,challengeId:h.challengeId,webauthn:{type:p.type,rpId:l,rpOrigins:s,credential_response:p.credential_response}})}catch(h){return ee(h)?{data:null,error:h}:{data:null,error:new Ca("Unexpected error in authenticate",h)}}}async _register({friendlyName:a,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!l)return{data:null,error:new Mr("rpId is required for WebAuthn registration")};try{if(!Lg())return{data:null,error:new Ca("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this._enroll({friendlyName:a});if(!h)return await this.client.mfa.listFactors().then(b=>{var T;return(T=b.data)===null||T===void 0?void 0:T.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===a&&w.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:g};const{data:p,error:y}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:l,rpOrigins:s},signal:c},{create:d});return p?this._verify({factorId:h.id,challengeId:p.challengeId,webauthn:{rpId:l,rpOrigins:s,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:y}}catch(h){return ee(h)?{data:null,error:h}:{data:null,error:new Ca("Unexpected error in register",h)}}}}Ov();const Xv={url:Gy,storageKey:Iy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Hg(r,a,l){return await l()}const ki={};class Br{get jwks(){var a,l;return(l=(a=ki[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(a){ki[this.storageKey]=Object.assign(Object.assign({},ki[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,l;return(l=(a=ki[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){ki[this.storageKey]=Object.assign(Object.assign({},ki[this.storageKey]),{cachedAt:a})}constructor(a){var l,s,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},Xv),a);if(this.storageKey=d.storageKey,this.instanceID=(l=Br.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,Br.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&bt()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new xv({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=lp(d.fetch),this.lock=d.lock||Hg,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,d.lock?this.lock=d.lock:this.persistSession&&bt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=jv:this.lock=Hg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Kv(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:rp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qg(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=qg(this.memoryStorage)),bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${np}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let l={},s="none";if(bt()&&(l=rv(window.location.href),this._isImplicitGrantCallback(l)?s="implicit":await this._isPKCECallback(l)&&(s="pkce")),bt()&&this.detectSessionInUrl&&s!=="none"){const{data:c,error:d}=await this._getSessionFromURL(l,s);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),Zy(d)){const p=(a=d.details)===null||a===void 0?void 0:a.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:h,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",g),await this._saveSession(h),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return ee(l)?this._returnResult({error:l}):this._returnResult({error:new Ca("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var l,s,c;try{const d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(l=a?.options)===null||l===void 0?void 0:l.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(c=a?.options)===null||c===void 0?void 0:c.captchaToken}},xform:rn}),{data:h,error:g}=d;if(g||!h)return this._returnResult({data:{user:null,session:null},error:g});const p=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(d){if(ee(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(a){var l,s,c;try{let d;if("email"in a){const{email:b,password:T,options:w}=a;let C=null,A=null;this.flowType==="pkce"&&([C,A]=await Ai(this.storage,this.storageKey)),d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:b,password:T,data:(l=w?.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:C,code_challenge_method:A},xform:rn})}else if("phone"in a){const{phone:b,password:T,options:w}=a;d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:T,data:(s=w?.data)!==null&&s!==void 0?s:{},channel:(c=w?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:rn})}else throw new rs("You must provide either an email or phone number and a password");const{data:h,error:g}=d;if(g||!h)return await yt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const p=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(d){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ee(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(a){try{let l;if("email"in a){const{email:d,password:h,options:g}=a;l=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Mg})}else if("phone"in a){const{phone:d,password:h,options:g}=a;l=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Mg})}else throw new rs("You must provide either an email or phone number and a password");const{data:s,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!s||!s.session||!s.user){const d=new xi;return this._returnResult({data:{user:null,session:null},error:d})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:c})}catch(l){if(ee(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(a){var l,s,c,d;return await this._handleProviderSignIn(a.provider,{redirectTo:(l=a.options)===null||l===void 0?void 0:l.redirectTo,scopes:(s=a.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=a.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:l}=a;switch(l){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(a){var l,s,c,d,h,g,p,y,b,T,w;let C,A;if("message"in a)C=a.message,A=a.signature;else{const{chain:U,wallet:B,statement:G,options:$}=a;let H;if(bt())if(typeof B=="object")H=B;else{const Ve=window;if("ethereum"in Ve&&typeof Ve.ethereum=="object"&&"request"in Ve.ethereum&&typeof Ve.ethereum.request=="function")H=Ve.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!$?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=B}const I=new URL((l=$?.url)!==null&&l!==void 0?l:window.location.href),ce=await H.request({method:"eth_requestAccounts"}).then(Ve=>Ve).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ce||ce.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const te=op(ce[0]);let J=(s=$?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!J){const Ve=await H.request({method:"eth_chainId"});J=kv(Ve)}const Ne={domain:I.host,address:te,statement:G,uri:I.href,version:"1",chainId:J,nonce:(c=$?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(h=(d=$?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(g=$?.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(p=$?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(y=$?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(b=$?.signInWithEthereum)===null||b===void 0?void 0:b.resources};C=Cv(Ne),A=await H.request({method:"personal_sign",params:[Rv(C),te]})}try{const{data:U,error:B}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:A},!((T=a.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(w=a.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:rn});if(B)throw B;if(!U||!U.session||!U.user){const G=new xi;return this._returnResult({data:{user:null,session:null},error:G})}return U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),this._returnResult({data:Object.assign({},U),error:B})}catch(U){if(ee(U))return this._returnResult({data:{user:null,session:null},error:U});throw U}}async signInWithSolana(a){var l,s,c,d,h,g,p,y,b,T,w,C;let A,U;if("message"in a)A=a.message,U=a.signature;else{const{chain:B,wallet:G,statement:$,options:H}=a;let I;if(bt())if(typeof G=="object")I=G;else{const te=window;if("solana"in te&&typeof te.solana=="object"&&("signIn"in te.solana&&typeof te.solana.signIn=="function"||"signMessage"in te.solana&&typeof te.solana.signMessage=="function"))I=te.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof G!="object"||!H?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=G}const ce=new URL((l=H?.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in I&&I.signIn){const te=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},H?.signInWithSolana),{version:"1",domain:ce.host,uri:ce.href}),$?{statement:$}:null));let J;if(Array.isArray(te)&&te[0]&&typeof te[0]=="object")J=te[0];else if(te&&typeof te=="object"&&"signedMessage"in te&&"signature"in te)J=te;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)A=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),U=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${ce.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...$?["",$,""]:[""],"Version: 1",`URI: ${ce.href}`,`Issued At: ${(c=(s=H?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=H?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${H.signInWithSolana.notBefore}`]:[],...!((h=H?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${H.signInWithSolana.expirationTime}`]:[],...!((g=H?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${H.signInWithSolana.chainId}`]:[],...!((p=H?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${H.signInWithSolana.nonce}`]:[],...!((y=H?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${H.signInWithSolana.requestId}`]:[],...!((T=(b=H?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||T===void 0)&&T.length?["Resources",...H.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const te=await I.signMessage(new TextEncoder().encode(A),"utf8");if(!te||!(te instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");U=te}}try{const{data:B,error:G}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:Na(U)},!((w=a.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(C=a.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:rn});if(G)throw G;if(!B||!B.session||!B.user){const $=new xi;return this._returnResult({data:{user:null,session:null},error:$})}return B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("SIGNED_IN",B.session)),this._returnResult({data:Object.assign({},B),error:G})}catch(B){if(ee(B))return this._returnResult({data:{user:null,session:null},error:B});throw B}}async _exchangeCodeForSession(a){const l=await Oa(this.storage,`${this.storageKey}-code-verifier`),[s,c]=(l??"").split("/");try{if(!s&&this.flowType==="pkce")throw new Py;const{data:d,error:h}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:s},xform:rn});if(await yt(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!d||!d.session||!d.user){const g=new xi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:h})}catch(d){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ee(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(a){try{const{options:l,provider:s,token:c,access_token:d,nonce:h}=a,g=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:c,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:rn}),{data:p,error:y}=g;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!p||!p.session||!p.user){const b=new xi;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:y})}catch(l){if(ee(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(a){var l,s,c,d,h;try{if("email"in a){const{email:g,options:p}=a;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await Ai(this.storage,this.storageKey));const{error:T}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(l=p?.data)!==null&&l!==void 0?l:{},create_user:(s=p?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:y,code_challenge_method:b},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:T})}if("phone"in a){const{phone:g,options:p}=a,{data:y,error:b}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=p?.data)!==null&&c!==void 0?c:{},create_user:(d=p?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(h=p?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:b})}throw new rs("You must provide either an email or phone number.")}catch(g){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ee(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(a){var l,s;try{let c,d;"options"in a&&(c=(l=a.options)===null||l===void 0?void 0:l.redirectTo,d=(s=a.options)===null||s===void 0?void 0:s.captchaToken);const{data:h,error:g}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:rn});if(g)throw g;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,y=h.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(c){if(ee(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var l,s,c,d,h;try{let g=null,p=null;this.flowType==="pkce"&&([g,p]=await Ai(this.storage,this.storageKey));const y=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(s=(l=a.options)===null||l===void 0?void 0:l.redirectTo)!==null&&s!==void 0?s:void 0}),!((c=a?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:p}),headers:this.headers,xform:Sv});return!((d=y.data)===null||d===void 0)&&d.url&&bt()&&!(!((h=a.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(g){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ee(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:l},error:s}=a;if(s)throw s;if(!l)throw new qt;const{error:c}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(ee(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const l=`${this.url}/resend`;if("email"in a){const{email:s,type:c,options:d}=a,{error:h}=await se(this.fetch,"POST",l,{headers:this.headers,body:{email:s,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in a){const{phone:s,type:c,options:d}=a,{data:h,error:g}=await se(this.fetch,"POST",l,{headers:this.headers,body:{phone:s,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:g})}throw new rs("You must provide either an email or phone number and a type")}catch(l){if(ee(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async l=>l))}async _acquireLock(a,l){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await s,await l()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=l();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await a(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const l=await Oa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?a=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const s=a.expires_at?a.expires_at*1e3-Date.now()<Hu:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",a.expires_at),!s){if(this.userStorage){const h=await Oa(this.userStorage,this.storageKey+"-user");h?.user?a.user=h.user:a.user=Iu()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};a.user=vv(a.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const l=await this._acquireLock(-1,async()=>await this._getUser());return l.data.user&&(this.suppressGetSessionWarning=!0),l}async _getUser(a){try{return a?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:oa}):await this._useSession(async l=>{var s,c,d;const{data:h,error:g}=l;if(g)throw g;return!(!((s=h.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qt}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:oa})})}catch(l){if(ee(l))return Jy(l)&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(a,l={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,l))}async _updateUser(a,l={}){try{return await this._useSession(async s=>{const{data:c,error:d}=s;if(d)throw d;if(!c.session)throw new qt;const h=c.session;let g=null,p=null;this.flowType==="pkce"&&a.email!=null&&([g,p]=await Ai(this.storage,this.storageKey));const{data:y,error:b}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:g,code_challenge_method:p}),jwt:h.access_token,xform:oa});if(b)throw b;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(s){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ee(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new qt;const l=Date.now()/1e3;let s=l,c=!0,d=null;const{payload:h}=Gu(a.access_token);if(h.exp&&(s=h.exp,c=s<=l),c){const{data:g,error:p}=await this._callRefreshToken(a.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g)return{data:{user:null,session:null},error:null};d=g}else{const{data:g,error:p}=await this._getUser(a.access_token);if(p)throw p;d={access_token:a.access_token,refresh_token:a.refresh_token,user:g.user,token_type:"bearer",expires_in:s-l,expires_at:s},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(l){if(ee(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async l=>{var s;if(!a){const{data:h,error:g}=l;if(g)throw g;a=(s=h.session)!==null&&s!==void 0?s:void 0}if(!a?.refresh_token)throw new qt;const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(ee(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(a,l){try{if(!bt())throw new ls("No browser detected.");if(a.error||a.error_description||a.error_code)throw new ls(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new kg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ls("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new kg("No code detected.");const{data:$,error:H}=await this._exchangeCodeForSession(a.code);if(H)throw H;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:c,access_token:d,refresh_token:h,expires_in:g,expires_at:p,token_type:y}=a;if(!d||!g||!h||!y)throw new ls("No session defined in URL");const b=Math.round(Date.now()/1e3),T=parseInt(g);let w=b+T;p&&(w=parseInt(p));const C=w-b;C*1e3<=Ci&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${T}s`);const A=w-T;b-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,w,b):b-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,w,b);const{data:U,error:B}=await this._getUser(d);if(B)throw B;const G={provider_token:s,provider_refresh_token:c,access_token:d,expires_in:T,expires_at:w,refresh_token:h,token_type:y,user:U.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:G,redirectType:a.type},error:null})}catch(s){if(ee(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const l=await Oa(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&l)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async l=>{var s;const{data:c,error:d}=l;if(d)return this._returnResult({error:d});const h=(s=c.session)===null||s===void 0?void 0:s.access_token;if(h){const{error:g}=await this.admin.signOut(h,a);if(g&&!(Qy(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return a!=="others"&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const l=iv(),s={id:l,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:s}}}async _emitInitialSession(a){return await this._useSession(async l=>{var s,c;try{const{data:{session:d},error:h}=l;if(h)throw h;await((s=this.stateChangeEmitters.get(a))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",a,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",d),console.error(d)}})}async resetPasswordForEmail(a,l={}){let s=null,c=null;this.flowType==="pkce"&&([s,c]=await Ai(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:s,code_challenge_method:c,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(d){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ee(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var a;try{const{data:l,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(a=l.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(l){if(ee(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var l;try{const{data:s,error:c}=await this._useSession(async d=>{var h,g,p,y,b;const{data:T,error:w}=d;if(w)throw w;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(h=a.options)===null||h===void 0?void 0:h.redirectTo,scopes:(g=a.options)===null||g===void 0?void 0:g.scopes,queryParams:(p=a.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",C,{headers:this.headers,jwt:(b=(y=T.session)===null||y===void 0?void 0:y.access_token)!==null&&b!==void 0?b:void 0})});if(c)throw c;return bt()&&!(!((l=a.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:a.provider,url:s?.url},error:null})}catch(s){if(ee(s))return this._returnResult({data:{provider:a.provider,url:null},error:s});throw s}}async linkIdentityIdToken(a){return await this._useSession(async l=>{var s;try{const{error:c,data:{session:d}}=l;if(c)throw c;const{options:h,provider:g,token:p,access_token:y,nonce:b}=a,T=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=d?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:g,id_token:p,access_token:y,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:rn}),{data:w,error:C}=T;return C?this._returnResult({data:{user:null,session:null},error:C}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new xi}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:C}))}catch(c){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ee(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async l=>{var s,c;const{data:d,error:h}=l;if(h)throw h;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(s=d.session)===null||s===void 0?void 0:s.access_token)!==null&&c!==void 0?c:void 0})})}catch(l){if(ee(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(a){const l=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(l,"begin");try{const s=Date.now();return await ov(async c=>(c>0&&await sv(200*Math.pow(2,c-1)),this._debug(l,"refreshing attempt",c),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:rn})),(c,d)=>{const h=200*Math.pow(2,c);return d&&$u(d)&&Date.now()+h-s<Ci})}catch(s){if(this._debug(l,"error",s),ee(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(l,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,l){const s=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",l,"url",s),bt()&&!l.skipBrowserRedirect&&window.location.assign(s),{data:{provider:a,url:s},error:null}}async _recoverAndRefresh(){var a,l;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const c=await Oa(this.storage,this.storageKey);if(c&&this.userStorage){let h=await Oa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await Ni(this.userStorage,this.storageKey+"-user",h)),c.user=(a=h?.user)!==null&&a!==void 0?a:Iu()}else if(c&&!c.user&&!c.user){const h=await Oa(this.storage,this.storageKey+"-user");h&&h?.user?(c.user=h.user,await yt(this.storage,this.storageKey+"-user"),await Ni(this.storage,this.storageKey,c)):c.user=Iu()}if(this._debug(s,"session from storage",c),!this._isValidSession(c)){this._debug(s,"session is not valid"),c!==null&&await this._removeSession();return}const d=((l=c.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<Hu;if(this._debug(s,`session has${d?"":" not"} expired with margin of ${Hu}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),$u(h)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:g}=await this._getUser(c.access_token);!g&&h?.user?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(s,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(s,"error",c),console.error(c);return}finally{this._debug(s,"end")}}async _callRefreshToken(a){var l,s;if(!a)throw new qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new ps;const{data:d,error:h}=await this._refreshAccessToken(a);if(h)throw h;if(!d.session)throw new qt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const g={data:d.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(d){if(this._debug(c,"error",d),ee(d)){const h={data:null,error:d};return $u(d)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(h),h}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,l,s=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",l,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:a,session:l});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(a,l)}catch(p){d.push(p)}});if(await Promise.all(h),d.length>0){for(let g=0;g<d.length;g+=1)console.error(d[g]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await yt(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},a),s=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&l.user&&await Ni(this.userStorage,this.storageKey+"-user",{user:l.user});const c=Object.assign({},l);delete c.user;const d=Ug(c);await Ni(this.storage,this.storageKey,d)}else{const c=Ug(l);await Ni(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await yt(this.storage,this.storageKey),await yt(this.storage,this.storageKey+"-code-verifier"),await yt(this.storage,this.storageKey+"-user"),this.userStorage&&await yt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&bt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Ci);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async l=>{const{data:{session:s}}=l;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((s.expires_at*1e3-a)/Ci);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Ci}ms, refresh threshold is ${Fu} ticks`),c<=Fu&&await this._callRefreshToken(s.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof sp)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const l=`#_onVisibilityChanged(${a})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,l,s){const c=[`provider=${encodeURIComponent(l)}`];if(s?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&c.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[d,h]=await Ai(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(g.toString())}if(s?.queryParams){const d=new URLSearchParams(s.queryParams);c.push(d.toString())}return s?.skipBrowserRedirect&&c.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async l=>{var s;const{data:c,error:d}=l;return d?this._returnResult({data:null,error:d}):await se(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token})})}catch(l){if(ee(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(a){try{return await this._useSession(async l=>{var s,c;const{data:d,error:h}=l;if(h)return this._returnResult({data:null,error:h});const g=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:p,error:y}=await se(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(s=d?.session)===null||s===void 0?void 0:s.access_token});return y?this._returnResult({data:null,error:y}):(a.factorType==="totp"&&p.type==="totp"&&(!((c=p?.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(l){if(ee(l))return this._returnResult({data:null,error:l});throw l}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var s;const{data:c,error:d}=l;if(d)return this._returnResult({data:null,error:d});const h=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?qv(a.webauthn.credential_response):Lv(a.webauthn.credential_response)})}:{code:a.code}),{data:g,error:p}=await se(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:h,headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:p}))})}catch(l){if(ee(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var s;const{data:c,error:d}=l;if(d)return this._returnResult({data:null,error:d});const h=await se(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token});if(h.error)return h;const{data:g}=h;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:Mv(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:Bv(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(ee(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(a){const{data:l,error:s}=await this._challenge({factorId:a.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:a.factorId,challengeId:l.id,code:a.code})}async _listFactors(){var a;const{data:{user:l},error:s}=await this.getUser();if(s)return{data:null,error:s};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(a=l?.factors)!==null&&a!==void 0?a:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var a,l;const{data:{session:s},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Gu(s.access_token);let h=null;d.aal&&(h=d.aal);let g=h;((l=(a=s.user.factors)===null||a===void 0?void 0:a.filter(b=>b.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(g="aal2");const y=d.amr||[];return{data:{currentLevel:h,nextLevel:g,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async l=>{const{data:{session:s},error:c}=l;return c?this._returnResult({data:null,error:c}):s?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:s.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new qt})})}catch(l){if(ee(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(a,l){try{return await this._useSession(async s=>{const{data:{session:c},error:d}=s;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new qt});const h=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return h.data&&h.data.redirect_url&&bt()&&!l?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(a,l){try{return await this._useSession(async s=>{const{data:{session:c},error:d}=s;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new qt});const h=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return h.data&&h.data.redirect_url&&bt()&&!l?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:l},error:s}=a;return s?this._returnResult({data:null,error:s}):l?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new qt})})}catch(a){if(ee(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async l=>{const{data:{session:s},error:c}=l;return c?this._returnResult({data:null,error:c}):s?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new qt})})}catch(l){if(ee(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(a,l={keys:[]}){let s=l.keys.find(g=>g.kid===a);if(s)return s;const c=Date.now();if(s=this.jwks.keys.find(g=>g.kid===a),s&&this.jwks_cached_at+Ky>c)return s;const{data:d,error:h}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,s=d.keys.find(g=>g.kid===a),!s)?null:s}async getClaims(a,l={}){try{let s=a;if(!s){const{data:C,error:A}=await this.getSession();if(A||!C.session)return this._returnResult({data:null,error:A});s=C.session.access_token}const{header:c,payload:d,signature:h,raw:{header:g,payload:p}}=Gu(s);l?.allowExpired||pv(d.exp);const y=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,l?.keys?{keys:l.keys}:l?.jwks);if(!y){const{error:C}=await this.getUser(s);if(C)throw C;return{data:{claims:d,header:c,signature:h},error:null}}const b=mv(c.alg),T=await crypto.subtle.importKey("jwk",y,b,!0,["verify"]);if(!await crypto.subtle.verify(b,T,h,nv(`${g}.${p}`)))throw new nc("Invalid JWT signature");return{data:{claims:d,header:c,signature:h},error:null}}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}}Br.nextInstanceID={};const Qv=Br,Jv="2.89.0";let Rr="";typeof Deno<"u"?Rr="deno":typeof document<"u"?Rr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rr="react-native":Rr="node";const Zv={"X-Client-Info":`supabase-js-${Rr}/${Jv}`},Pv={headers:Zv},Wv={schema:"public"},Fv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},eb={};function qr(r){"@babel/helpers - typeof";return qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},qr(r)}function tb(r,a){if(qr(r)!="object"||!r)return r;var l=r[Symbol.toPrimitive];if(l!==void 0){var s=l.call(r,a);if(qr(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}function nb(r){var a=tb(r,"string");return qr(a)=="symbol"?a:a+""}function ab(r,a,l){return(a=nb(a))in r?Object.defineProperty(r,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[a]=l,r}function $g(r,a){var l=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);a&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),l.push.apply(l,s)}return l}function We(r){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?$g(Object(l),!0).forEach(function(s){ab(r,s,l[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(l)):$g(Object(l)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(l,s))})}return r}const ib=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),rb=()=>Headers,lb=(r,a,l)=>{const s=ib(l),c=rb();return async(d,h)=>{var g;const p=(g=await a())!==null&&g!==void 0?g:r;let y=new c(h?.headers);return y.has("apikey")||y.set("apikey",r),y.has("Authorization")||y.set("Authorization",`Bearer ${p}`),s(d,We(We({},h),{},{headers:y}))}};function sb(r){return r.endsWith("/")?r:r+"/"}function ob(r,a){var l,s;const{db:c,auth:d,realtime:h,global:g}=r,{db:p,auth:y,realtime:b,global:T}=a,w={db:We(We({},p),c),auth:We(We({},y),d),realtime:We(We({},b),h),storage:{},global:We(We(We({},T),g),{},{headers:We(We({},(l=T?.headers)!==null&&l!==void 0?l:{}),(s=g?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return r.accessToken?w.accessToken=r.accessToken:delete w.accessToken,w}function ub(r){const a=r?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(sb(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var cb=class extends Qv{constructor(r){super(r)}},db=class{constructor(r,a,l){var s,c;this.supabaseUrl=r,this.supabaseKey=a;const d=ub(r);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,g={db:Wv,realtime:eb,auth:We(We({},Fv),{},{storageKey:h}),global:Pv},p=ob(l??{},g);if(this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(c=p.global.headers)!==null&&c!==void 0?c:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(b,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=p.auth)!==null&&y!==void 0?y:{},this.headers,p.global.fetch)}this.fetch=lb(a,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(We({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new Vm(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new $y(this.storageUrl.href,this.headers,this.fetch,l?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Lm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,a={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,a,l)}channel(r,a={config:{}}){return this.realtime.channel(r,a)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,a,l;if(r.accessToken)return await r.accessToken();const{data:s}=await r.auth.getSession();return(a=(l=s.session)===null||l===void 0?void 0:l.access_token)!==null&&a!==void 0?a:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:a,detectSessionInUrl:l,storage:s,userStorage:c,storageKey:d,flowType:h,lock:g,debug:p,throwOnError:y},b,T){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cb({url:this.authUrl.href,headers:We(We({},w),b),storageKey:d,autoRefreshToken:r,persistSession:a,detectSessionInUrl:l,storage:s,userStorage:c,flowType:h,lock:g,debug:p,throwOnError:y,fetch:T,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new sy(this.realtimeUrl.href,We(We({},r),{},{params:We(We({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,a)=>{this._handleTokenChanged(r,"CLIENT",a?.access_token)})}_handleTokenChanged(r,a,l){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const hb=(r,a,l)=>new db(r,a,l);function fb(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const a=r.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}fb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const gb="https://nxeckqclyflztaorqsfb.supabase.co",pb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im54ZWNrcWNseWZsenRhb3Jxc2ZiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY0NzkzMDcsImV4cCI6MjA4MjA1NTMwN30.jinXXEl9coTjrQDDjVR9MTTc7ttLOQAAPLBYGXFzGXA",en=hb(gb,pb),mb=async()=>{const{data:r,error:a}=await en.auth.signInAnonymously();return a?(console.error("Error signing in anonymously:",a),null):r.user?.id},yb="/Marvel-Splendor/assets/Valkyrie-BgDtcaBp.jpg",vb="/Marvel-Splendor/assets/Quake-DQC1MC_-.webp",bb="/Marvel-Splendor/assets/chavez-CSaYB_hu.png",_b="/Marvel-Splendor/assets/mariahill-DznmqO7O.png",wb="/Marvel-Splendor/assets/Shuri-DNBXBTz5.webp",Sb="/Marvel-Splendor/assets/okoye-C3KSPGVy.png",V=(r,a,l,s,c,d,h,g=0)=>{const p={};return c[0]>0&&(p.yellow=c[0]),c[1]>0&&(p.blue=c[1]),c[2]>0&&(p.orange=c[2]),c[3]>0&&(p.red=c[3]),c[4]>0&&(p.purple=c[4]),{id:r,tier:a,points:l,bonus:s,cost:p,avengersTag:g,name:d,imageUrl:h}},Eb=[V("1_01",1,0,"blue",[1,0,0,0,2],"A-Bomb","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/1-a-bomb.jpg"),V("1_02",1,0,"blue",[0,0,0,0,3],"Abomination","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/4-abomination.jpg"),V("1_03",1,0,"blue",[1,0,1,1,1],"Abraxas","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/5-abraxas.jpg"),V("1_04",1,0,"blue",[0,0,2,0,2],"Black Knight","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/102-black-knight-iii.jpg"),V("1_05",1,1,"blue",[0,0,0,4,0],"Agent Bob","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/10-agent-bob.jpg"),V("1_06",1,0,"blue",[1,0,1,2,1],"Agent Zero","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/11-agent-zero.jpg"),V("1_07",1,0,"blue",[1,0,2,2,0],"Wasp","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/708-wasp.jpg",1),V("1_08",1,0,"blue",[0,1,3,1,0],"Valkyrie",yb,1),V("1_09",1,0,"red",[0,2,1,0,0],"Angel Dust","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/25-angel-dust.jpg"),V("1_10",1,0,"red",[3,0,0,0,0],"Annihilus","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/29-annihilus.jpg"),V("1_11",1,0,"red",[1,1,1,0,1],"Nova","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/496-nova.jpg"),V("1_12",1,0,"red",[2,0,0,2,0],"Apocalypse","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/35-apocalypse.jpg"),V("1_13",1,1,"red",[4,0,0,0,0],"Mysterio","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/479-mysterio.jpg"),V("1_14",1,0,"red",[2,1,1,0,1],"Arclight","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/41-arclight.jpg"),V("1_15",1,0,"red",[2,0,1,0,2],"Ms Marvel","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/477-ms-marvel-ii.jpg",1),V("1_16",1,0,"red",[1,0,0,1,3],"Quake",vb,1),V("1_17",1,0,"orange",[2,1,0,0,0],"Ariel","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/44-ariel.jpg"),V("1_18",1,0,"orange",[0,0,0,3,0],"Armor","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/45-armor.jpg"),V("1_19",1,0,"orange",[1,1,0,1,1],"Ardina","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/42-ardina.jpg"),V("1_20",1,0,"orange",[0,2,0,2,0],"Azazel","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/57-azazel.jpg"),V("1_21",1,1,"orange",[0,0,0,0,4],"Banshee","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/61-banshee.jpg"),V("1_22",1,0,"orange",[1,1,0,1,2],"Bantam","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/62-bantam.jpg"),V("1_23",1,0,"orange",[0,1,0,2,2],"Hawkeye","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/313-hawkeye.jpg",1),V("1_24",1,0,"orange",[1,3,1,0,0],"Kate Bishop","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/314-hawkeye-ii.jpg",1),V("1_25",1,0,"yellow",[0,3,0,0,0],"Beta Ray Bill","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/79-beta-ray-bill.jpg"),V("1_26",1,0,"yellow",[0,0,0,2,1],"Elektra","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/238-elektra.jpg"),V("1_27",1,0,"yellow",[0,1,1,1,1],"Beast","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/75-beast.jpg"),V("1_28",1,0,"yellow",[0,2,0,0,2],"Bird-Brain","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/88-bird-brain.jpg"),V("1_29",1,1,"yellow",[0,0,4,0,0],"Bishop","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/92-bishop.jpg"),V("1_30",1,0,"yellow",[0,1,2,1,1],"Black Bolt","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/96-black-bolt.jpg"),V("1_31",1,0,"yellow",[0,2,2,0,1],"Squirrel Girl","https://upload.wikimedia.org/wikipedia/en/e/e2/Unbeatable_Squirrel_Girl.jpg",1),V("1_32",1,0,"yellow",[3,1,0,0,1],"Spider-Woman","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/39-arachne.jpg",1),V("1_33",1,0,"purple",[0,0,2,1,0],"Black Mamba","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/104-black-mamba.jpg"),V("1_34",1,0,"purple",[0,0,3,0,0],"Electro","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/237-electro.jpg"),V("1_35",1,0,"purple",[1,1,1,1,0],"Air-Walker","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/12-air-walker.jpg"),V("1_36",1,0,"purple",[2,0,2,0,0],"Blackout","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/109-blackout.jpg"),V("1_37",1,1,"purple",[0,4,0,0,0],"Blackwing","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/110-blackwing.jpg"),V("1_38",1,0,"purple",[1,2,1,1,0],"Blackwulf","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/111-blackwulf.jpg"),V("1_39",1,0,"purple",[2,2,0,1,0],"Winter Soldier","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/714-winter-soldier.jpg",1),V("1_40",1,0,"purple",[0,0,1,3,1],"America Chavez",bb,1),V("2_01",2,2,"blue",[0,0,5,0,0],"Blink","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/115-blink.jpg"),V("2_02",2,3,"blue",[0,0,6,0,0],"Blizzard II","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/118-blizzard-ii.jpg"),V("2_03",2,1,"blue",[2,3,0,0,2],"War Machine","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/703-war-machine.jpg",1),V("2_04",2,1,"blue",[3,0,2,3,0],"Quicksilver","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/536-quicksilver.jpg",1),V("2_05",2,2,"blue",[4,2,0,0,1],"Bloodhawk","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/121-bloodhawk.jpg"),V("2_06",2,2,"blue",[0,5,3,0,0],"Bullseye","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/141-bullseye.jpg"),V("2_07",2,2,"red",[0,0,0,0,5],"Cable","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/145-cable.jpg"),V("2_08",2,3,"red",[0,0,0,6,0],"Callisto","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/146-callisto.jpg"),V("2_09",2,1,"red",[2,0,0,2,3],"Scarlet Witch","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/579-scarlet-witch.jpg",1),V("2_10",2,2,"red",[1,4,2,0,0],"Captain Britain","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/151-captain-britain.jpg"),V("2_11",2,1,"red",[0,3,0,2,3],"Spider-Man","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/620-spider-man.jpg",1),V("2_12",2,2,"red",[3,0,0,0,5],"Captain Planet","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/160-captain-planet.jpg"),V("2_13",2,2,"orange",[0,0,5,0,0],"Carnage","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/162-carnage.jpg"),V("2_14",2,3,"orange",[0,0,6,0,0],"Century","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/167-century.jpg"),V("2_15",2,1,"orange",[2,3,0,0,2],"Nick Fury","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/489-nick-fury.jpg",1),V("2_16",2,1,"orange",[3,0,2,3,0],"Falcon","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/251-falcon.jpg",1),V("2_17",2,2,"orange",[4,2,0,0,1],"Cloak","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/180-cloak.jpg"),V("2_18",2,2,"orange",[0,5,3,0,0],"Colossus","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/185-colossus.jpg"),V("2_19",2,2,"yellow",[0,0,0,5,0],"Copycat","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/186-copycat.jpg"),V("2_20",2,3,"yellow",[6,0,0,0,0],"Cottonmouth","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/188-cottonmouth.jpg"),V("2_21",2,1,"yellow",[0,0,3,2,2],"Maria Hill",_b,1),V("2_22",2,2,"yellow",[0,0,1,4,2],"Cyclops","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/196-cyclops.jpg"),V("2_23",2,1,"yellow",[2,3,0,3,0],"Shuri",wb,1),V("2_24",2,2,"yellow",[0,0,0,5,3],"Daredevil","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/201-daredevil.jpg"),V("2_25",2,2,"purple",[0,0,0,0,5],"Darkhawk","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/202-darkhawk.jpg"),V("2_26",2,3,"purple",[0,0,0,6,0],"Darkstar","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/206-darkstar.jpg"),V("2_27",2,1,"purple",[2,0,0,2,3],"She-Hulk","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/589-she-hulk.jpg",1),V("2_28",2,2,"purple",[1,4,2,0,0],"Deathlok","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/215-deathlok.jpg"),V("2_29",2,1,"purple",[0,3,0,2,3],"Okoye",Sb,1),V("2_30",2,2,"purple",[3,0,0,0,5],"Destroyer","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/218-destroyer.jpg"),V("3_01",3,4,"blue",[7,0,0,0,0],"Doctor Octopus","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/225-doctor-octopus.jpg"),V("3_02",3,5,"blue",[7,3,0,0,0],"Doctor Doom","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/222-doctor-doom.jpg"),V("3_03",3,4,"blue",[6,3,0,0,3],"Ant-Man","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/31-ant-man-ii.jpg",1),V("3_04",3,3,"blue",[3,0,3,3,5],"Black Widow","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/107-black-widow.jpg",2),V("3_05",3,4,"red",[0,0,7,0,0],"Doctor Strange","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/226-doctor-strange.jpg",1),V("3_06",3,5,"red",[0,0,7,3,0],"Domino","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/227-domino.jpg"),V("3_07",3,4,"red",[0,3,6,3,0],"Doppelganger","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/231-doppelganger.jpg"),V("3_08",3,3,"red",[3,3,5,3,0],"Thor","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/659-thor.jpg",2),V("3_09",3,4,"orange",[0,7,0,0,0],"Drax the Destroyer","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/234-drax-the-destroyer.jpg"),V("3_10",3,5,"orange",[0,7,3,0,0],"Ego","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/235-ego.jpg"),V("3_11",3,4,"orange",[3,6,3,0,0],"Black Panther","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/106-black-panther.jpg",1),V("3_12",3,3,"orange",[5,3,0,3,3],"Captain America","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/149-captain-america.jpg",2),V("3_13",3,4,"yellow",[0,0,0,0,7],"Emma Frost","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/241-emma-frost.jpg"),V("3_14",3,5,"yellow",[3,0,0,0,7],"Evilhawk","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/248-evilhawk.jpg"),V("3_15",3,4,"yellow",[3,0,0,3,6],"Vision","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/697-vision.jpg",1),V("3_16",3,3,"yellow",[0,3,3,5,3],"Iron Man","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/346-iron-man.jpg",2),V("3_17",3,4,"purple",[0,0,0,7,0],"Fallen One II","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/252-fallen-one-ii.jpg"),V("3_18",3,5,"purple",[0,0,0,7,3],"Feral","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/254-feral.jpg"),V("3_19",3,4,"purple",[0,0,3,6,3],"Captain Marvel","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/157-captain-marvel.jpg",1),V("3_20",3,3,"purple",[3,3,5,3,0],"Hulk","https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/images/md/332-hulk.jpg",2)],Tb="/Marvel-Splendor/assets/asgard-RvuxsRCO.jpg",xb="/Marvel-Splendor/assets/atlantis-1XoWF0J1.jpg",Ab="/Marvel-Splendor/assets/attilan-BI14-JKJ.jpg",jb="/Marvel-Splendor/assets/avengers%20tower%20nyc-Chxq-Sof.jpg",Ob="/Marvel-Splendor/assets/hells%20kitchen-GdNc_uXz.jpg",kb="/Marvel-Splendor/assets/knowhere-DGv8ilm9.jpg",Rb="/Marvel-Splendor/assets/triskelion-Bi-mp_Av.jpg",Cb="/Marvel-Splendor/assets/wakanda-GLA3MA6r.jpg",Nb=[{id:"tile1",sideA:{id:"avengers_tower",name:"Avengers Tower, NYC",points:3,requirements:{yellow:4,blue:4},image:jb},sideB:{id:"attilan",name:"Attilan",points:3,requirements:{red:4,purple:4},image:Ab}},{id:"tile2",sideA:{id:"hells_kitchen",name:"Hell's Kitchen, NYC",points:3,requirements:{yellow:4,orange:4},image:Ob},sideB:{id:"triskelion",name:"Triskelion",points:3,requirements:{orange:4,purple:4},image:Rb}},{id:"tile3",sideA:{id:"asgard",name:"Asgard",points:3,requirements:{yellow:3,orange:3,purple:3},image:Tb},sideB:{id:"wakanda",name:"Wakanda",points:3,requirements:{blue:4,red:4},image:Cb}},{id:"tile4",sideA:{id:"atlantis",name:"Atlantis",points:3,requirements:{blue:3,red:3,purple:3},image:xb},sideB:{id:"knowhere",name:"Knowhere",points:3,requirements:{yellow:3,blue:3,red:3},image:kb}}],Gg=r=>{for(let a=r.length-1;a>0;a--){const l=Math.floor(Math.random()*(a+1));[r[a],r[l]]=[r[l],r[a]]}return r},cp=(r,a={turnLimitSeconds:60})=>{const l=Gg([...Eb]),s=l.filter(w=>w.tier===1),c=l.filter(w=>w.tier===2),d=l.filter(w=>w.tier===3),h={1:s.splice(0,4),2:c.splice(0,4),3:d.splice(0,4)},g=r.map(w=>({id:w.id,name:w.name,uuid:w.uuid,tokens:{red:0,blue:0,yellow:0,purple:0,orange:0,green:0,gray:0},hand:[],tableau:[],nobles:[],locations:[],points:0,isHuman:!0})),p=r.length===2?4:r.length===3?5:7,y=Math.max(2,Math.min(4,r.length)),T=Gg([...Nb]).slice(0,y).map(w=>Math.random()<.5?w.sideA:w.sideB);return{players:g,currentPlayerIndex:0,tokens:{red:p,blue:p,yellow:p,purple:p,orange:p,green:p,gray:5},decks:{1:s,2:c,3:d},market:h,nobles:[],locations:T,turn:1,winner:null,logs:["Game initialized."],status:"LOBBY",avengersTileOwnerId:null,config:a,turnDeadline:a.turnLimitSeconds>0?Date.now()+a.turnLimitSeconds*1e3:void 0,lastActionAt:Date.now()}},Ig=(r,a)=>{for(const l of[1,2,3]){const s=r.market[l].findIndex(c=>c.id===a);if(s!==-1)return{card:r.market[l][s],tier:l,index:s}}return null},dc=(r,a)=>{switch(a.type){case"SYNC_STATE":return a.state;case"START_GAME":return{...cp(a.players,a.config),status:"PLAYING"};case"TAKE_TOKENS":{const l=r.currentPlayerIndex,s={...r.players[l],tokens:{...r.players[l].tokens}},c=Object.values(s.tokens).reduce((b,T)=>b+T,0),d=a.tokens,h=Object.values(d).reduce((b,T)=>b+T,0);if(c+h>10)return r;const g={...r.tokens};Object.keys(d).forEach(b=>{d[b]>0&&(g[b]-=d[b],s.tokens[b]+=d[b])});const p=[...r.players];p[l]=s;const y={...r,tokens:g,players:p,logs:[...r.logs,`${s.name} took tokens.`]};return ss({...y,lastActionAt:Date.now()})}case"RECRUIT_CARD":{const l=r.currentPlayerIndex,s={...r.players[l],tokens:{...r.players[l].tokens}};let c=s.hand.find($=>$.id===a.cardId),d=!0,h=null;if(!c){if(d=!1,h=Ig(r,a.cardId),!h)return r;c=h.card}if(!c)return r;const g={red:0,blue:0,yellow:0,purple:0,orange:0};s.tableau.forEach($=>{$.bonus&&g[$.bonus]!==void 0&&g[$.bonus]++});const p=c.cost,y={...r.tokens};let b=0;if(Object.keys(p).forEach($=>{const H=p[$]||0,I=Math.max(0,H-(g[$]||0));if(s.tokens[$]>=I)s.tokens[$]-=I,y[$]+=I;else{const ce=I-s.tokens[$];s.tokens[$]=0,y[$]+=I-ce,b+=ce}}),s.tokens.gray<b)return r;s.tokens.gray-=b,y.gray+=b;const T={...r.market},w={...r.decks};if(d)s.hand=s.hand.filter($=>$.id!==c.id);else if(h){const $=h.tier,H=[...r.market[$]],I=[...r.decks[$]];I.length>0?H[h.index]=I.shift():H.splice(h.index,1),T[$]=H,w[$]=I}s.tableau=[...s.tableau,c],s.points+=c.points,c.tier===3&&s.tokens.green===0&&(y.green>0&&(y.green-=1),s.tokens.green=1);const C=[...r.players];C[l]=s;let A=[...r.logs,`${s.name} recruited ${c.name||"a card"} (${c.points}pt).`],U=r.avengersTileOwnerId;if(c.avengersTag&&c.avengersTag>0){const $=s.tableau.reduce((H,I)=>H+(I.avengersTag||0),0);if(!U&&$>=3)U=s.id,s.points+=3,A.push(`${s.name} claimed the Avengers Assemble tile! (+3 VP)`);else if(U&&U!==s.id){const H=C.findIndex(I=>I.id===U);if(H!==-1){const I=C[H],ce=I.tableau.reduce((te,J)=>te+(J.avengersTag||0),0);if($>ce){const te={...I,points:I.points-3};C[H]=te,U=s.id,s.points+=3,A.push(`${s.name} stole the Avengers Assemble tile from ${I.name}!`)}}}}const B=[...C];B[l]=s;const G={...r,players:B,tokens:y,market:T,decks:w,avengersTileOwnerId:U,logs:A};return ss({...G,lastActionAt:Date.now()})}case"RESERVE_CARD":{const l=r.currentPlayerIndex,s={...r.players[l],tokens:{...r.players[l].tokens}};if(s.hand.length>=3)return r;const c=Ig(r,a.cardId);if(!c)return r;const{card:d,tier:h,index:g}=c,p={...r.tokens},y=Object.values(s.tokens).reduce((B,G)=>B+G,0);p.gray>0&&y<10&&(p.gray--,s.tokens.gray++),s.hand=[...s.hand,d];const b={...r.market},T={...r.decks},w=[...r.market[h]],C=[...r.decks[h]];C.length>0?w[g]=C.shift():w.splice(g,1),b[h]=w,T[h]=C;const A=[...r.players];A[l]=s;const U={...r,players:A,tokens:p,market:b,decks:T,logs:[...r.logs,`${s.name} reserved ${d.name||"a card"}.`]};return ss({...U,lastActionAt:Date.now()})}case"END_TURN":{const l=r.players[r.currentPlayerIndex];let s={...r};!r.finalRound&&l.points>=16&&l.tokens.green>0&&(s.finalRound=!0,s.logs=[...s.logs,`${l.name} has triggered the end game! Finishing the round...`]);const c=(r.currentPlayerIndex+1)%r.players.length;if(c===0&&s.finalRound){const d=[...s.players].sort((p,y)=>y.points!==p.points?y.points-p.points:p.tableau.length-y.tableau.length),h=d.filter(p=>p.points===d[0].points&&p.tableau.length===d[0].tableau.length),g=h.map(p=>p.name).join(" & ");return{...s,currentPlayerIndex:c,winner:g,status:"GAME_OVER",logs:[...s.logs,`Round Complete. GAME OVER! ${g} WINS with ${h[0].points} points!`]}}return{...s,currentPlayerIndex:c,turn:c===0?r.turn+1:r.turn}}case"PLAYER_JOINED":return r.players.some(l=>l.id===a.player.id)?r:{...r,players:[...r.players,a.player]};case"RECONNECT_PLAYER":{const{oldId:l,newId:s}=a,c=r.players.findIndex(h=>h.id===l);if(c===-1)return r;const d=[...r.players];return d[c]={...d[c],id:s},{...r,players:d,logs:[...r.logs,`${d[c].name} reconnected.`]}}case"PASS_TURN":{if(a.expectedPlayerIndex!==void 0&&a.expectedPlayerIndex!==r.currentPlayerIndex)return console.warn("Stale PASS_TURN received. Ignoring.",a.expectedPlayerIndex,r.currentPlayerIndex),r;if(r.status==="GAME_OVER")return r;if(r.pendingLocationSelection&&r.pendingLocationSelection.length>0){const c=r.pendingLocationSelection[0],d=r.players[r.currentPlayerIndex];return console.log(`Auto-selecting location ${c.name} for ${d.name} due to timeout.`),dc(r,{type:"SELECT_LOCATION",locationId:c.id})}const l=r.players[r.currentPlayerIndex],s={...r,logs:[...r.logs,`${l.name} passed their turn.`]};return ss(s)}case"SELECT_LOCATION":{const l=r.currentPlayerIndex;let s={...r.players[l]};if(!r.pendingLocationSelection||r.pendingLocationSelection.length===0)return r;const c=r.pendingLocationSelection.find(p=>p.id===a.locationId);if(!c)return r;s.locations=[...s.locations,c],s.points+=c.points;const d=r.locations.filter(p=>p.id!==c.id),h=[...r.players];h[l]=s;const g={...r,players:h,locations:d,pendingLocationSelection:void 0,logs:[...r.logs,`${s.name} took location: ${c.name}`]};return dp({...g,lastActionAt:Date.now()})}case"ABORT_GAME":return{...r,status:"LOBBY",logs:[...r.logs,`Game aborted: ${a.reason}`],winner:null,turnDeadline:void 0};default:return r}},dp=r=>{const a=r.players[r.currentPlayerIndex];let l={...r};if(!r.finalRound&&a.points>=16&&a.tokens.green>0){const c=new Set(a.tableau.map(g=>g.bonus));["red","blue","yellow","purple","orange"].every(g=>c.has(g))&&(l.finalRound=!0,l.logs=[...l.logs,`${a.name} has triggered the end game! Finishing the round...`])}const s=(r.currentPlayerIndex+1)%r.players.length;if(s===0&&l.finalRound){const c=[...l.players].sort((g,p)=>p.points!==g.points?p.points-g.points:g.tableau.length-p.tableau.length),d=c.filter(g=>g.points===c[0].points&&g.tableau.length===c[0].tableau.length),h=d.map(g=>g.name).join(" & ");return{...l,currentPlayerIndex:s,winner:h,status:"GAME_OVER",logs:[...l.logs,`Round Complete. GAME OVER! ${h} WINS with ${d[0].points} points!`],turnDeadline:void 0}}return{...l,currentPlayerIndex:s,turn:s===0?r.turn+1:r.turn,turnDeadline:r.config.turnLimitSeconds>0?Date.now()+r.config.turnLimitSeconds*1e3:void 0}},ss=r=>{const a=r.currentPlayerIndex,l=r.players[a],s={red:0,blue:0,yellow:0,purple:0,orange:0};l.tableau.forEach(d=>{d.bonus&&s[d.bonus]!==void 0&&s[d.bonus]++});const c=(r.locations||[]).filter(d=>{const h=d.requirements;return Object.keys(h).every(g=>{const p=h[g]||0;return(s[g]||0)>=p})});return c.length===0?dp(r):{...r,pendingLocationSelection:c,logs:[...r.logs,`${l.name} qualifies for ${c.length} location(s).`]}},Db=(r,a,l)=>{const[s,c]=Q.useState({playerId:null,gameId:null,connectionStatus:"idle",isHost:!1}),d=Q.useRef(null),h=Q.useRef(a);Q.useEffect(()=>{h.current=a},[a]),Q.useEffect(()=>{if(!l)return;const w=localStorage.getItem("splendor_gameId"),C=localStorage.getItem("splendor_isHost")==="true",A=localStorage.getItem("splendor_playerName");w&&A&&(console.log("Restoring session:",w),p(w,A,l,C))},[l]),Q.useEffect(()=>()=>{s.gameId&&en.channel(`game:${s.gameId}`).unsubscribe(),d.current&&clearInterval(d.current)},[s.gameId]);const g=async(w,C,A=60)=>{c(H=>({...H,connectionStatus:"connecting",errorMessage:void 0}));const B={...h.current,players:[{id:C,name:w,tokens:{red:0,blue:0,green:0,white:0,black:0,gold:0},hand:[],tableau:[],points:0,noble:null}],status:"LOBBY",config:{turnLimitSeconds:A},turnDeadline:A>0?Date.now()+A*1e3:void 0},{data:G,error:$}=await en.from("matches").insert([{game_state:B}]).select().single();if($){console.error("Error creating game:",$),c(H=>({...H,connectionStatus:"error",errorMessage:$.message}));return}p(G.id,w,C,!0)},p=async(w,C,A,U=!1)=>{c(I=>({...I,connectionStatus:"connecting",errorMessage:void 0}));const{data:B,error:G}=await en.from("matches").select("game_state").eq("id",w).single();if(G||!B){c(I=>({...I,connectionStatus:"error",errorMessage:"Game not found"})),localStorage.removeItem("splendor_gameId");return}let $=B.game_state;if($.status==="ABORTED"){c(I=>({...I,connectionStatus:"error",errorMessage:"Game was aborted by host."})),localStorage.removeItem("splendor_gameId");return}if(($.status==="LOBBY"||$.status==="PLAYING")&&$.players.findIndex(ce=>ce.id===A)===-1){if($.players.length>=4){c(ce=>({...ce,connectionStatus:"error",errorMessage:"Game full"}));return}$.players.push({id:A,name:C,tokens:{red:0,blue:0,green:0,white:0,black:0,gold:0},hand:[],tableau:[],points:0,isHuman:!0}),await en.from("matches").update({game_state:$}).eq("id",w)}en.channel(`game:${w}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"matches",filter:`id=eq.${w}`},I=>{const ce=I.new.game_state;if(ce.status==="ABORTED"){alert("The Host has ended the game."),localStorage.removeItem("splendor_gameId"),localStorage.removeItem("splendor_isHost"),window.location.reload();return}r({type:"SYNC_STATE",state:ce})}).subscribe(I=>{}),r({type:"SYNC_STATE",state:$});const H=setInterval(async()=>{const{data:I,error:ce}=await en.from("matches").select("game_state").eq("id",w).single();if(I&&!ce){const te=I.game_state;te.status==="ABORTED"?(alert("The Host has ended the game."),localStorage.removeItem("splendor_gameId"),localStorage.removeItem("splendor_isHost"),window.location.reload()):r({type:"SYNC_STATE",state:te})}},3e3);d.current&&clearInterval(d.current),d.current=H,localStorage.setItem("splendor_gameId",w),localStorage.setItem("splendor_isHost",String(U)),localStorage.setItem("splendor_playerName",C),c({playerId:A,gameId:w,connectionStatus:"connected",isHost:U})};return{mpState:s,hostGame:g,joinGame:p,sendAction:async w=>{if(!s.gameId)return;const C=h.current;try{const A=dc(C,w);r(w);const{error:U}=await en.from("matches").update({game_state:A}).eq("id",s.gameId);U&&console.error("Failed to sync move:",U)}catch(A){console.error("Invalid move or reducer error",A)}},closeLobby:async()=>{if(s.isHost&&s.gameId){const w={...h.current,status:"ABORTED"},{error:C}=await en.from("matches").update({game_state:w}).eq("id",s.gameId);if(C){console.error("Error closing lobby:",C),alert("Failed to close lobby: "+C.message);return}}c({playerId:null,gameId:null,connectionStatus:"idle",isHost:!1}),localStorage.removeItem("splendor_gameId"),localStorage.removeItem("splendor_isHost"),window.location.reload()},leaveGame:async()=>{if(!s.gameId||!s.playerId)return;const{data:w,error:C}=await en.from("matches").select("game_state").eq("id",s.gameId).single();if(w&&!C){const A=w.game_state,U=A.players.filter(G=>G.id!==s.playerId),B={...A,players:U};await en.from("matches").update({game_state:B}).eq("id",s.gameId)}c({playerId:null,gameId:null,connectionStatus:"idle",isHost:!1}),localStorage.removeItem("splendor_gameId"),localStorage.removeItem("splendor_isHost"),window.location.reload()}}},Ub=r=>{const[a,l]=Q.useReducer(dc,cp([{id:"host",name:"Player 1"},{id:"p2",name:"Player 2"}]),b=>{const T=sessionStorage.getItem("splendor_gameState");if(T)try{return JSON.parse(T)}catch(w){console.error("Failed to parse saved state",w)}return b});Q.useEffect(()=>{sessionStorage.setItem("splendor_gameState",JSON.stringify(a))},[a]);const{mpState:s,hostGame:c,joinGame:d,sendAction:h,closeLobby:g,leaveGame:p}=Db(l,a,r);return{state:a,dispatch:b=>{s.connectionStatus==="connected"&&s.gameId?h(b):l(b)},mpState:s,hostGame:c,joinGame:d,closeLobby:g,leaveGame:p}};var zb=Kg();const Mb=({items:r,onComplete:a})=>zb.createPortal(v.jsx("div",{className:"animation-overlay-container",children:r.map(l=>v.jsx(Bb,{item:l,onComplete:a},l.id))}),document.body),Bb=({item:r,onComplete:a})=>{const[l,s]=Q.useState({position:"fixed",left:r.startRect.left,top:r.startRect.top,width:r.startRect.width,height:r.startRect.height,zIndex:9999,pointerEvents:"none",transition:`all ${r.duration}ms cubic-bezier(0.4, 0, 0.2, 1)`,opacity:1});if(Q.useEffect(()=>{requestAnimationFrame(()=>{s(d=>({...d,left:r.endRect.left,top:r.endRect.top,width:r.endRect.width,height:r.endRect.height,opacity:1,transform:"scale(1)"}))});const c=setTimeout(()=>{a(r.id)},r.duration);return()=>clearTimeout(c)},[r,a]),r.type==="token")return v.jsx("div",{style:{...l,backgroundImage:`url(${r.content})`,backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",borderRadius:"50%"},className:"flying-token"});{const c=!!r.backContent;return v.jsx("div",{style:{...l,perspective:"1000px"},children:v.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",transition:c?`transform ${r.duration}ms`:"none",transformStyle:"preserve-3d",transform:c&&l.left===r.startRect.left?"rotateY(180deg) scale(0.2)":"rotateY(0deg) scale(1)"},children:[v.jsx("div",{style:{position:"absolute",width:"100%",height:"100%",backgroundImage:`url(${r.content})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"10px",border:"1px solid white",boxShadow:"0 0 15px rgba(255,255,255,0.5)",backfaceVisibility:"hidden",transform:"rotateY(0deg)"}}),c&&v.jsx("div",{style:{position:"absolute",width:"100%",height:"100%",backgroundImage:`url(${r.backContent})`,backgroundSize:"200%",backgroundPosition:"center",borderRadius:"10px",border:"1px solid white",boxShadow:"0 0 15px rgba(255,255,255,0.5)",backfaceVisibility:"hidden",transform:"rotateY(180deg)"}})]})})}},qb=()=>{const r=Q.useRef(null);Q.useEffect(()=>{const b=()=>{r.current?r.current.state==="suspended"&&r.current.resume():r.current=new(window.AudioContext||window.webkitAudioContext)};return window.addEventListener("click",b,{once:!0}),window.addEventListener("keydown",b,{once:!0}),()=>{window.removeEventListener("click",b),window.removeEventListener("keydown",b)}},[]);const a=Q.useCallback((b,T,w,C=0,A=.1)=>{if(!r.current)return;const U=r.current,B=U.createOscillator(),G=U.createGain();B.type=T,B.frequency.setValueAtTime(b,U.currentTime+C),G.gain.setValueAtTime(A,U.currentTime+C),G.gain.exponentialRampToValueAtTime(.01,U.currentTime+C+w),B.connect(G),G.connect(U.destination),B.start(U.currentTime+C),B.stop(U.currentTime+C+w)},[]),l=Q.useCallback(()=>{a(2500,"sine",.03,0,.15),a(3200,"triangle",.03,0,.1),a(200,"square",.01,0,.05)},[a]),s=Q.useCallback(()=>{if(!r.current)return;const b=r.current,T=b.sampleRate*.2,w=b.createBuffer(1,T,b.sampleRate),C=w.getChannelData(0);for(let G=0;G<T;G++)C[G]=Math.random()*2-1;const A=b.createBufferSource();A.buffer=w;const U=b.createGain(),B=b.createBiquadFilter();B.type="lowpass",B.frequency.setValueAtTime(200,b.currentTime),B.frequency.linearRampToValueAtTime(800,b.currentTime+.1),B.frequency.linearRampToValueAtTime(200,b.currentTime+.2),U.gain.setValueAtTime(.05,b.currentTime),U.gain.linearRampToValueAtTime(.1,b.currentTime+.1),U.gain.linearRampToValueAtTime(0,b.currentTime+.2),A.connect(B),B.connect(U),U.connect(b.destination),A.start()},[]),c=Q.useCallback(()=>{a(440,"sine",.1,0,.1),a(554,"sine",.1,.1,.1),a(659,"sine",.2,.2,.1)},[a]),d=Q.useCallback(()=>{a(300,"square",.1,0,.05),a(400,"square",.2,.1,.05)},[a]),h=Q.useCallback(()=>{a(150,"sawtooth",.2,0,.1),a(140,"sawtooth",.2,.1,.1)},[a]),g=Q.useCallback(()=>{a(523.25,"triangle",.2,0,.2),a(523.25,"triangle",.2,0+.2,.2),a(523.25,"triangle",.2,0+.4,.2),a(659.25,"triangle",.6,0+.6,.2),a(783.99,"sine",.6,0+1.2,.2),a(1046.5,"sine",1,0+1.8,.3)},[a]),p=Q.useCallback(()=>{a(659.25,"sine",.15,0,.2),a(830.61,"sine",.4,0+.15,.2),a(659.25/2,"triangle",.4,0,.05)},[a]),y=Q.useCallback(()=>{a(1200,"square",.03,0,.05),a(200,"triangle",.03,0,.1)},[a]);return{playTokenSound:l,playCardFlipSound:s,playRecruitSound:c,playReserveSound:d,playErrorSound:h,playVictorySound:g,playTurnSound:p,playTickSound:y}},vt=[];for(let r=0;r<256;++r)vt.push((r+256).toString(16).slice(1));function Lb(r,a=0){return(vt[r[a+0]]+vt[r[a+1]]+vt[r[a+2]]+vt[r[a+3]]+"-"+vt[r[a+4]]+vt[r[a+5]]+"-"+vt[r[a+6]]+vt[r[a+7]]+"-"+vt[r[a+8]]+vt[r[a+9]]+"-"+vt[r[a+10]]+vt[r[a+11]]+vt[r[a+12]]+vt[r[a+13]]+vt[r[a+14]]+vt[r[a+15]]).toLowerCase()}let Yu;const Hb=new Uint8Array(16);function $b(){if(!Yu){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Yu=crypto.getRandomValues.bind(crypto)}return Yu(Hb)}const Gb=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Vg={randomUUID:Gb};function Ib(r,a,l){r=r||{};const s=r.random??r.rng?.()??$b();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Lb(s)}function Vb(r,a,l){return Vg.randomUUID&&!r?Vg.randomUUID():Ib(r)}const Yb="/Marvel-Splendor/assets/card-back-1-B6_qxZI5.png",Kb="/Marvel-Splendor/assets/card-back-2-OLD1ch52.png",Xb="/Marvel-Splendor/assets/card-back-3-BurI11Ts.png",os="/Marvel-Splendor/assets/avengers%20tile-DEMs1048.png",Qb="/Marvel-Splendor/assets/mind-token-wg9xb6ir.png",Jb="/Marvel-Splendor/assets/power-token--xWYED7e.png",Zb="/Marvel-Splendor/assets/reality-token-DnZAeP9M.png",Pb="/Marvel-Splendor/assets/shield-token-NAt7ticr.png",Wb="/Marvel-Splendor/assets/soul-token-CdUMXZFm.png",Fb="/Marvel-Splendor/assets/space-token-D8NAbnBM.png",e_="/Marvel-Splendor/assets/time-token-CXLXN6B9.png",hp={yellow:Qb,purple:Jb,red:Zb,gray:Pb,orange:Wb,blue:Fb,green:e_},Yg={1:Yb,2:Kb,3:Xb},ac=({color:r,count:a,onClick:l,size:s=100,style:c})=>v.jsx("div",{id:l?`token-bank-${r}`:void 0,className:`token ${r}`,onClick:l,style:{opacity:a>0?1:.5,pointerEvents:a>0?"auto":"none",backgroundImage:`url(${hp[r]})`,backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:"transparent",boxShadow:"none",border:"none",width:s,height:s,display:"flex",alignItems:"center",justifyContent:"center",...c},children:v.jsx("span",{style:{textShadow:"0 0 4px #000, 0 0 2px #000",color:"white",fontSize:`${s*.25}px`},children:a})}),hs=({card:r,onClick:a,disabled:l,canAfford:s,noAnimate:c,hideName:d})=>{const h=r.imageUrl||`/Marvel-Splendor/assets/hero-tier-${r.tier}.png`,[g,p]=Q.useState(!c),[y,b]=Q.useState("0s");return Q.useEffect(()=>{const T=setTimeout(()=>p(!1),500);return()=>clearTimeout(T)},[]),Q.useEffect(()=>{if(s){const T=-(Date.now()%2e3)+"ms";b(T)}},[s]),v.jsxs("div",{className:`card ${r.bonus} ${s?"affordable":""} ${g?"card-enter":""} ${l?"disabled":""}`,onClick:l?void 0:a,style:{cursor:l?"default":"pointer",backgroundImage:`url(${h})`,animationDelay:s?y:"0s"},children:[v.jsxs("div",{className:"card-header",children:[v.jsx("span",{className:"card-points",children:r.points||""}),v.jsxs("div",{className:"card-indicators",children:[r.avengersTag!==void 0&&r.avengersTag>0&&Array.from({length:r.avengersTag}).map((T,w)=>v.jsx("div",{className:"avengers-tag",title:"Avengers Tag",children:"A"},`avenger-tag-${w}`)),r.tier===3&&v.jsx("div",{className:"time-stone-indicator",title:"Grants Time Stone (Green)"})]})]}),v.jsx("div",{className:"card-cost",children:Object.entries(r.cost).map(([T,w])=>w>0?v.jsx("div",{className:`cost-bubble ${T}`,children:w},T):null)}),r.name&&!d&&v.jsx("div",{className:"card-name-label",style:{position:"absolute",bottom:"2px",right:"2px",fontSize:"0.6rem",background:"rgba(0,0,0,0.7)",padding:"1px 3px",borderRadius:"3px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textShadow:"0 1px 1px black"},children:r.name})]})},ic=({location:r,onClick:a,style:l,disabled:s,hideName:c})=>v.jsxs("div",{className:`card location ${s?"disabled":""}`,onClick:a,style:{width:"130px",height:"130px",backgroundImage:`url(${r.image})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"10px",border:"1px solid white",position:"relative",boxShadow:"0 0 10px rgba(0,0,0,0.5)",cursor:a?"pointer":"default",display:"flex",flexDirection:"column",...l},children:[v.jsx("div",{className:"card-header",children:v.jsx("span",{className:"card-points",style:{textShadow:"0 0 5px gold, 0 1px 2px black",color:"white"},children:r.points})}),v.jsx("div",{className:"card-cost",style:{flexDirection:"column-reverse"},children:Object.entries(r.requirements).map(([d,h])=>v.jsx("div",{className:`cost-bubble ${d}`,style:{borderRadius:"25%"},children:h},d))}),!c&&v.jsx("div",{className:"location-name-label",style:{position:"absolute",bottom:"2px",right:"2px",fontSize:"0.6rem",background:"rgba(0,0,0,0.7)",padding:"1px 3px",borderRadius:"3px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textShadow:"0 1px 1px black",color:"white"},children:r.name})]}),t_=({player:r,isActive:a,onCardClick:l,onLocationClick:s,isMe:c,hasAvengersTile:d,onAvengersClick:h})=>v.jsxs("div",{id:`player-area-${r.id}`,className:`player-card ${a?"active-turn":""}`,children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsxs("h3",{style:{margin:0,fontSize:"1rem",color:a?"var(--marvel-green)":"inherit",textShadow:a?"0 0 10px var(--marvel-green)":"none"},children:[r.name," ",c?v.jsx("span",{style:{color:"var(--marvel-blue)",fontSize:"0.8rem"},children:"(You)"}):""]}),v.jsxs("div",{style:{fontWeight:"bold",color:"var(--marvel-yellow)"},children:[r.points," VP"]})]}),v.jsxs("div",{style:{fontSize:"0.7rem",color:"#aaa",marginBottom:"2px"},children:["Tokens (",Object.values(r.tokens).reduce((g,p)=>g+p,0),"/10)"]}),v.jsx("div",{style:{display:"flex",flexWrap:"wrap",margin:"5px 0"},children:Object.entries(r.tokens).map(([g,p])=>p>0?v.jsx(ac,{color:g,count:p,size:50,style:{margin:"0 -5px"}},g):null)}),r.hand.length>0&&v.jsxs("div",{style:{marginBottom:"5px"},children:[v.jsxs("div",{style:{fontSize:"0.7rem",color:"#aaa",marginBottom:"2px"},children:["Reserved (",r.hand.length,")"]}),v.jsx("div",{style:{display:"flex",gap:"2px",flexWrap:"wrap"},children:r.hand.map(g=>v.jsx("div",{style:{transform:"scale(0.5)",transformOrigin:"top left",width:"60px",height:"84px"},children:v.jsx(hs,{card:g,onClick:()=>l(g)})},g.id))})]}),(r.locations.length>0||d)&&v.jsxs("div",{style:{marginBottom:"5px"},children:[v.jsx("div",{style:{fontSize:"0.7rem",color:"#aaa",marginBottom:"2px"},children:"Locations / Titles"}),v.jsxs("div",{style:{display:"flex",gap:"2px",flexWrap:"wrap"},children:[r.locations.map(g=>v.jsx("div",{style:{transform:"scale(0.5)",transformOrigin:"top left",width:"75px",height:"75px"},children:v.jsx(ic,{location:g,onClick:()=>s(g)})},g.id)),d&&v.jsx("div",{style:{transform:"scale(0.5)",transformOrigin:"top left",width:"75px",height:"75px"},children:v.jsxs("div",{className:"card location",onClick:h,style:{width:"130px",height:"130px",backgroundImage:`url("${os}")`,backgroundSize:"cover",borderRadius:"10px",border:"1px solid white",display:"flex",flexDirection:"column",cursor:"pointer"},title:"Avengers Assemble Tile (+3 VP)",children:[v.jsx("div",{className:"card-header",children:v.jsx("span",{className:"card-points",style:{textShadow:"0 0 5px gold, 0 1px 2px black",color:"white"},children:"3"})}),v.jsx("div",{className:"card-cost",style:{flexDirection:"column-reverse"},children:v.jsx("div",{className:"cost-bubble",style:{borderRadius:"25%",background:"linear-gradient(135deg, darkgray, black)",color:"white",border:"1px solid white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem",fontWeight:"bold"},children:"3"})})]})})]})]}),v.jsxs("div",{style:{fontSize:"0.7rem",color:"#aaa",marginBottom:"2px"},children:["Tableau (",r.tableau.length,")"]}),v.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"2px"},children:r.tableau.map(g=>v.jsx("div",{style:{transform:"scale(0.5)",transformOrigin:"top left",width:"60px",height:"84px",marginBottom:"-40px",marginRight:"-10px"},children:v.jsx(hs,{card:g,onClick:()=>l(g)})},g.id))}),v.jsxs("div",{style:{display:"flex",gap:"2px",marginTop:"40px",borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"2px"},children:[["red","blue","green","yellow","purple","orange"].map(g=>{const p=r.tableau.filter(y=>y.bonus===g).length;return p>0?v.jsxs("div",{style:{display:"flex",alignItems:"center",fontSize:"0.7rem",marginRight:"4px"},children:[v.jsx("div",{style:{width:"8px",height:"8px",background:g==="green"?"#33ff33":g,borderRadius:"50%",marginRight:"2px"}}),p]},g):null}),(()=>{const g=r.tableau.reduce((p,y)=>p+(y.avengersTag||0),0);return g>0?v.jsxs("div",{style:{display:"flex",alignItems:"center",fontSize:"0.7rem",marginRight:"4px",marginLeft:"5px"},children:[v.jsx("div",{style:{width:"14px",height:"14px",background:"linear-gradient(135deg, darkgray, black)",boxShadow:"0 0 2px black",borderRadius:"50%",marginRight:"3px",border:"1px solid white",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"9px",fontWeight:"bold"},children:"A"}),g]}):null})()]})]}),n_=r=>`hsl(${Math.max(0,Math.min(120,r*120))}, 90%, 45%)`,a_=({state:r,dispatch:a,myPeerId:l,myUUID:s,closeLobby:c,isHost:d})=>{const{playTokenSound:h,playRecruitSound:g,playReserveSound:p,playCardFlipSound:y,playErrorSound:b,playVictorySound:T,playTurnSound:w,playTickSound:C}=qb(),A=r.players[r.currentPlayerIndex].id===l||l===null&&r.currentPlayerIndex===0,U=(()=>{if(l){const j=r.players.findIndex(X=>X.id===l);if(j!==-1)return j}if(s){const j=r.players.findIndex(X=>X.uuid===s);if(j!==-1)return j}return r.currentPlayerIndex})(),B=r.players[U]||r.players[r.currentPlayerIndex],[G,$]=Q.useState(0),[H,I]=Q.useState(null),[ce,te]=Q.useState(!1);Q.useEffect(()=>{if(r.pendingLocationSelection&&r.pendingLocationSelection.length===1){const j=r.pendingLocationSelection[0],X=r.players[r.currentPlayerIndex].id,W=setTimeout(()=>{E(me=>new Set(me).add(j.id)),Un("card",j.image,`location-tile-${j.id}`,`player-area-${X}`)},700);let Ee;return A&&(Ee=setTimeout(()=>{a({type:"SELECT_LOCATION",locationId:j.id}),g()},1500)),()=>{clearTimeout(W),Ee&&clearTimeout(Ee)}}},[r.pendingLocationSelection,r.currentPlayerIndex,A,a,g]);const[J,Ne]=Q.useState(null),Ve=Q.useRef(r.logs.length);Q.useEffect(()=>{if(r.logs.length>Ve.current){const j=r.logs[r.logs.length-1];j.includes("took location")&&Ne({msg:j,type:"success"}),j.includes("Avengers Assemble tile")&&Ne({msg:j,type:"success"})}Ve.current=r.logs.length},[r.logs]);const $t=Q.useRef(r.avengersTileOwnerId);Q.useEffect(()=>{const j=r.avengersTileOwnerId,X=$t.current;if(j&&j!==X){const W=X?`player-area-${X}`:"locations-row",Ee=`player-area-${j}`;Un("card",os,W,Ee),g()}$t.current=j},[r.avengersTileOwnerId,g]),Q.useEffect(()=>{if(J){const j=setTimeout(()=>Ne(null),4e3);return()=>clearTimeout(j)}},[J]),Q.useEffect(()=>{if(!r.turnDeadline)return;const j=()=>{if(r.status==="GAME_OVER")return;if(d&&r.lastActionAt&&Date.now()-r.lastActionAt>3e5){a({type:"ABORT_GAME",reason:"No activity for 5 minutes"});return}const W=Math.max(0,Math.ceil((r.turnDeadline-Date.now())/1e3));$(W),A&&W<=10&&W>0&&C(),W<=0&&a({type:"PASS_TURN",expectedPlayerIndex:r.currentPlayerIndex})},X=setInterval(j,1e3);return j(),()=>clearInterval(X)},[r.turnDeadline,r.currentPlayerIndex,a,C,A]);const St=r.config.turnLimitSeconds,ne=Math.max(0,Math.min(1,G/St)),Me=n_(ne),[je,ut]=Q.useState({}),[N,Y]=Q.useState(null),[le,Oe]=Q.useState([]),[Re,E]=Q.useState(new Set),L=ns.useRef(r.market),K=ns.useRef([]),[Z,de]=Q.useState(!0),[fe,ge]=Q.useState(null),[Fe,Ce]=Q.useState(null),[on,Da]=Q.useState(!1),[Gt,zi]=Q.useState(!1);Q.useEffect(()=>{if(fe){const j=setTimeout(()=>ge(null),3e3);return()=>clearTimeout(j)}},[fe]),Q.useEffect(()=>{const j=X=>{X.key==="Escape"&&(Fe?Ce(null):N&&Y(null))};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[Fe,N]);const un=Q.useRef(new Set),Ua=Q.useRef(new Set);Q.useEffect(()=>{r.players.forEach(j=>{const X=j.tokens.green>0;j.points>=16&&X&&!un.current.has(j.id)&&r.status!=="GAME_OVER"&&(un.current.add(j.id),ge({message:`${j.name} has met the winning criteria! Score higher to overtake!`,type:"info"}))})},[r.players,r.status]),Q.useEffect(()=>{r.status==="GAME_OVER"&&T()},[r.status,T]);const za=Q.useRef(A);Q.useEffect(()=>{A&&!za.current&&w(),za.current=A},[A,w]),ns.useLayoutEffect(()=>{const j=L.current;["1","2","3"].forEach(X=>{const W=parseInt(X),Ee=r.market[W],me=j[W];Ee.filter(ue=>!me.some(De=>De.id===ue.id)).forEach(ue=>{const De=`deck-tier-${W}`,Et=`market-card-${ue.id}`,Ye=ue.imageUrl||`/Marvel-Splendor/assets/hero-tier-${ue.tier}.png`;E($e=>new Set($e).add(ue.id)),Ua.current.add(ue.id),requestAnimationFrame(()=>{y(),Un("card",Ye,De,Et,Yg[W],ue.id)})})}),L.current=r.market},[r.market]),ns.useLayoutEffect(()=>{K.current=r.locations||[]},[r.locations]);const Un=(j,X,W,Ee,me,ie)=>{const ue=document.getElementById(W),De=document.getElementById(Ee);if(!ue||!De)return;const Et=ue.getBoundingClientRect();let Ye=De;if(Ee.includes("market-card")||Ee.includes("location-tile")){const It=De.querySelector(".card");It&&(Ye=It)}const $e=Ye.getBoundingClientRect();let Te,Be;if(Ee.includes("player-area")){const It=W.includes("location-tile");Te=It?65:60,Be=It?65:84}else Ee.includes("token-bank"),Te=$e.width,Be=$e.height;const zn=$e.left+$e.width/2,Mn=$e.top+$e.height/2,ms={left:zn-Te/2,top:Mn-Be/2,width:Te,height:Be,bottom:Mn+Be/2,right:zn+Te/2,x:zn-Te/2,y:Mn-Be/2,toJSON:()=>{}},La={id:Vb(),type:j,content:X,startRect:Et,endRect:ms,duration:800,backContent:me,relatedCardId:ie};Oe(It=>[...It,La])},Hr=j=>{Oe(X=>{const W=X.find(me=>me.id===j),Ee=X.filter(me=>me.id!==j);return W&&W.relatedCardId&&(Ee.some(ie=>ie.relatedCardId===W.relatedCardId)||E(ie=>{const ue=new Set(ie);return ue.delete(W.relatedCardId),ue})),Ee})};Q.useEffect(()=>{ut({})},[r.currentPlayerIndex]);const Ma=j=>{if(r.status==="GAME_OVER"){ge({message:"Game is over!",type:"info"});return}if(!A||j==="gray"||j==="green")return;const X={...je},Ee=(X[j]||0)+1,me=Object.values(X).reduce((ue,De)=>ue+De,0),ie=Object.keys(X).length;if(Ee===2){if(r.tokens[j]<4){ge({message:"Cannot take 2 of this color (less than 4 in bank).",type:"error"}),b();return}if(me>1){ge({message:"Cannot take 2 of same color if you have other colors selected.",type:"error"}),b();return}h(),X[j]=2,ut(X)}else if(Ee===1){if(Object.values(X).some(De=>De===2)){ge({message:"Cannot take different colors if you selected 2 of the same.",type:"error"}),b();return}if(ie>=3){ge({message:"Max 3 distinct tokens.",type:"error"}),b();return}h(),X[j]=1,ut(X)}},Ba=()=>{if(r.status==="GAME_OVER"){ge({message:"Game is over!",type:"info"});return}const j=r.players[r.currentPlayerIndex],X=Object.values(j.tokens).reduce((me,ie)=>me+ie,0),W=Object.values(je).reduce((me,ie)=>me+ie,0);if(X+W>10){ge({message:`Cannot take tokens: You have ${X} and selected ${W}. Limit is 10.`,type:"error"}),b();return}a({type:"TAKE_TOKENS",tokens:{red:0,blue:0,yellow:0,purple:0,orange:0,green:0,gray:0,...je}});const Ee=r.players[r.currentPlayerIndex].id;Object.entries(je).forEach(([me,ie])=>{if(ie&&ie>0)for(let ue=0;ue<ie;ue++)setTimeout(()=>{Un("token",hp[me],`token-bank-${me}`,`player-area-${Ee}`)},ue*100)}),h(),ut({})},qa=j=>{Y(j)},Mi=j=>{const X=B,W={red:0,blue:0,yellow:0,purple:0,orange:0};X.tableau.forEach(ue=>{ue.bonus&&W[ue.bonus]!==void 0&&W[ue.bonus]++});const Ee=j.cost;let me=0,ie=X.tokens.gray;for(const ue of["red","blue","yellow","purple","orange"]){const De=Ee[ue]||0,Et=Math.max(0,De-(W[ue]||0));X.tokens[ue]<Et&&(me+=Et-X.tokens[ue])}return ie>=me},$r=j=>{if(r.status==="GAME_OVER"){ge({message:"The game has ended. You cannot make moves.",type:"info"}),b();return}if(!A){ge({message:"It is not your turn!",type:"error"}),b();return}if(!N)return;const X=r.players[r.currentPlayerIndex].id;j==="RECRUIT"?(a({type:"RECRUIT_CARD",cardId:N.id}),g(),Un("card",N.imageUrl||"","modal-card-view",`player-area-${X}`)):(a({type:"RESERVE_CARD",cardId:N.id}),p(),Un("card",N.imageUrl||"","modal-card-view",`player-area-${X}`)),Y(null)};return v.jsxs("div",{className:"game-layout has-desktop-header",children:[v.jsx(Mb,{items:le,onComplete:Hr}),v.jsxs("div",{className:"desktop-header-bar desktop-only",children:[v.jsxs("div",{className:"header-timer",style:{background:A?"rgba(0,0,0,0.8)":"rgba(0,0,0,0.6)",border:`2px solid ${A?Me:"#555"}`,color:A?Me:"#aaa",boxShadow:A?`0 0 15px ${Me}`:"none"},children:[v.jsx("span",{children:A?"Your Turn":`${r.players[r.currentPlayerIndex].name.length>12?r.players[r.currentPlayerIndex].name.slice(0,12)+"...":r.players[r.currentPlayerIndex].name}'s Turn`}),v.jsxs("span",{style:{fontFamily:"monospace",fontSize:"1.2rem",background:"rgba(255,255,255,0.1)",padding:"2px 8px",borderRadius:"4px"},children:[Math.floor(G/60),":",(G%60).toString().padStart(2,"0")]})]}),v.jsxs("div",{className:"header-controls",children:[v.jsx("button",{onClick:Ba,className:"btn-primary",disabled:!A||Object.keys(je).length===0,style:{padding:"8px 16px",fontSize:"0.9rem",opacity:!A||Object.keys(je).length===0?.5:1,cursor:!A||Object.keys(je).length===0?"not-allowed":"pointer"},children:"Confirm"}),v.jsx("button",{onClick:()=>ut({}),disabled:!A||Object.keys(je).length===0,style:{background:"#444",border:"none",color:"white",padding:"8px 16px",borderRadius:"4px",fontSize:"0.9rem",opacity:!A||Object.keys(je).length===0?.5:1,cursor:!A||Object.keys(je).length===0?"not-allowed":"pointer"},children:"Reset"}),v.jsx("button",{onClick:()=>{Ce({message:"Pass your turn without taking any action?",onConfirm:()=>{a({type:"PASS_TURN",expectedPlayerIndex:r.currentPlayerIndex})}})},disabled:!A,style:{background:"var(--marvel-red)",border:"none",color:"white",padding:"8px 16px",borderRadius:"4px",fontSize:"0.9rem",opacity:A?1:.5,cursor:A?"pointer":"not-allowed"},children:"Pass"})]}),v.jsx("div",{className:"header-tokens",children:["red","blue","yellow","purple","orange","gray","green"].map(j=>v.jsxs("div",{style:{position:"relative"},children:[v.jsx(ac,{color:j,count:r.tokens[j],onClick:()=>Ma(j),size:50}),je[j]?v.jsxs("span",{style:{position:"absolute",bottom:"-2px",left:"50%",transform:"translateX(-50%)",color:"lime",fontWeight:"bold",textShadow:"0 0 4px black",fontSize:"0.8rem",zIndex:10,pointerEvents:"none"},children:["+",je[j]]}):null]},j))}),d&&c&&v.jsx("button",{type:"button",onClick:j=>{j.preventDefault(),j.stopPropagation(),Ce({message:"Are you sure you want to close the lobby? This will disconnect all players.",onConfirm:()=>c()})},style:{background:"rgba(255, 0, 0, 0.7)",color:"white",border:"1px solid #ff4444",padding:"8px 16px",borderRadius:"5px",cursor:"pointer"},children:"Quit Game"})]}),A&&v.jsx("div",{className:"turn-indicator-overlay",style:{boxShadow:`inset 0 0 0 4px ${Me}, inset 0 0 50px ${Me}`,transition:"box-shadow 1s linear"}}),fe&&v.jsx("div",{className:`toast-notification ${fe.type}`,children:fe.message}),Fe&&v.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10001},onClick:()=>Ce(null),children:v.jsxs("div",{style:{background:"#1a1d2e",padding:"24px",borderRadius:"12px",border:"1px solid #444",maxWidth:"400px",width:"90%",textAlign:"center",boxShadow:"0 0 40px rgba(0,0,0,0.5)"},onClick:j=>j.stopPropagation(),children:[v.jsx("h3",{style:{margin:"0 0 16px 0",color:"white"},children:"Confirm Action"}),v.jsx("p",{style:{color:"#ccc",marginBottom:"24px"},children:Fe.message}),v.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[v.jsx("button",{className:"btn-primary",style:{background:"#555"},onClick:()=>Ce(null),children:"Cancel"}),v.jsx("button",{className:"btn-primary",style:{background:"var(--marvel-red)"},onClick:()=>{Fe.onConfirm(),Ce(null)},children:"Confirm"})]})]})}),v.jsxs("div",{className:"mobile-header mobile-only",children:[v.jsxs("div",{className:"timer-section",style:{color:A?Me:"#aaa"},children:[v.jsx("span",{children:A?"Your Turn":`${r.players[r.currentPlayerIndex].name.slice(0,8)}'s`}),v.jsxs("span",{className:"timer-value",children:[Math.floor(G/60),":",(G%60).toString().padStart(2,"0")]})]}),v.jsxs("div",{className:"action-buttons",children:[v.jsx("button",{onClick:Ba,disabled:!A||Object.keys(je).length===0,style:{background:"linear-gradient(135deg, var(--marvel-blue), var(--marvel-purple))",color:"white",opacity:!A||Object.keys(je).length===0?.5:1},children:"Confirm"}),v.jsx("button",{onClick:()=>ut({}),disabled:!A||Object.keys(je).length===0,style:{background:"#444",color:"white",opacity:!A||Object.keys(je).length===0?.5:1},children:"Reset"}),v.jsx("button",{onClick:()=>{Ce({message:"Pass your turn?",onConfirm:()=>a({type:"PASS_TURN",expectedPlayerIndex:r.currentPlayerIndex})})},disabled:!A,style:{background:"var(--marvel-red)",color:"white",opacity:A?1:.5},children:"Pass"})]}),d&&c&&v.jsx("button",{className:"quit-btn",onClick:j=>{j.preventDefault(),j.stopPropagation(),Ce({message:"Close lobby and disconnect all players?",onConfirm:()=>c()})},style:{background:"rgba(255, 0, 0, 0.7)",color:"white",border:"1px solid #ff4444",borderRadius:"4px",cursor:"pointer",marginLeft:"5px"},children:"Quit Game"})]}),v.jsx("div",{className:"mobile-token-row mobile-only",children:["red","blue","yellow","purple","orange","gray","green"].map(j=>v.jsxs("div",{className:"token-wrapper",children:[v.jsx(ac,{color:j,count:r.tokens[j],onClick:()=>Ma(j),size:36}),je[j]?v.jsxs("span",{className:"selected-badge",children:["+",je[j]]}):null]},j))}),v.jsxs("div",{className:"board-center",children:[v.jsxs("div",{id:"locations-row",className:"locations-row",style:{display:"flex",justifyContent:"center",gap:"10px"},children:[!r.avengersTileOwnerId&&v.jsxs("div",{className:"card location",onClick:()=>te(!0),style:{width:"130px",height:"130px",backgroundImage:`url("${os}")`,backgroundSize:"cover",borderRadius:"10px",border:"1px solid white",display:"flex",flexDirection:"column",cursor:"pointer"},title:"Avengers Assemble Tile (+3 VP)",children:[v.jsx("div",{className:"card-header",children:v.jsx("span",{className:"card-points",style:{textShadow:"0 0 5px gold, 0 1px 2px black",color:"white"},children:"3"})}),v.jsx("div",{className:"card-cost",style:{flexDirection:"column-reverse"},children:v.jsx("div",{className:"cost-bubble",style:{borderRadius:"25%",background:"linear-gradient(135deg, darkgray, black)",color:"white",border:"1px solid white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},children:"3"})})]}),(r.locations||[]).map(j=>{const X=r.pendingLocationSelection?.some(W=>W.id===j.id)&&A;return v.jsx("div",{id:`location-tile-${j.id}`,children:Re.has(j.id)?v.jsx("div",{className:"card location",style:{width:"130px",height:"130px",visibility:"hidden"}}):v.jsx("div",{style:{position:"relative"},children:v.jsx(ic,{location:j,onClick:()=>{X?a({type:"SELECT_LOCATION",locationId:j.id}):I(j)},style:X?{border:"4px solid gold",animation:"glow 2s infinite",transform:"scale(1.05)","--glow-color":"gold"}:void 0})})},j.id)}),(r.locations||[]).length===0&&v.jsx("div",{style:{color:"#555",fontStyle:"italic",padding:"20px"},children:"No Locations Remaining"})]}),v.jsx("div",{className:"market-grid",children:[3,2,1].map(j=>v.jsxs("div",{className:"card-row",style:{justifyContent:"flex-start"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",position:"relative"},children:[v.jsxs("div",{className:"deck-count",style:{display:"flex",flexDirection:"column",alignItems:"center",color:"#aaa",fontSize:"0.8rem",width:"40px",position:"absolute",right:"100%",marginRight:"10px"},children:[v.jsx("span",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"white"},children:r.decks[j].length}),v.jsx("span",{children:"left"})]}),r.decks[j].length>0?v.jsx("div",{id:`deck-tier-${j}`,className:"card disabled",style:{backgroundImage:`url(${Yg[j]})`,backgroundSize:"200%",display:"flex",alignItems:"center",justifyContent:"center"}}):v.jsx("div",{className:"empty-deck-placeholder"})]}),r.market[j].map(X=>v.jsx("div",{id:`market-card-${X.id}`,children:Re.has(X.id)?v.jsx("div",{className:"card",style:{width:"120px",height:"168px",visibility:"hidden"}}):v.jsx(hs,{card:X,onClick:()=>qa(X),canAfford:Mi(X),noAnimate:Ua.current.has(X.id)})},X.id))]},j))}),v.jsxs("div",{className:"inline-logs",children:[v.jsxs("button",{className:`game-logs-toggle ${Gt?"expanded":""}`,onClick:()=>zi(!Gt),children:[v.jsx("span",{className:"log-icon",children:""}),v.jsx("span",{children:"Game Logs"}),v.jsx("span",{className:"log-count",children:r.logs.length}),v.jsx("span",{className:"toggle-arrow",children:Gt?"":""})]}),Gt&&v.jsxs("div",{className:"game-logs-content",children:[v.jsx("div",{className:"game-logs-header",children:"Recent Activity"}),r.logs.slice(-25).reverse().map((j,X)=>{let W="";return j.includes("took tokens")?W="log-tokens":j.includes("recruited")?W="log-recruit":j.includes("reserved")?W="log-reserve":j.includes("location")?W="log-location":j.includes("Avengers")?W="log-avengers":j.includes("passed")?W="log-pass":(j.includes("initialized")||j.includes("triggered")||j.includes("aborted"))&&(W="log-system"),v.jsxs("div",{className:`game-log-entry ${W}`,children:[v.jsxs("span",{className:"log-number",children:["#",r.logs.length-X]}),v.jsx("span",{className:"log-text",children:j})]},r.logs.length-X)})]})]})]}),v.jsxs("div",{className:`player-panel right ${on?"":"collapsed"}`,children:[v.jsxs("div",{className:"mobile-player-summary mobile-only",children:[v.jsxs("div",{className:"player-info",children:[v.jsx("span",{className:"player-name",style:{color:B.id===r.players[r.currentPlayerIndex].id?"var(--marvel-green)":"white"},children:B.name.length>10?B.name.slice(0,10)+"...":B.name}),v.jsxs("span",{className:"player-points",children:[B.points," VP"]}),v.jsxs("div",{className:"player-tokens",children:[["red","blue","yellow","purple","orange"].map(j=>B.tokens[j]>0&&v.jsx("div",{className:"mini-token",style:{background:`var(--marvel-${j})`},children:B.tokens[j]},j)),B.tokens.gray>0&&v.jsx("div",{className:"mini-token",style:{background:"#888"},children:B.tokens.gray})]}),v.jsxs("span",{style:{color:"#888",fontSize:"0.75rem"},children:[B.tableau.length," cards recruited"]})]}),v.jsx("button",{className:"toggle-btn",onClick:()=>Da(!on),children:on?"":""})]}),v.jsx("div",{className:`player-list-section ${on?"":"hidden-mobile"}`,style:{flex:1,overflowY:"auto"},children:r.players.map(j=>v.jsx(t_,{player:j,isActive:r.players.indexOf(j)===r.currentPlayerIndex,onCardClick:qa,onLocationClick:I,isMe:j.id===l,hasAvengersTile:j.id===r.avengersTileOwnerId,onAvengersClick:()=>te(!0)},j.id))})]}),N&&v.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},onClick:()=>Y(null),children:v.jsxs("div",{className:"glass-panel",style:{textAlign:"center",border:"1px solid var(--marvel-blue)",boxShadow:"0 0 30px var(--marvel-blue)"},onClick:j=>j.stopPropagation(),children:[v.jsx("h3",{children:N.name||"Selected Card"}),v.jsx("div",{style:{margin:"20px auto",display:"flex",justifyContent:"center"},children:v.jsx("div",{id:"modal-card-view",style:{transform:"scale(1.5)",margin:"30px"},children:v.jsx(hs,{card:N,onClick:()=>{},disabled:!0,noAnimate:!0,hideName:!0})})}),v.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[(()=>{const j=B,X=j.tableau.some(ie=>ie.id===N.id),W=j.hand.some(ie=>ie.id===N.id);if(r.players.some(ie=>ie.id!==j.id&&(ie.tableau.some(ue=>ue.id===N.id)||ie.hand.some(ue=>ue.id===N.id))))return v.jsx("button",{disabled:!0,style:{padding:"12px 24px",background:"#555",color:"#aaa",border:"none",borderRadius:"8px",cursor:"not-allowed"},children:"Opponent's Card"});if(X)return v.jsx("button",{disabled:!0,style:{padding:"12px 24px",background:"#555",color:"#aaa",border:"none",borderRadius:"8px",cursor:"not-allowed"},children:"Already Owned"});const me=(()=>{if(Mi(N))return null;const ie={red:0,blue:0,yellow:0,purple:0,orange:0};j.tableau.forEach(Te=>{Te.bonus&&ie[Te.bonus]!==void 0&&ie[Te.bonus]++});const ue=N.cost;let De=0,Et=j.tokens.gray;const Ye=[];for(const Te of["red","blue","yellow","purple","orange"]){const Be=ue[Te]||0,zn=Math.max(0,Be-(ie[Te]||0));if(j.tokens[Te]<zn){const Mn=zn-j.tokens[Te];De+=Mn,Ye.push(`${Mn} ${Te.charAt(0).toUpperCase()+Te.slice(1)}`)}}return Et>=De?null:`Missing: ${Ye.join(", ")}`})();return v.jsxs(v.Fragment,{children:[Mi(N)?v.jsx("button",{className:"btn-primary",onClick:()=>$r("RECRUIT"),children:(()=>{const ie={red:0,blue:0,yellow:0,purple:0,orange:0};j.tableau.forEach(Ye=>{Ye.bonus&&ie[Ye.bonus]!==void 0&&ie[Ye.bonus]++});const ue=N.cost,De=[];let Et=0;for(const Ye of["red","blue","yellow","purple","orange"]){const $e=ue[Ye]||0,Te=Math.max(0,$e-(ie[Ye]||0));if(Te>0){const Be=j.tokens[Ye];Be>=Te?De.push(`${Te} ${Ye.charAt(0).toUpperCase()+Ye.slice(1)}`):(Be>0&&De.push(`${Be} ${Ye.charAt(0).toUpperCase()+Ye.slice(1)}`),Et+=Te-Be)}}return Et>0&&De.push(`${Et} Shield`),De.length===0?"Recruit (Free)":`Recruit (${De.join(", ")})`})()}):v.jsx("button",{disabled:!0,style:{padding:"12px 24px",background:"#555",color:"#aaa",border:"none",borderRadius:"8px",cursor:"not-allowed"},children:me||"Cannot Afford"}),!W&&(j.hand.length<3?v.jsx("button",{className:"btn-primary",style:{filter:"hue-rotate(90deg)"},onClick:()=>$r("RESERVE"),children:"Reserve"}):v.jsx("button",{disabled:!0,style:{padding:"12px 24px",background:"#555",color:"#aaa",border:"none",borderRadius:"8px",cursor:"not-allowed"},children:"Max Reserved (3)"}))]})})(),v.jsx("button",{style:{padding:"10px",background:"transparent",border:"1px solid #666",color:"white",borderRadius:"4px",cursor:"pointer"},onClick:()=>Y(null),children:"Close"})]}),v.jsx("p",{style:{fontSize:"0.8rem",color:"#aaa",marginTop:"10px"},children:"Recruit adds to Tableau. Reserve adds to Hand + 1 Shield."})]})}),ce&&v.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},onClick:()=>te(!1),children:v.jsxs("div",{className:"glass-panel",style:{textAlign:"center",border:"1px solid white",boxShadow:"0 0 30px white"},onClick:j=>j.stopPropagation(),children:[v.jsx("h3",{children:"Avengers Assemble Tile"}),v.jsx("div",{style:{margin:"20px auto",display:"flex",justifyContent:"center"},children:v.jsx("div",{style:{transform:"scale(1.5)",margin:"30px"},children:v.jsxs("div",{className:"card location",style:{width:"130px",height:"130px",backgroundImage:`url("${os}")`,backgroundSize:"cover",borderRadius:"10px",border:"1px solid white",display:"flex",flexDirection:"column",pointerEvents:"none"},children:[v.jsx("div",{className:"card-header",children:v.jsx("span",{className:"card-points",style:{textShadow:"0 0 5px gold, 0 1px 2px black",color:"white"},children:"3"})}),v.jsx("div",{className:"card-cost",style:{flexDirection:"column-reverse"},children:v.jsx("div",{className:"cost-bubble",style:{borderRadius:"25%",background:"linear-gradient(135deg, darkgray, black)",color:"white",border:"1px solid white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},children:"3"})})]})})}),v.jsx("div",{style:{marginBottom:"20px",color:"#ddd"},children:(()=>{const j=B,X=j.tableau.reduce((me,ie)=>me+(ie.avengersTag||0),0),W=r.avengersTileOwnerId;if(W===j.id)return v.jsx("span",{style:{color:"lime",fontWeight:"bold"},children:"You currently hold this title!"});let Ee=3;if(W){const me=r.players.find(ie=>ie.id===W);me&&(Ee=me.tableau.reduce((ue,De)=>ue+(De.avengersTag||0),0)+1)}if(X>=Ee)return v.jsx("span",{style:{color:"lime",fontWeight:"bold"},children:"You qualify for this title!"});{const me=Ee-X;return v.jsxs("span",{children:["Missing: ",me," Avenger Card",me>1?"s":""]})}})()}),v.jsx("button",{style:{padding:"10px",background:"transparent",border:"1px solid #666",color:"white",borderRadius:"4px",cursor:"pointer"},onClick:()=>te(!1),children:"Close"})]})}),r.pendingLocationSelection&&r.pendingLocationSelection.length>1&&A&&v.jsx("div",{style:{position:"fixed",top:"80px",left:"50%",transform:"translateX(-50%)",background:"rgba(0, 0, 0, 0.8)",border:"1px solid gold",borderRadius:"20px",padding:"10px 30px",color:"gold",fontWeight:"bold",fontSize:"1.2rem",boxShadow:"0 0 20px rgba(255, 215, 0, 0.3)",zIndex:90},children:"Selection Required: Choose a location to claim"}),H&&v.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},onClick:()=>I(null),children:v.jsxs("div",{className:"glass-panel",style:{textAlign:"center",border:"1px solid white",boxShadow:"0 0 30px white"},onClick:j=>j.stopPropagation(),children:[v.jsx("h3",{children:H.name}),v.jsx("div",{style:{margin:"20px auto",display:"flex",justifyContent:"center"},children:v.jsx("div",{style:{transform:"scale(1.5)",margin:"30px"},children:v.jsx(ic,{location:H,disabled:!0,hideName:!0})})}),v.jsx("div",{style:{marginBottom:"20px",color:"#ddd"},children:(()=>{const j=B,X=r.players.find(ie=>ie.locations.some(ue=>ue.id===H.id));if(X)return v.jsxs("span",{style:{color:"gold",fontWeight:"bold"},children:["Claimed by ",X.name]});const W={red:0,blue:0,yellow:0,purple:0,orange:0};j.tableau.forEach(ie=>{ie.bonus&&W[ie.bonus]!==void 0&&W[ie.bonus]++});const Ee=[];let me=!0;return Object.keys(H.requirements).forEach(ie=>{const ue=H.requirements[ie]||0,De=W[ie]||0;De<ue&&(me=!1,Ee.push(`${ue-De} ${ie.charAt(0).toUpperCase()+ie.slice(1)}`))}),me?v.jsx("span",{style:{color:"lime",fontWeight:"bold"},children:"You qualify for this location!"}):v.jsxs("span",{children:["Missing: ",Ee.join(", ")]})})()}),v.jsx("button",{style:{padding:"10px",background:"transparent",border:"1px solid #666",color:"white",borderRadius:"4px",cursor:"pointer"},onClick:()=>I(null),children:"Close"})]})}),J&&v.jsx("div",{className:`toast-notification ${J.type==="success"?"info":J.type}`,children:v.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:J.msg})}),v.jsxs("div",{className:"game-logs-panel",children:[v.jsxs("button",{className:`game-logs-toggle ${Gt?"expanded":""}`,onClick:()=>zi(!Gt),children:[v.jsx("span",{className:"log-icon",children:""}),v.jsx("span",{children:"Game Logs"}),v.jsx("span",{className:"log-count",children:r.logs.length}),v.jsx("span",{className:"toggle-arrow",children:Gt?"":""})]}),Gt&&v.jsxs("div",{className:"game-logs-content",children:[v.jsx("div",{className:"game-logs-header",children:"Recent Activity"}),r.logs.slice(-25).reverse().map((j,X)=>{let W="";return j.includes("took tokens")?W="log-tokens":j.includes("recruited")?W="log-recruit":j.includes("reserved")?W="log-reserve":j.includes("location")?W="log-location":j.includes("Avengers")?W="log-avengers":j.includes("passed")?W="log-pass":(j.includes("initialized")||j.includes("triggered")||j.includes("aborted"))&&(W="log-system"),v.jsxs("div",{className:`game-log-entry ${W}`,children:[v.jsxs("span",{className:"log-number",children:["#",r.logs.length-X]}),v.jsx("span",{className:"log-text",children:j})]},r.logs.length-X)})]})]}),r.status==="GAME_OVER"&&v.jsxs(v.Fragment,{children:[!Z&&v.jsxs("div",{style:{position:"fixed",top:"10px",left:"50%",transform:"translateX(-50%)",zIndex:3e3,background:"rgba(0,0,0,0.8)",padding:"10px 20px",borderRadius:"20px",border:"1px solid gold",display:"flex",alignItems:"center",gap:"10px",boxShadow:"0 0 10px gold"},children:[v.jsxs("span",{style:{color:"gold",fontWeight:"bold"},children:["Game Over - ",r.winner," Wins!"]}),v.jsx("button",{onClick:()=>de(!0),className:"btn-primary",style:{fontSize:"0.8rem",padding:"5px 10px"},children:"View Results"})]}),Z&&v.jsx("div",{className:"victory-modal",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:2e3},children:v.jsxs("div",{className:"victory-content",style:{display:"flex",flexDirection:"column",alignItems:"center",maxHeight:"100vh",overflowY:"auto",padding:"20px",width:"100%",boxSizing:"border-box"},children:[v.jsx("h1",{className:"victory-title",style:{fontSize:"4rem",color:"gold",textShadow:"0 0 20px orange",marginBottom:"20px",textAlign:"center"},children:"Game Over!"}),v.jsxs("h2",{className:"victory-subtitle",style:{fontSize:"2rem",color:"white",marginBottom:"40px",textAlign:"center"},children:[r.winner," Wins!"]}),v.jsx("div",{className:"victory-results-grid",style:{display:"flex",gap:"20px"},children:r.players.map(j=>v.jsxs("div",{className:"victory-card",style:{background:j.name===r.winner?"rgba(255, 215, 0, 0.2)":"rgba(255,255,255,0.1)",padding:"20px",borderRadius:"10px",border:j.name===r.winner?"2px solid gold":"1px solid #444",textAlign:"center",minWidth:"200px"},children:[v.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"10px"},children:j.name}),v.jsxs("div",{style:{fontSize:"1.2rem",color:"var(--marvel-yellow)"},children:[j.points," Victory Points"]}),v.jsxs("div",{style:{fontSize:"0.9rem",color:"#aaa"},children:[j.tableau.length," Cards"]})]},j.id))}),v.jsxs("div",{className:"victory-actions",style:{marginTop:"50px",display:"flex",gap:"20px"},children:[v.jsx("button",{onClick:()=>de(!1),style:{padding:"15px 30px",fontSize:"1.2rem",cursor:"pointer",background:"transparent",color:"white",border:"1px solid white",borderRadius:"5px"},children:"View Board"}),v.jsx("button",{onClick:()=>{sessionStorage.removeItem("splendor_gameState"),sessionStorage.removeItem("splendor_host"),sessionStorage.removeItem("splendor_gameId"),localStorage.removeItem("splendor_gameId"),localStorage.removeItem("splendor_isHost"),window.location.reload()},style:{padding:"15px 30px",fontSize:"1.2rem",cursor:"pointer",background:"var(--marvel-blue)",color:"white",border:"none",borderRadius:"5px"},children:"Return to Lobby"})]})]})})]})]})};function i_(){const[r,a]=Q.useState(""),l=Q.useRef(!1);Q.useEffect(()=>{l.current||(l.current=!0,en.auth.getSession().then(({data:{session:ne}})=>{ne?(console.log("Existing session found:",ne.user.id),a(ne.user.id)):(console.log("No session, signing in anonymously..."),mb().then(Me=>{console.log("Signed in anonymously with ID:",Me),Me&&a(Me)}))}))},[]);const{state:s,dispatch:c,mpState:d,hostGame:h,joinGame:g,closeLobby:p,leaveGame:y}=Ub(r),[b,T]=Q.useState(""),[w,C]=Q.useState(""),[A,U]=Q.useState(60),[B,G]=Q.useState(""),[$,H]=Q.useState(!1),[I,ce]=Q.useState(!1),[te,J]=Q.useState(!0);Q.useEffect(()=>{B&&G("")},[w,b]);const Ne=$?null:d.playerId,Ve=$||d.connectionStatus==="connected"&&s.status!=="LOBBY",$t=d.connectionStatus==="connected"&&s.status==="LOBBY",St=()=>{if(s.players.length<2){alert("Need at least 2 players!");return}let ne=[...s.players];if(te&&ne.length>=2)for(let Me=ne.length-1;Me>0;Me--){const je=Math.floor(Math.random()*(Me+1));[ne[Me],ne[je]]=[ne[je],ne[Me]]}c({type:"START_GAME",players:ne,config:s.config})};return v.jsx("div",{className:"App",children:!Ve&&!$t?v.jsx("div",{className:"lobby-container",children:v.jsxs("div",{className:"glass-panel",style:{textAlign:"center",maxWidth:"500px"},children:[v.jsx("h1",{style:{fontFamily:"Impact",letterSpacing:"2px",background:"linear-gradient(to right, #f00, #fc0)",WebkitBackgroundClip:"text",color:"transparent",fontSize:"3rem",margin:"0"},children:"MARVEL SPLENDOR"}),v.jsx("p",{style:{color:"#aaa",marginBottom:"2rem"},children:"Because Colonist Sucks!"}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[v.jsxs("div",{style:{borderBottom:"1px solid #444",paddingBottom:"1rem",marginBottom:"1rem"},children:[v.jsx("h3",{children:"Online Multiplayer"}),v.jsx("div",{style:{marginBottom:"15px"},children:v.jsx("input",{type:"text",placeholder:"Enter Your Name",value:w,onChange:ne=>C(ne.target.value),style:{padding:"10px",borderRadius:"5px",border:"none",background:"rgba(255,255,255,0.1)",color:"white",width:"100%",boxSizing:"border-box",textAlign:"center",fontSize:"1.1rem"}})}),r?d.connectionStatus==="idle"||d.connectionStatus==="error"?v.jsxs(v.Fragment,{children:[v.jsxs("div",{style:{marginBottom:"20px",color:"#ccc",fontSize:"0.9rem"},children:[v.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem"},children:"Turn Timer"}),v.jsxs("div",{style:{display:"inline-flex",background:"rgba(255,255,255,0.05)",borderRadius:"25px",border:"1px solid #444",overflow:"hidden"},children:[[30,60,90,120,0].map(ne=>v.jsx("button",{onClick:()=>U(ne),style:{padding:"8px 16px",borderRadius:0,border:"none",borderRight:"1px solid #555",background:A===ne?"#4facfe":"transparent",color:A===ne?"white":"#aaa",cursor:"pointer",fontSize:"0.85rem",fontWeight:A===ne?"bold":"normal",transition:"all 0.2s",minWidth:"50px"},children:ne===0?"No Timer":`${ne}s`},ne)),v.jsx("div",{style:{position:"relative",display:"flex",alignItems:"center",background:[30,60,90,120,0].includes(A)?"transparent":"#4facfe"},children:v.jsx("input",{type:"number",min:"10",max:"600",value:A,onChange:ne=>U(Math.max(0,parseInt(ne.target.value)||0)),style:{width:"60px",padding:"8px 10px",border:"none",background:"transparent",color:[30,60,90,120,0].includes(A)?"#aaa":"white",textAlign:"center",fontSize:"0.85rem",fontWeight:[30,60,90,120,0].includes(A)?"normal":"bold",outline:"none",MozAppearance:"textfield"},placeholder:"Custom"})})]})]}),B&&v.jsx("div",{style:{color:"#ff5555",marginBottom:"10px",fontSize:"0.9rem",background:"rgba(255,0,0,0.1)",padding:"5px",borderRadius:"4px"},children:B}),v.jsx("button",{className:"btn-primary",onClick:()=>{w.trim()?h(w,r,A):G("Please enter your name first!")},children:"Create New Game"}),v.jsx("div",{style:{margin:"10px"},children:"or"}),v.jsxs("div",{style:{display:"flex",gap:"5px"},children:[v.jsx("input",{type:"text",placeholder:"Enter Game Code (UUID)",value:b,onChange:ne=>T(ne.target.value),style:{padding:"10px",borderRadius:"5px",border:"none",background:"rgba(255,255,255,0.1)",color:"white",flex:1}}),v.jsx("button",{className:"btn-primary",onClick:()=>{b.trim()&&w.trim()?g(b,w,r):G("Please enter your name and Game Code!")},children:"Join"})]})]}):v.jsx("div",{style:{animation:"pulse 2s infinite"},children:"Connecting..."}):v.jsx("div",{style:{color:"#aaa"},children:"Establishing secure connection..."}),d.errorMessage&&v.jsxs("div",{style:{marginTop:"10px",color:"red",background:"rgba(255,0,0,0.1)",padding:"10px",borderRadius:"5px"},children:[v.jsx("strong",{children:"Error:"})," ",d.errorMessage,v.jsx("br",{}),v.jsx("small",{onClick:()=>window.location.reload(),style:{textDecoration:"underline",cursor:"pointer"},children:"Reset"})]})]}),v.jsx("div",{children:v.jsx("button",{style:{background:"transparent",border:"1px solid #555",color:"#888",padding:"8px 16px",borderRadius:"4px",cursor:"pointer"},onClick:()=>H(!0),children:"Play Local Hotseat (Dev Mode)"})})]})]})}):$t?v.jsx("div",{className:"lobby-container",children:v.jsxs("div",{className:"glass-panel",style:{textAlign:"center"},children:[v.jsx("h2",{children:"Waiting Room"}),v.jsxs("div",{onClick:()=>{d.gameId&&(navigator.clipboard.writeText(d.gameId),ce(!0),setTimeout(()=>ce(!1),2e3))},style:{background:"#222",padding:"10px",borderRadius:"5px",userSelect:"all",cursor:"pointer",border:"1px dashed #555",marginBottom:"20px",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",transition:"background 0.2s"},title:"Click to Copy",onMouseEnter:ne=>ne.currentTarget.style.background="#333",onMouseLeave:ne=>ne.currentTarget.style.background="#222",children:[v.jsx("span",{style:{fontFamily:"monospace",fontSize:"1.2rem",letterSpacing:"1px"},children:d.gameId}),v.jsx("span",{style:{background:I?"#4caf50":"#444",padding:"4px 8px",borderRadius:"4px",fontSize:"0.8rem",color:"white",transition:"all 0.2s",minWidth:"55px",textAlign:"center"},children:I?"Copied!":"Copy"})]}),v.jsx("small",{children:"Share this Game Code"}),v.jsxs("div",{style:{marginTop:"20px",textAlign:"left"},children:[v.jsxs("h4",{children:["Players (",s.players.length,"/4)"]}),v.jsx("ul",{children:s.players.map(ne=>v.jsxs("li",{style:{color:ne.id===r?"lime":"white"},children:[ne.name," ",ne.id===r?"(You)":""]},ne.id))})]}),d.isHost?v.jsxs(v.Fragment,{children:[v.jsx("div",{style:{marginBottom:"15px"},children:v.jsxs("label",{style:{display:"inline-flex",alignItems:"center",cursor:"pointer",gap:"8px",userSelect:"none"},children:[v.jsx("input",{type:"checkbox",checked:te,onChange:ne=>J(ne.target.checked),style:{cursor:"pointer",width:"18px",height:"18px",accentColor:"#4facfe"}}),v.jsx("span",{style:{color:"#ccc",fontSize:"0.95rem"},children:"Randomize Player Order"})]})}),v.jsx("button",{className:"btn-primary",onClick:St,disabled:s.players.length<2,style:{opacity:s.players.length<2?.5:1,cursor:s.players.length<2?"not-allowed":"pointer"},children:s.players.length<2?"Waiting for 2nd Player...":"Start Game"})]}):v.jsx("p",{children:"Waiting for host to start..."}),v.jsx("div",{style:{marginTop:"30px",borderTop:"1px solid #444",paddingTop:"20px"},children:d.isHost?v.jsx("button",{style:{background:"rgba(255, 0, 0, 0.2)",color:"#ff4444",border:"1px solid #ff4444",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"0.9rem"},onClick:ne=>{const Me=ne.currentTarget;Me.innerText==="Confirm Close?"?p():(Me.innerText="Confirm Close?",setTimeout(()=>Me.innerText="Close Lobby",3e3))},children:"Close Lobby"}):v.jsx("button",{style:{background:"rgba(255, 0, 0, 0.2)",color:"#ff4444",border:"1px solid #ff4444",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"0.9rem"},onClick:()=>{window.confirm("Are you sure you want to leave the game?")&&y()},children:"Leave Game"})})]})}):v.jsx(a_,{state:s,dispatch:c,myPeerId:Ne||($?s.players[s.currentPlayerIndex].id:null),myUUID:r,closeLobby:p,isHost:d.isHost})})}zm.createRoot(document.getElementById("root")).render(v.jsx(Q.StrictMode,{children:v.jsx(i_,{})}));
